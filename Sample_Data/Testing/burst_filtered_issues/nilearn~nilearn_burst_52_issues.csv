,rectype,issueid,project_owner,project_name,actor,time,text,action,title,clean_text,Test,formatted_time
1,issue_title,453,nilearn,nilearn,bcipolli,2015-02-21 15:51:04,"In one case, the random state is ignored without notification to the user.  

``` python
        random_state = check_random_state(self.random_state)
        seeds = random_state.randint(np.iinfo(np.int32).max, size=self.n_init)

        if (LooseVersion(sklearn.__version__).version > [0, 12]):
            # random_state in fastica was added in 0.13
            results = Parallel(n_jobs=self.n_jobs, verbose=self.verbose)(
                delayed(fastica)(self.components_.T,
                    whiten=True, fun='cube', random_state=seed,
                    max_iter=self.max_iter)
                for seed in seeds)
        else:
            results = Parallel(n_jobs=1, verbose=self.verbose)(
                delayed(fastica)(self.components_.T, whiten=True, fun='cube')
                for seed in seeds)
```

I suggest to create a small wrapper function that is passed to parallel, which set the random state.  This would allow the `if...else` to choose a function (much like https://github.com/nilearn/nilearn/blob/master/nilearn/input_data/multi_nifti_masker.py#L176 ), which would allow only one specification of the parameters (note that `n_jobs` is hard-coded in one case here, the second time I've come across parameter inconsistencies when they're being copied).

Another reasonable option is to warn the user that the random state is being ignored.

Of course, hybrids (warn the user but still refactor the code to have one large set of generalized parameters, in addition to the `if...else` specific ones) are possible!
",start issue,"`random_state` is silently ignored within CanICA, for sklearn version < 0.13",In one case random state ignor without notif user I suggest creat small wrapper function pass parallel set random state thi would allow choos function much like would allow one specif paramet note hardcod one case second time ive come across paramet inconsist theyr copi anoth reason option warn user random state ignor Of cours hybrid warn user still refactor code one larg set gener paramet addit specif one possibl,N,2015-03-04 20:32:37
2,issue_closed,453,nilearn,nilearn,GaelVaroquaux,2015-03-04 20:32:37,,closed issue,"`random_state` is silently ignored within CanICA, for sklearn version < 0.13",,N,2015-02-21 16:00:40
3,issue_comment,453,nilearn,nilearn,GaelVaroquaux,2015-02-21 16:00:40,"> I suggest to create a small wrapper function that is passed to parallel, which
> set the random state.

For scikit-learn below 0.13, it's not possible to set the random state of
FastICA. This was an oversight in the code of scikit-learn.

> note that n_jobs is hard-coded in one case here, the second time I've
> come across parameter inconsistencies when they're being copied).

Yes, because parallel computing without control of the random_state would
just duplicate the same random number generator, and thus do exactly the
same operations in each subprocess.

> Another reasonable option is to warn the user that the random state is being
> ignored.

It's not. It's actually n_jobs that is ignored.

How important is this? The impact for the user is that if scikit-learn
version is below 0.13, n_jobs is ignored, but the code works well. 0.13
came out quite a while ago, so the people that are impacted by this minor
problem are actually very few. They will be less and less as time goes.
So my gut feeling would be to ignore the problem :).
",,,for scikitlearn 013 possibl set random state fastica thi oversight code scikitlearn ye parallel comput without control randomst would duplic random number gener thu exactli oper subprocess it it actual njob ignor how import the impact user scikitlearn version 013 njob ignor code work well 013 came quit ago peopl impact minor problem actual they less less time goe So gut feel would ignor problem,N,2015-02-21 16:06:20
4,issue_comment,453,nilearn,nilearn,bcipolli,2015-02-21 16:06:20,"OK.  For me, it's quite important, since support of sklearn `0.12.1` is listed (we can't know who, if anybody, will use it).  But I'm of course willing to defer.

How about simply adding a warning inside the `if` check, and a test case to test the warning?  I'm happy to take care of it.  I can also mention there about `n_jobs` being ignored... :)

Bug again, willing to defer.
",,,OK for quit import sinc support sklearn list cant know anybodi use but Im cours will defer how simpli ad warn insid check test case test warn Im happi take care I also mention ignor bug will defer,Y,2015-02-21 16:08:08
5,issue_comment,453,nilearn,nilearn,GaelVaroquaux,2015-02-21 16:08:08,"> OK. For me, it's quite important, since support of sklearn 0.12.1 is
> listed (we can't know who, if anybody, will use it).

Yes, but it's not a bug. It will not lead to errors or wrong results.
",,,ye bug It lead error wrong result,N,2015-02-21 16:18:05
6,issue_comment,453,nilearn,nilearn,bcipolli,2015-02-21 16:18:05,"> Yes, but it's not a bug. It will not lead to errors or wrong results.

I agree!  I didn't mean to write ""bug again"" lol :)  

It does, however, mislead the user--if there is a `random_state` parameter, I expect that by using it, I'll get the same results every time.  Same with `n_jobs`--if I pass it, I expect it'll be used.

Again, happy to submit a PR that warns the user, to avoid potential confusion.  If you're still not convinced that it's worth the effort / lines of code, I'll just be quiet :)
",,,I agre I didnt mean write bug lol It howev mislead userif paramet I expect use ill get result everi time same I pass I expect itll use again happi submit PR warn user avoid potenti confus If your still convinc worth effort line code ill quiet,N,2015-03-04 20:32:37
1,issue_title,520,nilearn,nilearn,banilo,2015-03-23 15:22:20,"tries to fix #519
",start issue,Vmaxnan,tri fix 519,N,2015-03-27 15:10:08
2,issue_closed,520,nilearn,nilearn,AlexandreAbraham,2015-03-27 15:10:08,,closed issue,Vmaxnan,,N,2015-03-23 15:22:20
3,pull_request_title,520,nilearn,nilearn,banilo,2015-03-23 15:22:20,"tries to fix #519
",72089d5f9fa21cabb5bd8fb202b817b3973801a2,Vmaxnan,tri fix 519,N,2015-03-27 15:10:08
4,pull_request_merged,520,nilearn,nilearn,AlexandreAbraham,2015-03-27 15:10:08,Vmaxnan,3fec2ca4430b1d6b45798d99a5f7674c34398e2d,Pull request merge from banilo/nilearn:vmaxnan to nilearn/nilearn:master,vmaxnan,N,2015-03-23 15:44:43
5,issue_comment,520,nilearn,nilearn,GaelVaroquaux,2015-03-23 15:44:43,"Could you please add a test.
",,,could pleas add test,Y,2015-03-24 21:33:12
6,pull_request_commit_comment,520,nilearn,nilearn,bthirion,2015-03-24 21:33:12,"Please remove these lines.
",72089d5f9fa21cabb5bd8fb202b817b3973801a2,"(None, '', u'nilearn/plotting/tests/test_img_plotting.py')",pleas remov line,N,2015-03-25 15:30:57
7,pull_request_commit_comment,520,nilearn,nilearn,AlexandreAbraham,2015-03-25 15:30:57,"Not a good idea to pop both values if only one of them is nan.
",72089d5f9fa21cabb5bd8fb202b817b3973801a2,"(None, '', u'nilearn/plotting/img_plotting.py')",not good idea pop valu one nan,N,2015-03-25 15:31:31
8,pull_request_commit_comment,520,nilearn,nilearn,AlexandreAbraham,2015-03-25 15:31:31,"Is there a reason to remove them in the first place?
",72089d5f9fa21cabb5bd8fb202b817b3973801a2,"(None, '', u'nilearn/plotting/tests/test_img_plotting.py')",Is reason remov first place,N,2015-03-25 15:35:00
9,pull_request_commit_comment,520,nilearn,nilearn,banilo,2015-03-25 15:35:00,"These lines do not pass the tests with the vmin/vmax patch.
",72089d5f9fa21cabb5bd8fb202b817b3973801a2,"(None, '', u'nilearn/plotting/tests/test_img_plotting.py')",these line pass test vminvmax patch,Y,2015-03-25 15:38:20
10,pull_request_commit_comment,520,nilearn,nilearn,GaelVaroquaux,2015-03-25 15:38:20,"> These lines do not pass the tests with the vmin/vmax patch.

Then the patch has a regression and this needs to be fixed.
",72089d5f9fa21cabb5bd8fb202b817b3973801a2,"(None, '', u'nilearn/plotting/tests/test_img_plotting.py')",then patch regress need fix,N,2015-03-25 15:41:37
11,pull_request_commit_comment,520,nilearn,nilearn,AlexandreAbraham,2015-03-25 15:41:37,"Use warnings.warn
",72089d5f9fa21cabb5bd8fb202b817b3973801a2,"(None, '', u'nilearn/plotting/img_plotting.py')",use warningswarn,N,2015-03-27 14:10:27
12,pull_request_commit_comment,520,nilearn,nilearn,AlexandreAbraham,2015-03-27 14:10:27,"FYI: this failing test is actually failing for a real reason because of a bug in your code. Fix it and we can merge ;)
",72089d5f9fa21cabb5bd8fb202b817b3973801a2,"(None, '', u'nilearn/plotting/tests/test_img_plotting.py')",fyi fail test actual fail real reason bug code fix merg,Y,2015-03-27 14:11:46
13,pull_request_commit_comment,520,nilearn,nilearn,AlexandreAbraham,2015-03-27 14:11:46,"`if ('vmax' in kwargs and kwargs['vmax'] is not None and np.isnan(kwargs['vmax'])):`
",72089d5f9fa21cabb5bd8fb202b817b3973801a2,"(None, '', u'nilearn/plotting/img_plotting.py')",,N,2015-03-27 14:20:05
14,pull_request_commit_comment,520,nilearn,nilearn,lesteve,2015-03-27 14:20:05,"Can you use a `with tempfile.TemporaryFile` as above? IIRC this will cause a warning with Python 3.
",72089d5f9fa21cabb5bd8fb202b817b3973801a2,"(None, '', u'nilearn/plotting/tests/test_img_plotting.py')",can use iirc caus warn python 3,N,2015-03-27 14:25:49
15,pull_request_commit_comment,520,nilearn,nilearn,lesteve,2015-03-27 14:25:49,"This comment is lying
",72089d5f9fa21cabb5bd8fb202b817b3973801a2,"(None, '', u'nilearn/plotting/tests/test_img_plotting.py')",thi comment lie,N,2015-03-27 15:02:15
16,pull_request_commit_comment,520,nilearn,nilearn,banilo,2015-03-27 15:02:15,"Why?

Updated the rest.

2015-03-27 15:25 GMT+01:00 Loïc Estève notifications@github.com:

> In nilearn/plotting/tests/test_img_plotting.py
> https://github.com/nilearn/nilearn/pull/520#discussion_r27298367:
> 
> > -    # Test saving with empty plot
> 
> This comment is lying
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/520/files#r27298367.

## 

Viele Grüße,
Danilo
",72089d5f9fa21cabb5bd8fb202b817b3973801a2,"(None, '', u'nilearn/plotting/tests/test_img_plotting.py')",whi updat rest 20150327 1525 gmt0100 loïc estèv notificationsgithubcom viel grüße danilo,N,2015-03-27 15:33:36
17,pull_request_commit_comment,520,nilearn,nilearn,lesteve,2015-03-27 15:33:36,"It would be great to check that the expected warning has been emitted. Look at `git grep catch_warnings` for some examples in our code.
",72089d5f9fa21cabb5bd8fb202b817b3973801a2,"(20, '', u'nilearn/plotting/tests/test_img_plotting.py')",It would great check expect warn emit look exampl code,N,2015-03-23 15:18:03
18,pull_request_commit,520,nilearn,nilearn,banilo,2015-03-23 15:18:03,not allow nan for vmin/max,d3241bb2a6c241faa8acd2b6fde6565e90256ab0,,allow nan vminmax,N,2015-03-23 15:20:03
19,pull_request_commit,520,nilearn,nilearn,banilo,2015-03-23 15:20:03,Add tip,9f1830d0ca76cfe1abe5795ab71762a24faecf72,,add tip,N,2015-03-24 12:32:27
20,pull_request_commit,520,nilearn,nilearn,banilo,2015-03-24 12:32:27,added test for vmax=nan,e1d206e89d625dc417e2feafddb192d72c89944d,,ad test vmaxnan,N,2015-03-25 15:40:37
21,pull_request_commit,520,nilearn,nilearn,banilo,2015-03-25 15:40:37,cleanups,929581ad603b239e282b4cd1b83cd0d8cb8b4204,,cleanup,N,2015-03-25 17:55:41
22,pull_request_commit,520,nilearn,nilearn,banilo,2015-03-25 17:55:41,use warnings,07dd94c61698eccad9f614f1b6ecb2505fc251ee,,use warn,N,2015-03-27 15:02:20
23,pull_request_commit,520,nilearn,nilearn,banilo,2015-03-27 15:02:20,cleanups,c72d79bfc57f390ad84ad02c8825bd007310b866,,cleanup,N,2015-03-27 15:04:44
1,issue_title,459,nilearn,nilearn,bcipolli,2015-02-24 09:53:39,"Fix for #458.  Now, a bit more checking occurs before allocating memory:
- If a transposed matrix (n_features, n_slices) is passed in, it is transposed before assignment.
- If a 2D matrix with no dimensions of size `n_features` exists, a friendly error is thrown.
",start issue,Avoid exploding memory on transpose error,fix 458 now bit check occur alloc memori If transpos matrix nfeatur nslice pass transpos assign If 2D matrix dimens size exist friendli error thrown,N,2015-02-27 00:19:29
2,issue_closed,459,nilearn,nilearn,AlexandreAbraham,2015-02-27 00:19:29,,closed issue,Avoid exploding memory on transpose error,,N,2015-02-24 09:53:39
3,pull_request_title,459,nilearn,nilearn,bcipolli,2015-02-24 09:53:39,"Fix for #458.  Now, a bit more checking occurs before allocating memory:
- If a transposed matrix (n_features, n_slices) is passed in, it is transposed before assignment.
- If a 2D matrix with no dimensions of size `n_features` exists, a friendly error is thrown.
",370ea18296bd5a77327342ce259e49d868d2b094,Avoid exploding memory on transpose error,fix 458 now bit check occur alloc memori If transpos matrix nfeatur nslice pass transpos assign If 2D matrix dimens size exist friendli error thrown,N,2015-02-27 00:19:29
4,pull_request_merged,459,nilearn,nilearn,AlexandreAbraham,2015-02-27 00:19:29,Avoid exploding memory on transpose error,8f320793bc538831f31425fc059b87ff8cae13ea,Pull request merge from bcipolli/nilearn:issue-458 to nilearn/nilearn:master,avoid explod memori transpos error,N,2015-02-24 10:12:23
5,issue_comment,459,nilearn,nilearn,eickenberg,2015-02-24 10:12:23,"While you are at it, could you look at the docstring of `_unmask_3D`, I think the shape of the input is wrong.

Also, I would propose to rename `_unmask_nd` to `_unmask_4d`, because it doesn't do any n-d at all and may confuse people trying to understand the code.
",,,while could look docstr I think shape input wrong also I would propos renam doesnt nd may confus peopl tri understand code,N,2015-02-24 10:26:01
6,issue_comment,459,nilearn,nilearn,bcipolli,2015-02-24 10:26:01,"Thanks for the comments!  Should all be set.
",,,thank comment should set,N,2015-02-24 10:29:51
7,issue_comment,459,nilearn,nilearn,eickenberg,2015-02-24 10:29:51,"Could you change l628 from `(n_samples,)` to `(n_features,)`? (Or am I wrong about this?)  
",,,could chang l628 Or I wrong,N,2015-02-24 10:35:27
8,issue_comment,459,nilearn,nilearn,bcipolli,2015-02-24 10:35:27,"@eickenberg good eye!  Just pushed that change now as well.
",,,eickenberg good eye just push chang well,N,2015-02-24 11:57:31
9,issue_comment,459,nilearn,nilearn,lesteve,2015-02-24 11:57:31,"You have one test failing, probably the one with the auto transpose logic that was removed.
",,,you one test fail probabl one auto transpos logic remov,Y,2015-02-24 16:21:23
10,issue_comment,459,nilearn,nilearn,bcipolli,2015-02-24 16:21:23,"@lesteve Fixed that.
@banilo Changed that and added tests (there were none).
Also, while creating new tests, noticed that the 3D and 4D errors for wrong shape were different.  Added the similar shape check to the 3D code, and updated the tests.
",,,lestev fix banilo chang ad test none also creat new test notic 3D 4D error wrong shape differ ad similar shape check 3D code updat test,Y,2015-02-27 00:19:37
11,issue_comment,459,nilearn,nilearn,AlexandreAbraham,2015-02-27 00:19:37,"Thanks !
",,,thank,N,2015-02-24 10:00:18
12,pull_request_commit_comment,459,nilearn,nilearn,lesteve,2015-02-24 10:00:18,"I'd be enclined to always throw if `X.shape[-1] != n_features` rather than have a special edge case that automagically works.
",370ea18296bd5a77327342ce259e49d868d2b094,"(None, '', u'nilearn/masking.py')",Id enclin alway throw rather special edg case automag work,N,2015-02-24 10:00:32
13,pull_request_commit_comment,459,nilearn,nilearn,AlexandreAbraham,2015-02-24 10:00:32,"I don't like this kind of magic it could lead to very weird edge cases. I think we should just raise an error.
",370ea18296bd5a77327342ce259e49d868d2b094,"(None, '', u'nilearn/masking.py')",I dont like kind magic could lead weird edg case I think rais error,N,2015-02-24 10:00:58
14,pull_request_commit_comment,459,nilearn,nilearn,lesteve,2015-02-24 10:00:58,"Could you remove these two additional lines?
",370ea18296bd5a77327342ce259e49d868d2b094,"(None, '', u'nilearn/tests/test_masking.py')",could remov two addit line,N,2015-02-24 10:01:26
15,pull_request_commit_comment,459,nilearn,nilearn,lesteve,2015-02-24 10:01:26,"Any particular reason why you rename this function?
",370ea18296bd5a77327342ce259e49d868d2b094,"(52, '', u'nilearn/tests/test_masking.py')",ani particular reason renam function,N,2015-02-24 10:02:48
16,pull_request_commit_comment,459,nilearn,nilearn,eickenberg,2015-02-24 10:02:48,"Nitpick: Can we have `X.shape[1]` here? (By the previous checks, `X` must be 2D, and it is better to be explicit)
",370ea18296bd5a77327342ce259e49d868d2b094,"(None, '', u'nilearn/masking.py')",nitpick can By previou check must 2D better explicit,N,2015-02-24 10:04:25
17,pull_request_commit_comment,459,nilearn,nilearn,eickenberg,2015-02-24 10:04:25,"I would prefer `if X.shape[0] == n_features and X.shape[1] != n_features` in order not to have inexplicable transposes one day somebody uses a lot of data or a very small mask.
",370ea18296bd5a77327342ce259e49d868d2b094,"(None, '', u'nilearn/masking.py')",I would prefer order inexplic transpos one day somebodi use lot data small mask,N,2015-02-24 10:09:59
18,pull_request_commit_comment,459,nilearn,nilearn,eickenberg,2015-02-24 10:09:59,"Or what Alex says, didn't see that.
",370ea18296bd5a77327342ce259e49d868d2b094,"(None, '', u'nilearn/masking.py')",Or alex say didnt see,N,2015-02-24 10:25:42
19,pull_request_commit_comment,459,nilearn,nilearn,bcipolli,2015-02-24 10:25:42,"This tests errors, not warnings.
",370ea18296bd5a77327342ce259e49d868d2b094,"(52, '', u'nilearn/tests/test_masking.py')",thi test error warn,Y,2015-02-24 10:36:53
20,pull_request_commit_comment,459,nilearn,nilearn,lesteve,2015-02-24 10:36:53,"Right I didn't properly expand the diff and only saw the ""2D X (should be ok) test"", sorry for that
",370ea18296bd5a77327342ce259e49d868d2b094,"(52, '', u'nilearn/tests/test_masking.py')",right I didnt properli expand diff saw 2D X ok test sorri,Y,2015-02-24 12:22:49
21,pull_request_commit_comment,459,nilearn,nilearn,GaelVaroquaux,2015-02-24 12:22:49,"+1

Sent from my phone. Please forgive brevity and mis spelling

On Feb 24, 2015, 11:00, at 11:00, ""Loïc Estève"" notifications@github.com wrote:

> > @@ -665,7 +665,15 @@ def _unmask_nd(X, mask, order=""C""):
> >      if mask.dtype != np.bool:
> >          raise ValueError(""mask must be a boolean array"")
> >      if X.ndim != 2:
> > -        raise ValueError(""X must be a 2-dimensional array"")
> > -        raise TypeError(""X must be a 2-dimensional array"")
> > -    n_features = mask.sum()
> > -    if X.shape[-1] != n_features:
> > -        # Handle (potential) transpose as a special case, as this
> > -        #   mistake can lead to system-fatal memory allocation
> >   below.
> > -        if X.shape[0] == n_features:
> > -            X = X.T
> > -        else:
> > -            raise TypeError('X must be of shape (samples, %d).' %
> >   n_features)
> 
> I'd be enclined to always throw if `X.shape[-1] != n_features` rather
> than have a special edge case that automagically works.
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/459/files#r25240484
",370ea18296bd5a77327342ce259e49d868d2b094,"(None, '', u'nilearn/masking.py')",1 sent phone pleas forgiv breviti mi spell On feb 24 2015 1100 1100 loïc estèv notificationsgithubcom wrote,N,2015-02-24 15:14:15
22,pull_request_commit_comment,459,nilearn,nilearn,banilo,2015-02-24 15:14:15,"rather TypeError?
",370ea18296bd5a77327342ce259e49d868d2b094,"(None, '', u'nilearn/masking.py')",rather typeerror,N,2015-02-23 20:07:15
23,pull_request_commit,459,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-23 20:07:15,"Use TypeError for matrix dimensionality issues, for consistency.

Conflicts:
	nilearn/masking.py",c2064dfa564827a3db7549f818047db8c947f7d5,,use typeerror matrix dimension issu consist conflict nilearnmaskingpi,N,2015-02-23 22:05:47
24,pull_request_commit,459,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-23 22:05:47,Avoid exploding memory on transpose error.,9e27961a5c6118f963c08558287d8b8cf3ace9d3,,avoid explod memori transpos error,N,2015-02-23 23:24:21
25,pull_request_commit,459,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-23 23:24:21,Fix up tests.,05c420524945de799ebb7bde0f1a1406bde08149,,fix test,N,2015-02-24 09:43:25
26,pull_request_commit,459,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-24 09:43:25,Updating tests.,bbc1d0618f0be8d66b7305cf7159142adaced721,,updat test,N,2015-02-24 10:23:57
27,pull_request_commit,459,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-24 10:23:57,"Remove auto-magic conversion of transpose, use index 1 instead of -1.",10f53c6309a92c27fb84ee94d1da755ff2dffc18,,remov automag convers transpos use index 1 instead 1,N,2015-02-24 10:34:38
28,pull_request_commit,459,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-24 10:34:38,"Fix up comments, rename function, re-lint test file.",6ae58a832fe69458d916c124638e5cf2294a0144,,fix comment renam function relint test file,N,2015-02-24 16:19:25
29,pull_request_commit,459,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-24 16:19:25,"Switch mask.dtype != bool to TypeError, add tests.",eb1ceb9e2cca025de3e3ae5e68480e338e831e5b,,switch maskdtyp bool typeerror add test,N,2015-02-24 16:19:57
1,issue_title,441,nilearn,nilearn,lesteve,2015-02-18 15:00:30,"Remaining todos:
- [x] sparse matrix support (haven't even tried yet)
- [x] add connectome to plot_adhd_covariance.py
- [x] more sanity checks on adjacency_matrix and nodes_coords

How it looks:
![connectome_plotting_1](https://cloud.githubusercontent.com/assets/1680079/6249380/2192bae4-b787-11e4-875e-4f37110e7a93.png)
![connectome_plotting_2](https://cloud.githubusercontent.com/assets/1680079/6249387/27f64b9e-b787-11e4-908c-7ad1d1cbd1e0.png)

A snippet to produce the connectome plots inside a ipython session:

``` python
import numpy as np

from nilearn import image, plotting

# Need to run the plot_adhd_covariance.py example
%run examples/connectivity/plot_adhd_covariance.py

imgs = list(image.iter_img(msdl_atlas_dataset.maps))
coords = np.array([
    map(np.asscalar, plotting.find_xyz_cut_coords(img)) for img in imgs])

cov = gsc.covariances_[..., plotted_subject]

from nilearn import plotting
np.random.seed(42)
node_colors = np.random.rand(39, 3)
display = plotting.plot_connectome(cov, coords,
                                   edges_threshold=0.38,
                                   title='threshold=0.38',
                                   nodes_kwargs={
                                       's': 50, 'c': node_colors})

display = plotting.plot_connectome(cov, coords,
                                   edges_threshold='70%',
                                   title='threshold=70%',
                                   nodes_kwargs={
                                       's': 50, 'c': node_colors})


```

Comments more than welcome while I go through the remaining todos.
",start issue,[MRG] Connectome plotting,remain todo x spars matrix support havent even tri yet x add connectom plotadhdcovariancepi x saniti check adjacencymatrix nodescoord how look connectomeplotting1 connectomeplotting2 A snippet produc connectom plot insid ipython session comment welcom I go remain todo,N,2015-02-26 08:05:52
2,issue_closed,441,nilearn,nilearn,lesteve,2015-02-26 08:05:52,,closed issue,[MRG] Connectome plotting,,N,2015-02-18 15:00:30
3,pull_request_title,441,nilearn,nilearn,lesteve,2015-02-18 15:00:30,"Remaining todos:
- [x] sparse matrix support (haven't even tried yet)
- [x] add connectome to plot_adhd_covariance.py
- [x] more sanity checks on adjacency_matrix and nodes_coords

How it looks:
![connectome_plotting_1](https://cloud.githubusercontent.com/assets/1680079/6249380/2192bae4-b787-11e4-875e-4f37110e7a93.png)
![connectome_plotting_2](https://cloud.githubusercontent.com/assets/1680079/6249387/27f64b9e-b787-11e4-908c-7ad1d1cbd1e0.png)

A snippet to produce the connectome plots inside a ipython session:

``` python
import numpy as np

from nilearn import image, plotting

# Need to run the plot_adhd_covariance.py example
%run examples/connectivity/plot_adhd_covariance.py

imgs = list(image.iter_img(msdl_atlas_dataset.maps))
coords = np.array([
    map(np.asscalar, plotting.find_xyz_cut_coords(img)) for img in imgs])

cov = gsc.covariances_[..., plotted_subject]

from nilearn import plotting
np.random.seed(42)
node_colors = np.random.rand(39, 3)
display = plotting.plot_connectome(cov, coords,
                                   edges_threshold=0.38,
                                   title='threshold=0.38',
                                   nodes_kwargs={
                                       's': 50, 'c': node_colors})

display = plotting.plot_connectome(cov, coords,
                                   edges_threshold='70%',
                                   title='threshold=70%',
                                   nodes_kwargs={
                                       's': 50, 'c': node_colors})


```

Comments more than welcome while I go through the remaining todos.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,[MRG] Connectome plotting,remain todo x spars matrix support havent even tri yet x add connectom plotadhdcovariancepi x saniti check adjacencymatrix nodescoord how look connectomeplotting1 connectomeplotting2 A snippet produc connectom plot insid ipython session comment welcom I go remain todo,N,2015-02-26 08:05:52
4,pull_request_merged,441,nilearn,nilearn,lesteve,2015-02-26 08:05:52,[MRG] Connectome plotting,e623a341c44c80eaa675b8849e13a580e3bc0df8,Pull request merge from lesteve/nilearn:connectome-plotting to nilearn/nilearn:master,mrg connectom plot,N,2015-02-20 08:01:33
5,issue_comment,441,nilearn,nilearn,lesteve,2015-02-20 08:01:33,"> node_kwargs / edge_kwargs is not a great API: it forces the user to 1) know the accepted kwargs for each of these, 2) build a dictionary. I would prefer if we could have specific arguments of the plot_connectome for the common cases, such as indeed, node color (argument could be ""node_color""), node size (argument could be ""node_size"").

OK I just wanted to make sure that all the plt.scatter/plt.plot functionalities were available. We can have the main useful arguments as parameters of the function like node_color and node_size and still keep node_kwargs and edge_kwargs for the additional ones.
",,,OK I want make sure pltscatterpltplot function avail We main use argument paramet function like nodecolor nodes still keep nodekwarg edgekwarg addit one,N,2015-02-20 08:54:13
6,issue_comment,441,nilearn,nilearn,AlexandreAbraham,2015-02-20 08:54:13,"> is there an option / easy way to get a colorbar added to the plot?

#379.
",,,379,N,2015-02-20 13:27:44
7,issue_comment,441,nilearn,nilearn,lesteve,2015-02-20 13:27:44,"> > is there an option / easy way to get a colorbar added to the plot?
> 
> #379.

although related that's not exactly the same thing. Having said that the patch in #379 may just work for this use case because the threshod is 0. In any case I propose to tackle the colorbar once this first iteration on the connectome plotting is merged.
",,,although relat that exactli thing have said patch 379 may work use case threshod 0 In case I propos tackl colorbar first iter connectom plot merg,N,2015-02-20 16:17:53
8,issue_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-20 16:17:53,"+1 for merging this before tackling color bar 

Sent from my phone. Please forgive brevity and mis spelling

On Feb 20, 2015, 14:27, at 14:27, ""Loïc Estève"" notifications@github.com wrote:

> > > is there an option / easy way to get a colorbar added to the plot?
> > 
> > #379.
> 
> although related that's not exactly the same thing. Having said that
> the patch in #379 may just work for this use case because the threshod
> is 0. In any case I propose to tackle the colorbar once this first
> iteration on the connectome plotting is merged.
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/441#issuecomment-75237427
",,,1 merg tackl color bar sent phone pleas forgiv breviti mi spell On feb 20 2015 1427 1427 loïc estèv notificationsgithubcom wrote,N,2015-02-20 17:21:54
9,issue_comment,441,nilearn,nilearn,lesteve,2015-02-20 17:21:54,"OK I tackled most of the comments I think. Something I still want to do is
- [x] Have a nicer default so that the random colors code currently in plot_adhd_covariance.py is not necessary.
",,,OK I tackl comment I think someth I still want x have nicer default random color code current plotadhdcovariancepi necessari,N,2015-02-20 17:29:51
10,issue_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-20 17:29:51,"> OK I tackled most of the comments I think. Something I still want to do is
> 
>   • [ ] Have a nicer default so that the random colors code currently in
>     plot_adhd_covariance.py is not necessary.

What's wrong with just grey? Other option is that by default you put the
z coordinate as a node color. But I think that this will just confuse
users, and I suggest that by default there is a grey color.

For the example, you can make it prettier by plotting the index of the
node in the default ordering of the atlas.
",,,what wrong grey other option default put z coordin node color but I think confus user I suggest default grey color for exampl make prettier plot index node default order atla,N,2015-02-20 17:46:42
11,issue_comment,441,nilearn,nilearn,lesteve,2015-02-20 17:46:42,"> What's wrong with just grey?

Admittedly I have very little idea how people look at these plots but I assumed that at the very least you want to be able to identify a given node across the three views in which case having a slightly separate color for each node seems like a good idea.

If I understand your index suggestion correctly I think that is close to what I have in mind.
",,,admittedli I littl idea peopl look plot I assum least want abl identifi given node across three view case slightli separ color node seem like good idea If I understand index suggest correctli I think close I mind,N,2015-02-20 19:19:12
12,issue_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-20 19:19:12,"> Admittedly I have very little idea how people look at these plots but I
> assumed that at the very least you want to be able to identify a given
> node across the three views in which case having a slightly separate
> color for each node seems like a good idea.

That's not the way I usually work with these: the location in the brain
tells me enough. But I see your point.

> If I understand your index suggestion correctly I think that is close
> to what I have in mind.

Combined with some form of colorbar for nodes that links a color to a
name, it would be great. However, let's leave that for a second PR.
",,,that way I usual work locat brain tell enough but I see point combin form colorbar node link color name would great howev let leav second PR,N,2015-02-21 16:03:58
13,issue_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-21 16:03:58,"Is there a reason that this is still a WIP? Could this become an MRG?
",,,Is reason still wip could becom mrg,N,2015-02-24 09:50:48
14,issue_comment,441,nilearn,nilearn,lesteve,2015-02-24 09:50:48,"I think I tackled all the comments. Here is how the connectome plots look in plot_adhd_covariance.py:

![group_sparse_covariance_connectome](https://cloud.githubusercontent.com/assets/1680079/6346731/b9a535a2-bc12-11e4-8b25-87bd13904aa2.png)

![graph_lasso_connectome](https://cloud.githubusercontent.com/assets/1680079/6346737/bd559494-bc12-11e4-9838-8935261cdbee.png)

I still have to:
- [x] fix the documentation rst now that the plot_adhd_covariance plots have changed
- [x] possibly add plot_connectome example to the plotting documentation
- [x] some inconsistency between nodes_ and node_ and the same with edges_ and edge_ to fix
",,,I think I tackl comment here connectom plot look plotadhdcovariancepi groupsparsecovarianceconnectom graphlassoconnectom I still x fix document rst plotadhdcovari plot chang x possibl add plotconnectom exampl plot document x inconsist node node edg edg fix,N,2015-02-24 13:21:12
15,issue_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 13:21:12,"> I think I tackled all the comments. Here is how the connectome plots look in plot_adhd_covariance.py:

It looks just beautiful. I think that I want it added on the first page.
",,,It look beauti I think I want ad first page,N,2015-02-24 13:53:28
16,issue_comment,441,nilearn,nilearn,lesteve,2015-02-24 13:53:28,"> It looks just beautiful. I think that I want it added on the first page.

Any preference between GroupSparseCovariance and GraphLasso? Also other parameters could be tweaked if needed.
",,,ani prefer groupsparsecovari graphlasso also paramet could tweak need,N,2015-02-24 14:46:05
17,issue_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 14:46:05,"> Any preference between GroupSparseCovariance and GraphLasso? Also other
> parameters could be tweaked if needed.

GraphLasso, and a threshold much higher (in terms of percentile)
",,,graphlasso threshold much higher term percentil,N,2015-02-24 15:39:57
18,issue_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 15:39:57,"I have no other comments than the one I have just made on the code. This is almost ready to merge! Bravo
",,,I comment one I made code thi almost readi merg bravo,N,2015-02-25 08:18:50
19,issue_comment,441,nilearn,nilearn,lesteve,2015-02-25 08:18:50,"> GraphLasso, and a threshold much higher (in terms of percentile)

How does this one look (edge_threshold=95%)
![graph_lasso_connectome_95percent](https://cloud.githubusercontent.com/assets/1680079/6367093/f33e1650-bcce-11e4-948c-bf1169f83376.png)

For comparison this one is with edge_threshold=90%
![graph_lasso_connectome_90percent](https://cloud.githubusercontent.com/assets/1680079/6367100/fb89bc74-bcce-11e4-859a-46f2ac827718.png)

> I think that I want it added on the first page.
> Should it replace the glass brain as the first carousel item on the website front page?
",,,how one look edgethreshold95 graphlassoconnectome95perc for comparison one edgethreshold90 graphlassoconnectome90perc,N,2015-02-25 08:29:27
20,issue_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-25 08:29:27,"The percentile 90 looks great! 

Sent from my phone. Please forgive brevity and mis spelling

On Feb 25, 2015, 09:18, at 09:18, ""Loïc Estève"" notifications@github.com wrote:

> > GraphLasso, and a threshold much higher (in terms of percentile)
> 
> How does this one look (edge_threshold=95%)
> ![graph_lasso_connectome_95percent](https://cloud.githubusercontent.com/assets/1680079/6367093/f33e1650-bcce-11e4-948c-bf1169f83376.png)
> 
> For comparison this one is with edge_threshold=90%
> ![graph_lasso_connectome_90percent](https://cloud.githubusercontent.com/assets/1680079/6367100/fb89bc74-bcce-11e4-859a-46f2ac827718.png)
> 
> > I think that I want it added on the first page.
> > Should it replace the glass brain as the first carousel item on the
> > website front page?
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/441#issuecomment-75921817
",,,the percentil 90 look great sent phone pleas forgiv breviti mi spell On feb 25 2015 0918 0918 loïc estèv notificationsgithubcom wrote,N,2015-02-25 13:43:23
21,issue_comment,441,nilearn,nilearn,lesteve,2015-02-25 13:43:23,"OK, tackled all the comments I think
",,,OK tackl comment I think,N,2015-02-25 13:50:28
22,issue_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-25 13:50:28,"If the docstrings render well, +1 for merge.
",,,If docstr render well 1 merg,N,2015-02-26 08:07:38
23,issue_comment,441,nilearn,nilearn,banilo,2015-02-26 08:07:38,":beers: 
",,,beer,N,2015-02-26 08:16:34
24,issue_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-26 08:16:34,"Yey! ! ! 

Sent from my phone. Please forgive brevity and mis spelling

On Feb 26, 2015, 09:07, at 09:07, Danilo Bzdok notifications@github.com wrote:

> :beers: 
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/441#issuecomment-76137473
",,,yey sent phone pleas forgiv breviti mi spell On feb 26 2015 0907 0907 danilo bzdok notificationsgithubcom wrote,N,2015-03-03 14:15:37
25,issue_comment,441,nilearn,nilearn,amadeuskanaan,2015-03-03 14:15:37,"FYI.. connectome plotter fails if the matrix has nan's ... 
returns ''ValueError: 'adjacency_matrix' should be symmetric''
",,,fyi connectom plotter fail matrix nan return valueerror adjacencymatrix symmetr,N,2015-03-03 14:26:37
26,issue_comment,441,nilearn,nilearn,lesteve,2015-03-03 14:26:37,"Good point, thanks for reporting, would you mind opening a new issue about this problem?

FWIW you can work around the problem by either using np.nan_to_num or using a masked array to mask out the NaNs.
",,,good point thank report would mind open new issu problem fwiw work around problem either use npnantonum use mask array mask nan,N,2015-03-03 14:33:27
27,issue_comment,441,nilearn,nilearn,amadeuskanaan,2015-03-03 14:33:27,"done.. and yes. works with 0's.
",,,done ye work 0s,N,2015-02-19 22:13:25
28,issue_comment,441,nilearn,nilearn,lesteve,2015-02-19 22:13:25,"FYI I disabled coveralls automatic comments on PRs.
",,,fyi I disabl coveral automat comment pr,Y,2015-02-20 07:44:31
29,issue_comment,441,nilearn,nilearn,lesteve,2015-02-20 07:44:31,"> @lesteve : is there an option / easy way to get a colorbar added to the plot?

Not at the moment I am afraid. It may be doable but I am not sure it should be part of this PR.
",,,not moment I afraid It may doabl I sure part PR,N,2015-02-18 15:14:52
30,issue_comment,441,nilearn,nilearn,coveralls,2015-02-18 15:14:52,"[![Coverage Status](https://coveralls.io/builds/1949190/badge)](https://coveralls.io/builds/1949190)

Coverage decreased (-0.08%) to 91.74% when pulling **d1d2d0d9549610e80ecdea9a64ca5685180586c8 on lesteve:connectome-plotting** into **5e1621db5baecee634883b45ffa7f53a96df6332 on nilearn:master**.
",,,coverag statu coverag decreas 008 9174 pull d1d2d0d9549610e80ecdea9a64ca5685180586c8 lesteveconnectomeplot 5e1621db5baecee634883b45ffa7f53a96df6332 nilearnmast,N,2015-02-19 13:05:28
31,issue_comment,441,nilearn,nilearn,coveralls,2015-02-19 13:05:28,"[![Coverage Status](https://coveralls.io/builds/1955858/badge)](https://coveralls.io/builds/1955858)

Coverage remained the same at 91.81% when pulling **ec1ec74ece96ab684e6b8fdd16055694e6c5d48d on lesteve:connectome-plotting** into **4ecf57695e3166f1157aa62220b25a0d00128200 on nilearn:master**.
",,,coverag statu coverag remain 9181 pull ec1ec74ece96ab684e6b8fdd16055694e6c5d48d lesteveconnectomeplot 4ecf57695e3166f1157aa62220b25a0d00128200 nilearnmast,N,2015-02-19 13:32:41
32,issue_comment,441,nilearn,nilearn,coveralls,2015-02-19 13:32:41,"[![Coverage Status](https://coveralls.io/builds/1956027/badge)](https://coveralls.io/builds/1956027)

Coverage remained the same at 91.81% when pulling **c9c602f3d69d4594fa10da553ba1c049b2185c1e on lesteve:connectome-plotting** into **4ecf57695e3166f1157aa62220b25a0d00128200 on nilearn:master**.
",,,coverag statu coverag remain 9181 pull c9c602f3d69d4594fa10da553ba1c049b2185c1 lesteveconnectomeplot 4ecf57695e3166f1157aa62220b25a0d00128200 nilearnmast,N,2015-02-19 13:43:02
33,issue_comment,441,nilearn,nilearn,coveralls,2015-02-19 13:43:02,"[![Coverage Status](https://coveralls.io/builds/1956096/badge)](https://coveralls.io/builds/1956096)

Coverage remained the same at 91.81% when pulling **c9c602f3d69d4594fa10da553ba1c049b2185c1e on lesteve:connectome-plotting** into **4ecf57695e3166f1157aa62220b25a0d00128200 on nilearn:master**.
",,,coverag statu coverag remain 9181 pull c9c602f3d69d4594fa10da553ba1c049b2185c1 lesteveconnectomeplot 4ecf57695e3166f1157aa62220b25a0d00128200 nilearnmast,N,2015-02-19 15:18:09
34,issue_comment,441,nilearn,nilearn,coveralls,2015-02-19 15:18:09,"[![Coverage Status](https://coveralls.io/builds/1956773/badge)](https://coveralls.io/builds/1956773)

Coverage remained the same at 91.95% when pulling **587bc603657c679751837d9a5a056d87a05f6d2d on lesteve:connectome-plotting** into **4ecf57695e3166f1157aa62220b25a0d00128200 on nilearn:master**.
",,,coverag statu coverag remain 9195 pull 587bc603657c679751837d9a5a056d87a05f6d2d lesteveconnectomeplot 4ecf57695e3166f1157aa62220b25a0d00128200 nilearnmast,N,2015-02-19 15:50:49
35,issue_comment,441,nilearn,nilearn,coveralls,2015-02-19 15:50:49,"[![Coverage Status](https://coveralls.io/builds/1957001/badge)](https://coveralls.io/builds/1957001)

Coverage remained the same at 91.95% when pulling **dcdf7c9cbcfafcc08229936b1c4e0b03d9133a4e on lesteve:connectome-plotting** into **4ecf57695e3166f1157aa62220b25a0d00128200 on nilearn:master**.
",,,coverag statu coverag remain 9195 pull dcdf7c9cbcfafcc08229936b1c4e0b03d9133a4 lesteveconnectomeplot 4ecf57695e3166f1157aa62220b25a0d00128200 nilearnmast,N,2015-02-18 15:27:57
36,issue_comment,441,nilearn,nilearn,banilo,2015-02-18 15:27:57,"That looks pretty good! I would not have thought that it can be visualized that well with glass brain.
kudos!
",,,that look pretti good I would thought visual well glass brain kudo,N,2015-02-20 06:41:01
37,issue_comment,441,nilearn,nilearn,bcipolli,2015-02-20 06:41:01,"@lesteve : is there an option / easy way to get a colorbar added to the plot?
",,,lestev option easi way get colorbar ad plot,N,2015-02-19 18:05:01
38,issue_comment,441,nilearn,nilearn,mrahim,2015-02-19 18:05:01,"me too ...

2015-02-19 19:04 GMT+01:00 Alexandre Abraham notifications@github.com:

> Am I the only one to find coveralls terribly annoying?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/441#issuecomment-75103369.
",,,20150219 1904 gmt0100 alexandr abraham notificationsgithubcom,N,2015-02-19 11:22:07
39,pull_request_commit_comment,441,nilearn,nilearn,banilo,2015-02-19 11:22:07,"From my naive point view: should it not be the other way round?

``` python
ispd = eigvalsh_min >= 0 if semi_definite else eigvalsh_min > 0
```
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/_utils/extmath.py')",from naiv point view way round,N,2015-02-19 11:59:23
40,pull_request_commit_comment,441,nilearn,nilearn,lesteve,2015-02-19 11:59:23,"Yeah I actually fixed this one locally this morning...
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/_utils/extmath.py')",yeah I actual fix one local morn,N,2015-02-19 19:34:15
41,pull_request_commit_comment,441,nilearn,nilearn,bcipolli,2015-02-19 19:34:15,"I believe this should be `atlas_maps` instead of `msdl_atlas_dataset.maps`.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",I believ instead,N,2015-02-19 20:41:00
42,pull_request_commit_comment,441,nilearn,nilearn,bcipolli,2015-02-19 20:41:00,"Instead of `39`, better to use `len(regions_coords)` (I'm using this function, but with a modified version of the maps image :) )
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",instead better use Im use function modifi version map imag,N,2015-02-19 21:56:14
43,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-19 21:56:14,"In the examples, the priority is often to make the code simpler (ie shorter), at the cost of genericity.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",In exampl prioriti often make code simpler ie shorter cost gener,N,2015-02-19 21:57:19
44,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-19 21:57:19,"I am wondering if it would not be interesting to use as node colors, simply the ordering of the node in the atlas. It would make the code simpler, and I believe that it has been chosen in a way that makes sense.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",I wonder would interest use node color simpli order node atla It would make code simpler I believ chosen way make sens,N,2015-02-19 21:59:44
45,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-19 21:59:44,"Could we do a for loop rather than a map: this is going to confuse beginners.

Also, a comment saying why this code is useful would help.

Finally, I think that I would prefer not having a function defined for this, but simply code in the example, also in the interest of simplicity.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",could loop rather map go confus beginn also comment say code use would help final I think I would prefer function defin simpli code exampl also interest simplic,N,2015-02-19 22:00:35
46,pull_request_commit_comment,441,nilearn,nilearn,lesteve,2015-02-19 22:00:35,"I actually tackled both @bcipolli comments which were more than reasonable.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",I actual tackl bcipolli comment reason,N,2015-02-19 22:02:11
47,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-19 22:02:11,"The function should not be limited to accepting SPD matrices (or correlation matrices), we want to be able to plot any graph defined by its adjacency.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/img_plotting.py')",the function limit accept spd matric correl matric want abl plot graph defin adjac,N,2015-02-19 22:42:29
48,pull_request_commit_comment,441,nilearn,nilearn,AlexandreAbraham,2015-02-19 22:42:29,"I think that the line below is more likely to confuse beginners.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",I think line like confus beginn,N,2015-02-19 22:45:00
49,pull_request_commit_comment,441,nilearn,nilearn,banilo,2015-02-19 22:45:00,"In favor of a for loop, here too.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",In favor loop,N,2015-02-19 22:47:56
50,pull_request_commit_comment,441,nilearn,nilearn,banilo,2015-02-19 22:47:56,"Maybe add another half-sentence on the used atlas because not knowing MSDL might complexify the example quite a bit.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",mayb add anoth halfsent use atla know msdl might complexifi exampl quit bit,N,2015-02-19 22:49:44
51,pull_request_commit_comment,441,nilearn,nilearn,banilo,2015-02-19 22:49:44,"in-line comments on s and c?
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",inlin comment c,N,2015-02-19 22:55:33
52,pull_request_commit_comment,441,nilearn,nilearn,AlexandreAbraham,2015-02-19 22:55:33,"Is there a reason to use slice here? Using integer values for axis seem more natural to me.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",Is reason use slice use integ valu axi seem natur,N,2015-02-20 04:09:35
53,pull_request_commit_comment,441,nilearn,nilearn,bcipolli,2015-02-20 04:09:35,"Isn't `atlas_maps` a string or a `Nifti1Image`?  This line isn't working for me.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",isnt string thi line isnt work,N,2015-02-20 04:48:47
54,pull_request_commit_comment,441,nilearn,nilearn,bcipolli,2015-02-20 04:48:47,"I would prefer these get changed to `size` and `color`, or to follow @GaelVaroquaux suggestion of eliminating the `nodes_kwargs` and making them meaningful parameters in the function interface.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",I would prefer get chang follow gaelvaroquaux suggest elimin make meaning paramet function interfac,N,2015-02-20 06:37:30
55,pull_request_commit_comment,441,nilearn,nilearn,bcipolli,2015-02-20 06:37:30,":+1: This check is preventing me from plotting interhemispheric connections only, for example.  I've commented it out locally, and the code still works like a champ:

![image](https://cloud.githubusercontent.com/assets/4072455/6282307/ad3e31d0-b887-11e4-88b6-9328155e9292.png)
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/img_plotting.py')",1 thi check prevent plot interhemispher connect exampl ive comment local code still work like champ imag,N,2015-02-20 07:31:43
56,pull_request_commit_comment,441,nilearn,nilearn,lesteve,2015-02-20 07:31:43,"Fair enough, I don't remember when in the process I got convinced that it had to be correlation/covariance matrices.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/img_plotting.py')",fair enough I dont rememb process I got convinc correlationcovari matric,N,2015-02-20 08:06:50
57,pull_request_commit_comment,441,nilearn,nilearn,lesteve,2015-02-20 08:06:50,"good point I'll fix that.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",good point ill fix,N,2015-02-20 08:07:45
58,pull_request_commit_comment,441,nilearn,nilearn,lesteve,2015-02-20 08:07:45,"> Is there a reason to use slice here?

None comes to mind so I can change it.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",none come mind I chang,N,2015-02-20 08:56:33
59,pull_request_commit_comment,441,nilearn,nilearn,AlexandreAbraham,2015-02-20 08:56:33,"`s` and `c` are matplotlib standards. This is the first thing I would try.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",matplotlib standard thi first thing I would tri,N,2015-02-20 11:29:04
60,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-20 11:29:04,"We don't want to force our users to learn matplotlib for simple things. We need to start from the idea that our base users do not know anything about matplotlib.

Sent from my phone. Please forgive brevity and mis spelling

On Feb 20, 2015, 09:56, at 09:56, Alexandre Abraham notifications@github.com wrote:

> >  from nilearn.plotting import cm
> > 
> > +def plot_connectome(cov, atlas_maps, **kwargs):
> > -    """"""Plot connectome given a covariance matrix and atlas maps""""""
> > -    imgs = image.iter_img(atlas_maps)
> > -    regions_coords = np.array([
> > -        map(np.asscalar, plotting.find_xyz_cut_coords(img)) for img
> >   in imgs])
> > -    np.random.seed(42)
> > -    node_colors = np.random.rand(len(atlas_maps), 3)
> > -    plotting.plot_connectome(cov, regions_coords,
> > -                             nodes_kwargs={'s': 50, 'c':
> >   node_colors},
> 
> `s` and `c` are matplotlib standards. This is the first thing I would
> try.
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/441/files#r25056268
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",We dont want forc user learn matplotlib simpl thing We need start idea base user know anyth matplotlib sent phone pleas forgiv breviti mi spell On feb 20 2015 0956 0956 alexandr abraham notificationsgithubcom wrote,N,2015-02-21 16:05:35
61,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-21 16:05:35,"I think that a for loop here would be better than a list comprehension.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",I think loop would better list comprehens,N,2015-02-21 16:06:48
62,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-21 16:06:48,"I would rather avoid having a function, and directly use plot_connectome inlined.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",I would rather avoid function directli use plotconnectom inlin,N,2015-02-21 16:11:32
63,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-21 16:11:32,"I think that I would call this method ""_add_points"" (or ""_add_markers""), because those points may have some meaning or some use outside the case of plotting graphs.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",I think I would call method addpoint addmark point may mean use outsid case plot graph,N,2015-02-21 16:19:35
64,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-21 16:19:35,"Maybe these translation from node_color and node_size to arguments for scatter should be done in the plot_connectome function, and not here. The reason is that the notion of 'node' seems to me somewhat external to the function. It makes sense only when there are nodes and edges. I think that I would push for removing the term ""node"" from the code of this function.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",mayb translat nodecolor nodes argument scatter done plotconnectom function the reason notion node seem somewhat extern function It make sens node edg I think I would push remov term node code function,N,2015-02-21 16:21:38
65,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-21 16:21:38,"I would call this function 'add_lines', and I would have it take as input arguments a list of (start_point, end_point). I would do the resolution of the adjacency matrix + coords to lines in the ""add_graph"" function.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",I would call function addlin I would take input argument list startpoint endpoint I would resolut adjac matrix coord line addgraph function,N,2015-02-22 03:51:30
66,pull_request_commit_comment,441,nilearn,nilearn,banilo,2015-02-22 03:51:30,"Somewhat general comment: How about adding an option for a depth filter. E.g. when looking at the sagittal / medial glass brain, why not make it possible to not show the other / not directly looked at half of the brain? This should be easy to implement (re-filter the coordinate pools before scatter) and might be especially useful if many nodes are to be visualized.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",somewhat gener comment how ad option depth filter Eg look sagitt medial glass brain make possibl show directli look half brain thi easi implement refilt coordin pool scatter might especi use mani node visual,N,2015-02-22 04:17:56
67,pull_request_commit_comment,441,nilearn,nilearn,banilo,2015-02-22 04:17:56,"""For a maskED array""?
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",for mask array,N,2015-02-22 13:01:47
68,pull_request_commit_comment,441,nilearn,nilearn,AlexandreAbraham,2015-02-22 13:01:47,"The name of the function is also misleading. We should have a function named `find_poi` or so. And it could handle 3D and 4D imgs so that a loop is not necessary.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",the name function also mislead We function name and could handl 3D 4D img loop necessari,N,2015-02-22 13:03:05
69,pull_request_commit_comment,441,nilearn,nilearn,AlexandreAbraham,2015-02-22 13:03:05,":+1: for `_add_markers`
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",1,N,2015-02-22 13:04:46
70,pull_request_commit_comment,441,nilearn,nilearn,AlexandreAbraham,2015-02-22 13:04:46,"My feeling is YAGNI.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",My feel yagni,N,2015-02-22 13:05:42
71,pull_request_commit_comment,441,nilearn,nilearn,AlexandreAbraham,2015-02-22 13:05:42,":+1: 
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",1,N,2015-02-22 13:08:31
72,pull_request_commit_comment,441,nilearn,nilearn,AlexandreAbraham,2015-02-22 13:08:31,"`adjacency_matrix = adjacency_matrix.filled(0.)`
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",,N,2015-02-22 13:12:05
73,pull_request_commit_comment,441,nilearn,nilearn,AlexandreAbraham,2015-02-22 13:12:05,"This should be an explicit kwarg I think.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",thi explicit kwarg I think,N,2015-02-23 07:59:21
74,pull_request_commit_comment,441,nilearn,nilearn,lesteve,2015-02-23 07:59:21,"The thing is that this function is used twice, one for the GroupSparseCovariance and one for the GraphLasso. Also there is already a function to plot the matrices in this example.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",the thing function use twice one groupsparsecovari one graphlasso also alreadi function plot matric exampl,N,2015-02-23 08:04:40
75,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-23 08:04:40,"> The thing is that this function is used twice, one for the
> GroupSparseCovariance and one for the GraphLasso.

Yes, but the only thing that needs to be called twice is the call to
plot_connectome. The rest is common.

> Also there is already a function to plot the matrices in this example.

I don't like that either :).
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",ye thing need call twice call plotconnectom the rest common I dont like either,N,2015-02-23 08:20:43
76,pull_request_commit_comment,441,nilearn,nilearn,lesteve,2015-02-23 08:20:43,"> I think that a for loop here would be better than a list comprehension.

How so? Are you saying you want something like this:

``` python
region_coords = []

for img in imgs:
    region_coords.append(plotting.find_xyz_cut_coords(img))

region_coords = np.array(region_coords)
```

> The name of the function is also misleading. We should have a function named find_poi

maybe in a different issue?
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",how are say want someth like mayb differ issu,N,2015-02-23 08:23:06
77,pull_request_commit_comment,441,nilearn,nilearn,lesteve,2015-02-23 08:23:06,"> My feeling is YAGNI.

Agreed maybe in a further iteration.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",agre mayb iter,N,2015-02-23 08:49:49
78,pull_request_commit_comment,441,nilearn,nilearn,AlexandreAbraham,2015-02-23 08:49:49,"> > Also there is already a function to plot the matrices in this example.
> 
> I don't like that either :).

Given that we advise people to install anaconda, they shoulds have statsmodel installed. We could use statsmodel function for that.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",given advis peopl instal anaconda should statsmodel instal We could use statsmodel function,N,2015-02-24 12:35:38
79,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 12:35:38,"I would put that below plot_stat_map: it's less likely to be what the user is looking for.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(18, '', u'doc/building_blocks/plotting.rst')",I would put plotstatmap less like user look,N,2015-02-24 12:39:53
80,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 12:39:53,"I would replace the ""zip(*...)"" by ""marker_coods_2d.T"" which will do the same thing given that marker_coords_2d is an array.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",I would replac zip markercoods2dt thing given markercoords2d array,N,2015-02-24 12:41:04
81,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 12:41:04,"Same remark: I would use transposition rather than zip
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",same remark I would use transposit rather zip,N,2015-02-24 12:42:30
82,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 12:42:30,"Tell us which half you are using: the upper half, or the lower half?
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(167, '', u'nilearn/plotting/displays.py')",tell us half use upper half lower half,N,2015-02-24 12:44:33
83,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 12:44:33,"Any reason that you are not using ""50"" as a default in the function signature? I think that it would make it easier for the user to understand this parameter.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",ani reason use 50 default function signatur I think would make easier user understand paramet,N,2015-02-24 12:51:18
84,pull_request_commit_comment,441,nilearn,nilearn,AlexandreAbraham,2015-02-24 12:51:18,"Shouldn't we allow list of tuples and call `np.asarray`?
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",shouldnt allow list tupl call,N,2015-02-24 12:54:16
85,pull_request_commit_comment,441,nilearn,nilearn,AlexandreAbraham,2015-02-24 12:54:16,"Use `filled`
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",use,N,2015-02-24 12:57:10
86,pull_request_commit_comment,441,nilearn,nilearn,lesteve,2015-02-24 12:57:10,"I am actually checking that the matrix is symmetric (and then using the lower half) at the moment.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(167, '', u'nilearn/plotting/displays.py')",I actual check matrix symmetr use lower half moment,N,2015-02-24 12:57:14
87,pull_request_commit_comment,441,nilearn,nilearn,AlexandreAbraham,2015-02-24 12:57:14,"I usually use masked mask if it is really needed. There, you can just set those values to 0.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/img_plotting.py')",I usual use mask mask realli need there set valu 0,N,2015-02-24 12:59:12
88,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 12:59:12,"> I am actually checking that the matrix is symmetric (and then using the lower
> half) at the moment.

OK. Don't put a tolerance on the check that is smaller than 1e-3 \* vmax,
because the eye won't tell a difference anyhow.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(167, '', u'nilearn/plotting/displays.py')",OK dont put toler check smaller 1e3 vmax eye wont tell differ anyhow,N,2015-02-24 13:00:00
89,pull_request_commit_comment,441,nilearn,nilearn,lesteve,2015-02-24 13:00:00,"The main reason is something I have been mildly annoyed by: defaults duplicated at different levels. In this particular case I would need to define node_size default both in img_plotting.plot_connectome and displays.OrthoProjector.add_graph.

I have to admit I don't think the None solution is fully satisfying.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",the main reason someth I mildli annoy default duplic differ level In particular case I would need defin nodes default imgplottingplotconnectom displaysorthoprojectoraddgraph I admit I dont think none solut fulli satisfi,N,2015-02-24 13:15:11
90,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 13:15:11,"Right, it makes your life easier as a developper, but it makes the user's
life harder. Here, I think our focus should be to make the user's life
easier.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",right make life easier developp make user life harder here I think focu make user life easier,N,2015-02-24 13:17:06
91,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 13:17:06,"> Somewhat general comment: How about adding an option for a depth filter. E.g.
> when looking at the sagittal / medial glass brain, why not make it possible to
> not show the other / not directly looked at half of the brain? This should be
> easy to implement (re-filter the coordinate pools before scatter) and might be
> especially useful if many nodes are to be visualized.

I think that you are unto something very interesting. I usually find that
plotting only half an hemisphere can be very useful. I'd rather go for
that than something more general, which will be harder to use for the end
user, and harder for us to code.

Let's postpone that in a second step.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",I think unto someth interest I usual find plot half hemispher use Id rather go someth gener harder use end user harder us code let postpon second step,N,2015-02-24 13:18:27
92,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 13:18:27,"> The name of the function is also misleading. We should have a function named
> find_poi or so.

I agree. I am +1 for renaming if there are good suggestion.

> And it could handle 3D and 4D imgs so that a loop is not necessary.

I am -0. I am afraid of errors in user code going unnoticed until too
late to give a good error message.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",I agre I 1 renam good suggest I 0 I afraid error user code go unnot late give good error messag,N,2015-02-24 13:20:28
93,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 13:20:28,"> Given that we advise people to install anaconda, they shoulds have statsmodel
> installed. We could use statsmodel function for that.

No. I've just had last week someone who was using Python in 3D slicer.
Installing any package was quite a lot of work for that person. I am
still trying to limit as much as possible the dependencies, including in
the examples.

However, in a later work, I think that we could integrate such function
in nilearn.plotting. But later.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",No ive last week someon use python 3D slicer instal packag quit lot work person I still tri limit much possibl depend includ exampl howev later work I think could integr function nilearnplot but later,N,2015-02-24 13:25:11
94,pull_request_commit_comment,441,nilearn,nilearn,banilo,2015-02-24 13:25:11,"wasn't this supposed to become a for-loop for the sake of simplicity?
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",wasnt suppos becom forloop sake simplic,N,2015-02-24 13:27:00
95,pull_request_commit_comment,441,nilearn,nilearn,banilo,2015-02-24 13:27:00,"My subjective feeling: we mostly use the older formatted printing with %. Should this be (roughly) consistent across examples?
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",My subject feel mostli use older format print should roughli consist across exampl,N,2015-02-24 13:57:14
96,pull_request_commit_comment,441,nilearn,nilearn,lesteve,2015-02-24 13:57:14,"I am now wondering what was the percentage relative to when specifying edge_threshold as a percentage. At the moment it is a percentage of the number of possible node edges i.e. n \* (n - 1) / 2 if the adjacency matrix is of shape (n, n). I am leaning towards changing that to be a percentage of non zero edges. To spell it out even more, ""25%"" would mean I want to keep 75% of the non-zero edges with the highest absolute value.

Any further thoughts or objections?
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(180, '', u'nilearn/plotting/displays.py')",I wonder percentag rel specifi edgethreshold percentag At moment percentag number possibl node edg ie n n 1 2 adjac matrix shape n n I lean toward chang percentag non zero edg To spell even 25 would mean I want keep 75 nonzero edg highest absolut valu ani thought object,N,2015-02-24 13:57:26
97,pull_request_commit_comment,441,nilearn,nilearn,AlexandreAbraham,2015-02-24 13:57:26,"Hmmm. It would be cool to have a sagittal view for the left hemisphere, another one for the right hemisphere, and then an axial view for the connexions between both of them.

Regarding depth, it would be nice to be able to change the size of the nodes depending on the depth so that further nodes are smaller. We can't do that yet because the depth depends on the view (or we should do manually the 3 slices).

But let's merge that first.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",hmmm It would cool sagitt view left hemispher anoth one right hemispher axial view connexion regard depth would nice abl chang size node depend depth node smaller We cant yet depth depend view manual 3 slice but let merg first,N,2015-02-24 14:15:57
98,pull_request_commit_comment,441,nilearn,nilearn,lesteve,2015-02-24 14:15:57,"Done.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(18, '', u'doc/building_blocks/plotting.rst')",done,N,2015-02-24 14:18:03
99,pull_request_commit_comment,441,nilearn,nilearn,lesteve,2015-02-24 14:18:03,"Feel free to create an issue about that. If we had to chose one I'd be personally in favour of using `.format` rather than `%`.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",feel free creat issu If chose one Id person favour use rather,N,2015-02-24 14:19:52
100,pull_request_commit_comment,441,nilearn,nilearn,lesteve,2015-02-24 14:19:52,"I am afraid I don't see how a for loop is simpler.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",I afraid I dont see loop simpler,N,2015-02-24 14:39:04
101,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 14:39:04,"> Hmmm. It would be cool to have a sagittal view for the left hemisphere,
> another one for the right hemisphere, and then an axial view for the
> connexions between both of them.

Yes. I can see a design where there would be an Axes that projects to the
left hemisphere and one to the right. As in 'R', 'L'. We'll brain storm
about this later.

> Regarding depth, it would be nice to be able to change the size of the
> nodes depending on the depth so that further nodes are smaller. We
> can't do that yet because the depth depends on the view (or we should
> do manually the 3 slices).

+1 for having an option 'node_color=""depth""'. In a later PR.

Do you want to add 2 enhancements tickets for these features? I think
that they are good ideas.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",ye I see design would axe project left hemispher one right As R L well brain storm later 1 option nodecolordepth In later PR Do want add 2 enhanc ticket featur I think good idea,N,2015-02-24 14:40:15
102,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 14:40:15,"> Shouldn't we allow list of tuples and call np.asarray?

+1. People will get it wrong elsewhere.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",1 peopl get wrong elsewher,N,2015-02-24 14:44:49
103,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 14:44:49,"> My subjective feeling: we mostly use the older formatted printing with %.
> Should this be (roughly) consistent across examples?

I think that we should use 'format'. It's the new recommended way of
doing things. I am myself not doing it out of habit, because I started
doing Python before it existed, but that's a bad thing.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",I think use format it new recommend way thing I habit I start python exist that bad thing,N,2015-02-24 14:47:51
104,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 14:47:51,"> Any further thoughts or objections?

I think that I would like the percentage to be the filling factor of the
graph. If I say threshold=""80%"", I want to see "".2 \* n (n - 1) / 2""
edges.

That way, we don't have an unstable behavior depending on wether people
threshold the matrices or not.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(180, '', u'nilearn/plotting/displays.py')",I think I would like percentag fill factor graph If I say threshold80 I want see 2 n n 1 2 edg that way dont unstabl behavior depend wether peopl threshold matric,N,2015-02-24 14:48:50
105,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 14:48:50,"> I am afraid I don't see how a for loop is simpler.

It's a construct that more people know. For someone who doesn't know
Python, the list comprehension is a weird thing.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",it construct peopl know for someon doesnt know python list comprehens weird thing,N,2015-02-24 15:17:00
106,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 15:17:00,"I usually try to refrain from making such cosmetic changes, if I am not touching the corresponding lines of code, because they make merging and rebasing hard.

Don't change it back, though.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(31, '', u'nilearn/plotting/displays.py')",I usual tri refrain make cosmet chang I touch correspond line code make merg rebas hard dont chang back though,N,2015-02-24 15:19:49
107,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 15:19:49,"Same remark on the default value of the argument: I would prefer if it appears in the function signature.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",same remark default valu argument I would prefer appear function signatur,N,2015-02-24 15:24:09
108,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 15:24:09,"Rather than ""n"" in the error message, could you here be explicit about its value (and mentioned where the value comes from), something like 'Invalid shape for node_coords: you passed in an adjacency matrix of shape (%i, %i), therefore the shape of node_coords should be (%i, 3) while it is %r'
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",rather n error messag could explicit valu mention valu come someth like invalid shape nodecoord pass adjac matrix shape therefor shape nodecoord 3 r,N,2015-02-24 15:25:43
109,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 15:25:43,"Please decrease the tolerance here. We don't want a user with code with slight numerical stability to have this code bailing on him: his numerical instabilities are his problem, not ours. I would use an rtol of 1e-3.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",pleas decreas toler We dont want user code slight numer stabil code bail numer instabl problem I would use rtol 1e3,N,2015-02-24 15:28:00
110,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 15:28:00,"Nice!
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(256, '', u'nilearn/plotting/displays.py')",nice,N,2015-02-24 15:29:52
111,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 15:29:52,"Doesn't the fast_abs_percentile already do the abs? In other words, can't you just pass it simply lower_diagonal_values?
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/displays.py')",doesnt fastabspercentil alreadi ab In word cant pass simpli lowerdiagonalvalu,N,2015-02-24 15:35:22
112,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 15:35:22,"I would avoid having ""**kwargs"" and use a ""glass_brain_kwargs"" rather, as it is not possible to guess from reading the function signature and docstring what these do.

Also, do you really need these kwargs? I have the feeling that the usecases for them will be minor, and that advanced users that want to tweak everything should rather instanciate a glass brain and use the methods of the corresponding object.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/img_plotting.py')",I would avoid kwarg use glassbrainkwarg rather possibl guess read function signatur docstr also realli need kwarg I feel usecas minor advanc user want tweak everyth rather instanci glass brain use method correspond object,N,2015-02-24 15:36:36
113,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 15:36:36,"I would put 'output_file' and 'display_mode', 'title' and 'annotate' before 'edge_kwargs' and 'node_kwargs': I think that these are more important for end-users.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/img_plotting.py')",I would put outputfil displaymod titl annot edgekwarg nodekwarg I think import endus,N,2015-02-24 15:38:51
114,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 15:38:51,"For a minor speedup, you can remove the title here: you have already tested it earlier.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'nilearn/plotting/tests/test_img_plotting.py')",for minor speedup remov titl alreadi test earlier,Y,2015-02-24 16:01:29
115,pull_request_commit_comment,441,nilearn,nilearn,AlexandreAbraham,2015-02-24 16:01:29,"Now that we have `iter_img`, I would do:
`atlas_regions_coords = map(plotting.find_xyz_cut_coords, iter_img(atlas_imgs))`
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",now I would,N,2015-02-24 16:02:20
116,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-24 16:02:20,"> Now that we have iter_img, I would do:
> atlas_regions_coords = map(plotting.find_xyz_cut_coords, iter_img(atlas_imgs))

Avoid map: on non advanced programmers it is incomprehensible.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(None, '', u'examples/connectivity/plot_adhd_covariance.py')",avoid map non advanc programm incomprehens,N,2015-02-24 17:23:40
117,pull_request_commit_comment,441,nilearn,nilearn,lesteve,2015-02-24 17:23:40,"OK this is the current behaviour then.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(180, '', u'nilearn/plotting/displays.py')",OK current behaviour,N,2015-02-25 13:48:49
118,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-25 13:48:49,"I think that you have an indentation problem here.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(163, '', u'nilearn/plotting/displays.py')",I think indent problem,N,2015-02-25 13:49:41
119,pull_request_commit_comment,441,nilearn,nilearn,GaelVaroquaux,2015-02-25 13:49:41,"Maybe I am wrong. Could you just check that the docstrings render well.
",7c6bc0f85143a5947f99d29699b86a76c3f8e00a,"(163, '', u'nilearn/plotting/displays.py')",mayb I wrong could check docstr render well,N,2015-02-19 12:22:51
120,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-19 12:22:51,"Add accept_semi_definite to is_spd

to allow to check that a matrix is positive semi-definite rather than positive definite.
Add some tests",fd5545a3e68b743962cd468eeb1292aaba6843c2,,add acceptsemidefinit isspd allow check matrix posit semidefinit rather posit definit add test,N,2015-02-19 12:36:10
121,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-19 12:36:10,"Add nilearn.plotting.plot_connectome

to plot connectomes from adjacency matrix and node coordinates on top of
glass brain views",b2b052b392498b7cf4143034505f503b0e1bf878,,add nilearnplottingplotconnectom plot connectom adjac matrix node coordin top glass brain view,N,2015-02-19 13:21:04
122,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-19 13:21:04,Add connectome plot to plot_adhd_covariance.py,7facf4d7949d52c090c9dce2418333bba892f861,,add connectom plot plotadhdcovariancepi,N,2015-02-19 14:28:08
123,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-19 14:28:08,Remove lingering TODOs,6492402dbe740b7cf3f53500ac1979e0d33309e6,,remov linger todo,N,2015-02-19 14:29:06
124,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-19 14:29:06,"Fix edges_threshold logic

The percentile should be in term of number of edges rather than size of the adjacency_matrix",ccce753ec43d83190b51dfd8e9c82327317bfc60,,fix edgesthreshold logic the percentil term number edg rather size adjacencymatrix,N,2015-02-19 15:37:11
125,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-19 15:37:11,Use symmetric norm for edges color mapping,06d77538918b8c2e09239b5576ff9fb9357a3679,,use symmetr norm edg color map,N,2015-02-19 21:56:34
126,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-19 21:56:34,Cosmetic changes in plot_adhd_covariance.py,159dd8fbf0d6c1694af6122e35133b71cc6a9dc6,,cosmet chang plotadhdcovariancepi,N,2015-02-20 14:13:34
127,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-20 14:13:34,"adjacency_matrix does not need to be positive semi-definite

but only symmetric",c444ee2c8d3d2f42755e18a3477c112705a2eafd,,adjacencymatrix need posit semidefinit symmetr,N,2015-02-20 14:24:58
128,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-20 14:24:58,Remove unneeded map construct,0eb1b5a156cc1fddafd4d10c22774721b2d681f6,,remov unneed map construct,N,2015-02-20 14:27:51
129,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-20 14:27:51,Use list rather than slice for simplicity,3e4ee1e9295c19dd97aef28f5ef0267b4f82f6e4,,use list rather slice simplic,N,2015-02-20 14:35:34
130,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-20 14:35:34,"Fix length of node_colors

atlas_maps is a string in this case ...",5cb58389ae97dbe4b4f29818bd9c3dff4888557b,,fix length nodecolor atlasmap string case,N,2015-02-20 16:53:17
131,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-20 16:53:17,"Add node_color and node_size to plot_connectome

Those are the parameters more likely to be changed by the user. So it makes sense to
take them out of the nodes_kwargs",622e3d795c6160634fe35e451f69711fe14f533d,,add nodecolor nodes plotconnectom those paramet like chang user So make sens take nodeskwarg,N,2015-02-20 16:56:13
132,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-20 16:56:13,"Renaming of parameters

nodes_kwargs -> node_kwargs and edges_kwargs -> edge_kwargs",cede62688d3b2189038d388a392b5279736bedec,,renam paramet nodeskwarg,N,2015-02-23 07:26:28
133,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-23 07:26:28,Remove unneeded import,adfd32bd9f08e47cb125c79c37011315e0229e97,,remov unneed import,N,2015-02-23 07:45:06
134,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-23 07:45:06,Fix typo,7554baf66aa1733e6f3a0a9d165de6d16e1a4f00,,fix typo,N,2015-02-23 08:05:04
135,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-23 08:05:04,Fix lingering merge conflicts,5e28539469addeaa11bc127ea85d015c41133e65,,fix linger merg conflict,N,2015-02-23 08:24:53
136,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-23 08:24:53,Fix plot_adhd_covariance example,345130866d716173ee6ad24f0f4e542a49602e60,,fix plotadhdcovari exampl,N,2015-02-23 13:17:58
137,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-23 13:17:58,"Fix axes aspect when black_bg is True

Modify the other axes aspect everywhere else.",f862a12b005c28d39ada3dce1d07e24c1366b78a,,fix axe aspect blackbg true modifi axe aspect everywher els,N,2015-02-24 08:50:09
138,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-24 08:50:09,"Change frame_axis.imshow back to aspect=auto

For black_bg=True the title was offset towards the middle somehow",bbf8f031ee4319c4341c6392e1060269897eab56,,chang frameaxisimshow back aspectauto for blackbgtru titl offset toward middl somehow,N,2015-02-24 08:56:20
139,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-24 08:56:20,"Refactoring of plot_connectome related-code

* default node colors using Set2 color map
* add edges_cmap to chose colormap for edges plotting
* node -> markers in GlassBrainAxes
* edges -> lines in GlassBrainAxes",dc02e910ae1c4f54ad2a46c7e95fc43cd88f3fa5,,refactor plotconnectom relatedcod default node color use set2 color map add edgescmap chose colormap edg plot node edg,N,2015-02-24 09:48:18
140,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-24 09:48:18,"Remove unnecessary plot_connectome function

from plot_adhd_covariance.py",e45c581237d9fba94f7b67654c200e7b15b47364,,remov unnecessari plotconnectom function plotadhdcovariancepi,N,2015-02-24 10:06:16
141,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-24 10:06:16,Fix wrong shape in docstring,09909f261fc8053674f83395f9cfe9e9109d1b4f,,fix wrong shape docstr,N,2015-02-24 10:11:20
142,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-24 10:11:20,"Renaming of nodes_ and edges_ variables

Use singular for consistency",a50b3a4ff5b2f8b41364544d776edd5c5271f58a,,renam node edg variabl use singular consist,N,2015-02-24 10:14:48
143,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-24 10:14:48,Add test with edge_cmap argument,ea5f2f85a9e8c6cdb3ece7b83b10f88604d9375e,,add test edgecmap argument,N,2015-02-24 10:30:20
144,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-24 10:30:20,"Fix figure numbering in functional_connectomes.rst

to reflect plot_adhd_covariance.py changes",98b0d6e887573e4cd6ff2165db21552d75c252f9,,fix figur number functionalconnectomesrst reflect plotadhdcovariancepi chang,N,2015-02-24 10:30:51
145,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-24 10:30:51,"Add plot_connectome documentation

in doc/building_blocks/plotting.rst",d6a068d843383886d2b1f88983a51f7e2a2545d0,,add plotconnectom document docbuildingblocksplottingrst,N,2015-02-24 11:59:56
146,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-24 11:59:56,Minor docstring fix,5aad825ddd0d69c41aca0444db1ffc9ebef629e3,,minor docstr fix,N,2015-02-24 12:01:53
147,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-24 12:01:53,Reorder arguments for consistency,5790c98260b5742ef51fffe2e5c1cee2735ebe75,,reorder argument consist,N,2015-02-24 13:03:21
148,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-24 13:03:21,Move logic from plot_connectome to OrthoProjector.add_graph,4298ae69b19f2150b901eabfb3e65e892768c7b6,,move logic plotconnectom orthoprojectoraddgraph,N,2015-02-24 13:04:50
149,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-24 13:04:50,Move plot_connectome lower down the list,a13d6f3d39e4a1aca9701af9f23d481e49870ce2,,move plotconnectom lower list,N,2015-02-24 13:08:35
150,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-24 13:08:35,Use transpose rather than zip,4ead5f16491232f095ced07b4c48c171afa662b6,,use transpos rather zip,N,2015-02-24 13:09:35
151,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-24 13:09:35,Use .filled for simplicity,362004e4b7ac382e0d77ac4117b28eb110eef7e3,,use fill simplic,N,2015-02-24 13:15:15
152,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-24 13:15:15,Allow node_coords to be array_like,0d8093c0c02fc4efbabf913859bd56c06d431d1e,,allow nodecoord arraylik,N,2015-02-24 14:14:01
153,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-24 14:14:01,"Set function defaults in the function signature

to be more helpful to the user. Also use ""auto"" for the automatic node colors",6ac2af208603290a464eeb9378a07a6872f1a084,,set function default function signatur help user also use auto automat node color,N,2015-02-24 14:19:50
154,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-24 14:19:50,np.array not necessary any more,024ce85954e77121cfd3058d91bcbdb06878d52c,,nparray necessari,N,2015-02-25 07:35:50
155,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-25 07:35:50,Remove title in test for minor speedup,a9431f8d00211a5aa2b3169342001b94f8b70c7f,,remov titl test minor speedup,N,2015-02-25 07:46:11
156,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-25 07:46:11,Improve error message when node_coords has the wrong shape,f49b646742d63d424e472a13c6b4c1a9b904910a,,improv error messag nodecoord wrong shape,N,2015-02-25 07:49:42
157,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-25 07:49:42,"Increase tolerance on symmetricity test

and update test",0812ff8d876d49f711d9e11cc5e62df7ae9061ba,,increas toler symmetr test updat test,N,2015-02-25 07:51:23
158,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-25 07:51:23,fast_abs_percentile already does the abs,598a183c02684b9c231997fbc6c2f08bd5e818c8,,fastabspercentil alreadi ab,N,2015-02-25 07:52:36
159,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-25 07:52:36,Remove kwargs from plot_connectome,2f519b908cc61a2ca070150d3d7e8c6f2b46cdae,,remov kwarg plotconnectom,N,2015-02-25 08:50:00
160,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-25 08:50:00,"Move edge_kwargs, node_kwargs down in the parameter list

not as likely to be used as other parameters",f0a2fad19275ed4b60bff3d34826d2877df807cb,,move edgekwarg nodekwarg paramet list like use paramet,N,2015-02-25 12:48:14
161,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-25 12:48:14,Fix minor typo in comment,573e78b46ef345a3c932b56442d8f21c1a2eb72b,,fix minor typo comment,N,2015-02-25 12:49:26
162,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-25 12:49:26,Use higher edge_threshold to have nicer connectome plots,acf7245d2c8a764abd34d864738eb749e79e56bf,,use higher edgethreshold nicer connectom plot,N,2015-02-25 12:50:54
163,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-25 12:50:54,"Use GraphLasso plot for plot_connectome image

in plotting documentation",8c3494c9ae97f72375e32352761fbab2954e93df,,use graphlasso plot plotconnectom imag plot document,N,2015-02-25 12:56:20
164,pull_request_commit,441,nilearn,nilearn,lesteve,2015-02-25 12:56:20,"Add connectome plot to carousel

* Had to tweak the css in order to align the img vertically inside the carousel
* renamed reST substitution to be more explicit while I was at it",505de77d37f69c69c02b84b4f98748984b4e3206,,add connectom plot carousel had tweak css order align img vertic insid carousel renam rest substitut explicit I,N,2015-02-25 13:13:36
1,issue_title,408,nilearn,nilearn,mrahim,2015-02-05 17:21:50,"As @GaelVaroquaux said, it will speed up travis execution. 
",start issue,Speed up plotting tests (was Nifti image size should be small when testing),As gaelvaroquaux said speed travi execut,N,2015-03-03 14:27:06
2,issue_closed,408,nilearn,nilearn,lesteve,2015-03-03 14:27:06,,closed issue,Speed up plotting tests (was Nifti image size should be small when testing),,N,2015-02-10 14:38:10
3,issue_comment,408,nilearn,nilearn,GaelVaroquaux,2015-02-10 14:38:10,"-1 for mocking. 

Sent from my phone. Please forgive brevity and mis spelling

On Feb 10, 2015, 15:30, at 15:30, Alexandre Abraham notifications@github.com wrote:

> Quick test during the parietal meeting: by replaceing the backend by
> `template`, closing each figure just after it is opened (and not
> letting dozens of figures opened before closing them all) and using
> rasterized=True option on the axis in `test_plot_img_functions`, I
> dropped from 58 seconds to 46 seconds. I'm not sure of which
> modification led to that.
> 
> Question: can't we test `plot_img` completely and then mock it? Or
> maybe mock pyplot if we just want to test the logic of the plot
> functions and not the actual plotting?
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/issues/408#issuecomment-73707713
",,,1 mock sent phone pleas forgiv breviti mi spell On feb 10 2015 1530 1530 alexandr abraham notificationsgithubcom wrote,N,2015-02-11 16:56:12
4,issue_comment,408,nilearn,nilearn,GaelVaroquaux,2015-02-11 16:56:12,">   • nosetests --processes=8

That's not solving the problem. That's hidding it.

>   • removing coverage speeds up tests too.

Maybe we should do that. However, we still need to work on making tests
faster.
",,,that solv problem that hid mayb howev still need work make test faster,Y,2015-02-09 12:53:26
5,issue_comment,408,nilearn,nilearn,AlexandreAbraham,2015-02-09 12:53:26,"As said in another thread, using _template_ matplotlib backend may speed things up a little bit. Not sure how much though.
",,,As said anoth thread use templat matplotlib backend may speed thing littl bit not sure much though,N,2015-02-10 14:30:17
6,issue_comment,408,nilearn,nilearn,AlexandreAbraham,2015-02-10 14:30:17,"Quick test during the parietal meeting: by replaceing the backend by `template`, closing each figure just after it is opened (and not letting dozens of figures opened before closing them all) and using rasterized=True option on the axis in `test_plot_img_functions`, I dropped from 58 seconds to 46 seconds. I'm not sure of which modification led to that.

Question: can't we test `plot_img` completely and then mock it? Or maybe mock pyplot if we just want to test the logic of the plot functions and not the actual plotting?
",,,quick test pariet meet replac backend close figur open let dozen figur open close use rasterizedtru option axi I drop 58 second 46 second Im sure modif led question cant test complet mock Or mayb mock pyplot want test logic plot function actual plot,Y,2015-02-10 23:51:04
7,issue_comment,408,nilearn,nilearn,AlexandreAbraham,2015-02-10 23:51:04,"What about using something like nosetests --processes=8?
",,,what use someth like nosetest processes8,N,2015-02-11 15:32:33
8,issue_comment,408,nilearn,nilearn,AlexandreAbraham,2015-02-11 15:32:33,"A few comments:
- nosetests --processes=8 can speed up tests. However, it parallelizes tests wrt files. In our case, the longest test shoudl be split into several files. Also, Travis machines have 1 or 2 cores, meaning that the speedup will not be significant.
- removing coverage speeds up tests too. However,  I've noticed that coverage is not enabled on Travis.
  So, I have no idea how to speed things up except by removing some of the tests.
",,,A comment nosetest processes8 speed test howev parallel test wrt file In case longest test shoudl split sever file also travi machin 1 2 core mean speedup signific remov coverag speed test howev ive notic coverag enabl travi So I idea speed thing except remov test,Y,2015-02-12 09:51:24
1,issue_title,426,nilearn,nilearn,banilo,2015-02-13 13:04:48,"tries to fix #425 
",start issue,refactor nifti masker family,tri fix 425,N,2015-02-16 13:07:47
2,issue_closed,426,nilearn,nilearn,AlexandreAbraham,2015-02-16 13:07:47,,closed issue,refactor nifti masker family,,N,2015-02-13 13:04:48
3,pull_request_title,426,nilearn,nilearn,banilo,2015-02-13 13:04:48,"tries to fix #425 
",89d8624fdcc77b4473cfcee8047da847587e144f,refactor nifti masker family,tri fix 425,N,2015-02-16 13:07:47
4,pull_request_merged,426,nilearn,nilearn,AlexandreAbraham,2015-02-16 13:07:47,refactor nifti masker family,a5814638e7656ed0f7ddeab20524a4cee203d8b8,Pull request merge from banilo/nilearn:refac_maskers to nilearn/nilearn:master,refactor nifti masker famili,N,2015-02-16 12:37:06
5,issue_comment,426,nilearn,nilearn,banilo,2015-02-16 12:37:06,"rebased!
",,,rebas,N,2015-02-13 13:07:14
6,pull_request_commit_comment,426,nilearn,nilearn,AlexandreAbraham,2015-02-13 13:07:14,"Duplicated code.
",89d8624fdcc77b4473cfcee8047da847587e144f,"(22, '', u'nilearn/input_data/nifti_labels_masker.py')",duplic code,N,2015-02-13 13:08:03
7,pull_request_commit_comment,426,nilearn,nilearn,banilo,2015-02-13 13:08:03,"I know, there is a similar situation with a helper function in the tests. What's your suggestion to handle this?
",89d8624fdcc77b4473cfcee8047da847587e144f,"(22, '', u'nilearn/input_data/nifti_labels_masker.py')",I know similar situat helper function test what suggest handl,Y,2015-02-13 13:15:05
8,pull_request_commit_comment,426,nilearn,nilearn,AlexandreAbraham,2015-02-13 13:15:05,"My suggestion is: not duplicating the code.

What we can do is to let it pass in this PR. Given that it's a 5 line private function, it's not a big matter. Afterward, I suggest that we take all the little tricks that we use to have a nice display and put them somewhere in _utils.
",89d8624fdcc77b4473cfcee8047da847587e144f,"(22, '', u'nilearn/input_data/nifti_labels_masker.py')",My suggest duplic code what let pass PR given 5 line privat function big matter afterward I suggest take littl trick use nice display put somewher util,N,2015-02-13 12:58:35
9,pull_request_commit,426,nilearn,nilearn,banilo,2015-02-13 12:58:35,refactor nifti masker family,395ad3d42e58fe9ea8fc82b61ad5eca6f5db7efa,,refactor nifti masker famili,N,2015-02-16 12:35:04
1,issue_title,473,nilearn,nilearn,banilo,2015-03-01 13:33:42,"find_xyz_cut_coords() is currently crashing for very small values in nifti image due to failure of largest_connected_component() call.
",start issue,bugfix in findcuts(),findxyzcutcoord current crash small valu nifti imag due failur largestconnectedcompon call,N,2015-03-13 21:53:10
2,issue_closed,473,nilearn,nilearn,AlexandreAbraham,2015-03-13 21:53:10,,closed issue,bugfix in findcuts(),,N,2015-03-01 13:33:42
3,pull_request_title,473,nilearn,nilearn,banilo,2015-03-01 13:33:42,"find_xyz_cut_coords() is currently crashing for very small values in nifti image due to failure of largest_connected_component() call.
",1b82fc6801488be0b72b2380f419fe38a2c0bd12,bugfix in findcuts(),findxyzcutcoord current crash small valu nifti imag due failur largestconnectedcompon call,N,2015-03-13 21:53:10
4,pull_request_merged,473,nilearn,nilearn,AlexandreAbraham,2015-03-13 21:53:10,bugfix in findcuts(),351b60ba65a1cb269d632381b4413dbbe57805d7,Pull request merge from banilo/nilearn:findcutsbug to nilearn/nilearn:master,bugfix findcut,N,2015-03-01 13:38:09
5,issue_comment,473,nilearn,nilearn,banilo,2015-03-01 13:38:09,"Should we add a regression test?
",,,should add regress test,Y,2015-03-01 13:47:20
6,issue_comment,473,nilearn,nilearn,lesteve,2015-03-01 13:47:20,"> Should we add a regression test?

Yes please
",,,ye pleas,N,2015-03-10 12:47:24
7,issue_comment,473,nilearn,nilearn,banilo,2015-03-10 12:47:24,"How about now?
",,,how,N,2015-03-10 14:05:19
8,issue_comment,473,nilearn,nilearn,GaelVaroquaux,2015-03-10 14:05:19,"Failing test
",,,fail test,Y,2015-03-10 14:11:07
9,issue_comment,473,nilearn,nilearn,banilo,2015-03-10 14:11:07,"The test with the sparse matrix is failing due to np.nan_to_num()

``` python
    sparse_adjacency_matrix = sparse.coo_matrix(adjacency_matrix)
    plot_connectome(sparse_adjacency_matrix, node_coords,
                    **kwargs)
```

So?
",,,the test spars matrix fail due npnantonum So,Y,2015-03-10 14:16:28
10,issue_comment,473,nilearn,nilearn,GaelVaroquaux,2015-03-10 14:16:28,"Apply it only on the ""data"" attribute of the sparse matrix. You can test for sparse matrix with scipy.sparse.isspmatrix

Sent from my phone. Please forgive brevity and mis spelling

On Mar 10, 2015, 15:11, at 15:11, Danilo Bzdok notifications@github.com wrote:

> The test with the sparse matrix is failing due to np.nan_to_num()
> 
> ``` python
>    sparse_adjacency_matrix = sparse.coo_matrix(adjacency_matrix)
>    plot_connectome(sparse_adjacency_matrix, node_coords,
>                    **kwargs)
> ```
> 
> So?
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/473#issuecomment-78060355
",,,appli data attribut spars matrix you test spars matrix scipysparseisspmatrix sent phone pleas forgiv breviti mi spell On mar 10 2015 1511 1511 danilo bzdok notificationsgithubcom wrote,Y,2015-03-10 15:37:30
11,issue_comment,473,nilearn,nilearn,lesteve,2015-03-10 15:37:30,"Could you rebase on master so that we can get the coverage and python 3 support?
",,,could rebas master get coverag python 3 support,N,2015-03-01 20:41:33
12,pull_request_commit_comment,473,nilearn,nilearn,bthirion,2015-03-01 20:41:33,"Could you add a comment ? I'm not sure I understand what you do here. 
+ a test...
",1b82fc6801488be0b72b2380f419fe38a2c0bd12,"(None, '', u'nilearn/plotting/find_cuts.py')",could add comment Im sure I understand test,Y,2015-03-09 13:41:57
13,pull_request_commit_comment,473,nilearn,nilearn,AlexandreAbraham,2015-03-09 13:41:57,":+1: This is not clear for me either.
",1b82fc6801488be0b72b2380f419fe38a2c0bd12,"(None, '', u'nilearn/plotting/find_cuts.py')",1 thi clear either,N,2015-03-09 22:30:40
14,pull_request_commit_comment,473,nilearn,nilearn,banilo,2015-03-09 22:30:40,"For some obscure reason the 'mask' happened to contain only zeros for a certain nifti image, which is why largest_connected_component crashed. Unfortunately, I have not succeeded in creating the same situation in a test :(
",1b82fc6801488be0b72b2380f419fe38a2c0bd12,"(None, '', u'nilearn/plotting/find_cuts.py')",for obscur reason mask happen contain zero certain nifti imag largestconnectedcompon crash unfortun I succeed creat situat test,Y,2015-03-10 09:01:06
15,pull_request_commit_comment,473,nilearn,nilearn,GaelVaroquaux,2015-03-10 09:01:06,"What you are doing here is absolutely to me :). However, it seems that a comment would be welcome.

I addition, I would write the line above: 'if not np.any(mask)'.

Once this is in, and a test, I am :+1: for merge. And thanks, this is very useful!
",1b82fc6801488be0b72b2380f419fe38a2c0bd12,"(None, '', u'nilearn/plotting/find_cuts.py')",what absolut howev seem comment would welcom I addit I would write line npanymask onc test I 1 merg and thank use,Y,2015-03-10 11:31:31
16,pull_request_commit_comment,473,nilearn,nilearn,AlexandreAbraham,2015-03-10 11:31:31,"Isn't `if not np.any(mask)` slower? In that case, we should also change line 73.
",1b82fc6801488be0b72b2380f419fe38a2c0bd12,"(None, '', u'nilearn/plotting/find_cuts.py')",isnt slower In case also chang line 73,N,2015-03-10 11:34:40
17,pull_request_commit_comment,473,nilearn,nilearn,GaelVaroquaux,2015-03-10 11:34:40,"Did you time this with %timeit?

Sent from my phone. Please forgive brevity and mis spelling

On Mar 10, 2015, 12:31, at 12:31, Alexandre Abraham notifications@github.com wrote:

> > @@ -76,6 +76,8 @@ def find_xyz_cut_coords(img, mask=None,
> > activation_threshold=None):
> >          activation_threshold = fast_abs_percentile(my_map[my_map !=
> > 0].ravel(),
> >                                                     80)
> >      mask = np.abs(my_map) > activation_threshold - 1.e-15
> > -    if mask.sum() == 0:
> 
> Isn't `if not np.any(mask)` slower? In that case, we should also change
> line 73.
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/473/files#r26113990
",1b82fc6801488be0b72b2380f419fe38a2c0bd12,"(None, '', u'nilearn/plotting/find_cuts.py')",did time timeit sent phone pleas forgiv breviti mi spell On mar 10 2015 1231 1231 alexandr abraham notificationsgithubcom wrote,N,2015-03-10 11:37:41
18,pull_request_commit_comment,473,nilearn,nilearn,AlexandreAbraham,2015-03-10 11:37:41,"I've done it: the max/min version is twice as fast for a 50x50x50 image.
",1b82fc6801488be0b72b2380f419fe38a2c0bd12,"(None, '', u'nilearn/plotting/find_cuts.py')",ive done maxmin version twice fast 50x50x50 imag,N,2015-03-10 11:55:11
19,pull_request_commit_comment,473,nilearn,nilearn,GaelVaroquaux,2015-03-10 11:55:11,"> I've done it: the max/min version is twice as fast for a 50x50x50 image.

Thanks for checking!
",1b82fc6801488be0b72b2380f419fe38a2c0bd12,"(None, '', u'nilearn/plotting/find_cuts.py')",thank check,N,2015-03-10 12:57:01
20,pull_request_commit_comment,473,nilearn,nilearn,lesteve,2015-03-10 12:57:01,"minor comment: `* 1e-7`

More importantly isn't this test supposed to fail without your fix in find_cuts.py? Spoiler: it doesn't seem to, at least for me ...
",1b82fc6801488be0b72b2380f419fe38a2c0bd12,"(None, '', u'nilearn/plotting/tests/test_find_cuts.py')",minor comment more importantli isnt test suppos fail without fix findcutspi spoiler doesnt seem least,Y,2015-03-11 07:32:37
21,pull_request_commit_comment,473,nilearn,nilearn,lesteve,2015-03-11 07:32:37,"I guess because that's a boolean array you only need the mask.max() == 0
",1b82fc6801488be0b72b2380f419fe38a2c0bd12,"(5, '', u'nilearn/plotting/find_cuts.py')",I guess that boolean array need maskmax 0,N,2015-03-11 07:43:01
22,pull_request_commit_comment,473,nilearn,nilearn,lesteve,2015-03-11 07:43:01,"I believe the lines above (l.73) are now redundant and should be removed:

``` python
# Testing min and max is faster than np.all(my_map == 0)
if (my_map.max() == 0) and (my_map.min() == 0):
    return .5 * np.array(data.shape)
```
",1b82fc6801488be0b72b2380f419fe38a2c0bd12,"(5, '', u'nilearn/plotting/find_cuts.py')",I believ line l73 redund remov,N,2015-03-11 08:09:55
23,pull_request_commit_comment,473,nilearn,nilearn,lesteve,2015-03-11 08:09:55,"I actually double-check the claim that checking .max() and .min() was faster than using .any(), it seems to be true for float arrays but not boolean ones.

I'd be in favour of `if not mask.any()`

``` python
import numpy as np
arr = np.random.random((64, 64, 64))
%timeit arr.max()
%timeit arr.any()
bool_arr = arr > 0.5
%timeit bool_arr.max()
%timeit bool_arr.any()
%timeit np.any(bool_arr)
```

``` python
In [75]: import numpy as np

In [76]: arr = np.random.random((64, 64, 64))

In [77]: %timeit arr.max()
10000 loops, best of 3: 126 µs per loop

In [78]: %timeit arr.any()
1000 loops, best of 3: 868 µs per loop

In [79]: bool_arr = arr > 0.5

In [80]: %timeit bool_arr.max()
The slowest run took 6.30 times longer than the fastest. This could mean that an intermediate result is being cached 
100000 loops, best of 3: 9.85 µs per loop

In [81]: %timeit bool_arr.any()
The slowest run took 6.49 times longer than the fastest. This could mean that an intermediate result is being cached 
100000 loops, best of 3: 9.63 µs per loop

In [82]: %timeit np.any(bool_arr)
The slowest run took 5.46 times longer than the fastest. This could mean that an intermediate result is being cached 
100000 loops, best of 3: 14.1 µs per loop
```

Interestingly enough `np.any` has a 50% overhead compared to `.any`. While we are playing with micro-optimisations, `any(arr.flat)` could be a candidate but I guess it depends how many False you have to iterate through before finding the first True or the end of the array.
",1b82fc6801488be0b72b2380f419fe38a2c0bd12,"(5, '', u'nilearn/plotting/find_cuts.py')",I actual doublecheck claim check max min faster use seem true float array boolean one Id favour interestingli enough 50 overhead compar while play microoptimis could candid I guess depend mani fals iter find first true end array,N,2015-03-11 08:21:52
24,pull_request_commit_comment,473,nilearn,nilearn,lesteve,2015-03-11 08:21:52,"Better comment? Something like: test with no data above the activation threshold
",1b82fc6801488be0b72b2380f419fe38a2c0bd12,"(None, '', u'nilearn/plotting/tests/test_find_cuts.py')",better comment someth like test data activ threshold,Y,2015-03-11 08:24:57
25,pull_request_commit_comment,473,nilearn,nilearn,AlexandreAbraham,2015-03-11 08:24:57,"> I believe the lines above (l.73) are now redundant and should be removed 

Are you sur that `fast_abs_percentile` won't crash if the array is empty?
",1b82fc6801488be0b72b2380f419fe38a2c0bd12,"(5, '', u'nilearn/plotting/find_cuts.py')",are sur wont crash array empti,N,2015-03-11 08:36:12
26,pull_request_commit_comment,473,nilearn,nilearn,lesteve,2015-03-11 08:36:12,"> Are you sur that fast_abs_percentile won't crash if the array is empty?

Good point, let's leave it like that for now then.
",1b82fc6801488be0b72b2380f419fe38a2c0bd12,"(5, '', u'nilearn/plotting/find_cuts.py')",good point let leav like,N,2015-03-13 15:10:05
27,pull_request_commit_comment,473,nilearn,nilearn,banilo,2015-03-13 15:10:05,"> Better comment?

Done!
",1b82fc6801488be0b72b2380f419fe38a2c0bd12,"(None, '', u'nilearn/plotting/tests/test_find_cuts.py')",done,N,2015-03-13 15:08:12
1,issue_title,291,nilearn,nilearn,banilo,2014-11-22 17:51:32,"tries to fix #165 
",start issue,[ENH] NiftiMasker: added time mask,tri fix 165,N,2015-02-12 10:07:09
3,pull_request_title,291,nilearn,nilearn,banilo,2014-11-22 17:51:32,"tries to fix #165 
",ca858367317cf691a62672b29623cbd9e27af87a,[ENH] NiftiMasker: added time mask,tri fix 165,N,2015-02-12 10:07:09
8,issue_comment,291,nilearn,nilearn,GaelVaroquaux,2015-01-25 09:54:00,"> @AlexandreAbraham: Do you think it makes sense to include an option for either
> pre- or post-pretreatment application of the 4D filter?

We need to make a choice. Too many options are detrimental. It should
probably be 'pre application', because these are the only semantics that
make sens in general. However, this will blend a bit the masked data with
the non masked data in the case of time filtering, so we will have to
warn the user.
",,,We need make choic too mani option detriment It probabl pre applic semant make sen gener howev blend bit mask data non mask data case time filter warn user,N,2015-02-10 15:41:18
9,issue_comment,291,nilearn,nilearn,banilo,2015-02-10 15:41:18,"Comments hopefully addressed. Mask is currently applied pre-treatment.
",,,comment hope address mask current appli pretreat,N,2015-02-10 16:38:09
10,issue_comment,291,nilearn,nilearn,GaelVaroquaux,2015-02-10 16:38:09,"LGTM: minor rephrasing to do, and a rebase necessary to address merge conflicts.
",,,lgtm minor rephras rebas necessari address merg conflict,N,2015-02-10 18:42:07
11,issue_comment,291,nilearn,nilearn,banilo,2015-02-10 18:42:07,"rephrased + rebased.
",,,rephras rebas,N,2015-02-11 09:38:43
12,issue_comment,291,nilearn,nilearn,banilo,2015-02-11 09:38:43,"Docstring updated!
",,,docstr updat,N,2015-02-11 14:31:15
13,issue_comment,291,nilearn,nilearn,banilo,2015-02-11 14:31:15,"Ok, done.
",,,Ok done,N,2015-02-12 10:07:25
14,issue_comment,291,nilearn,nilearn,lesteve,2015-02-12 10:07:25,"Looks good, merging, thanks a lot.
",,,look good merg thank lot,N,2015-02-02 15:06:35
15,issue_comment,291,nilearn,nilearn,eickenberg,2015-02-02 15:06:35,"+1

mask_time is weird

timecourse_mask would be another option.

however, the axis we are referring to can be more general than time. we
could also select conditions with it for decoding, see e.g. the haxby
example. in this perspective the name time_mask is a little restrictive.
samples_mask would be more generic, and still understandable/correct

On Monday, February 2, 2015, Gael Varoquaux notifications@github.com
wrote:

> > 1. I am still in favor of time_mask vs mask_time, be it only because it
> >    is
> >    closer to how you would call it in plain English.
> 
> +1
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/291#issuecomment-72468504.
",,,1 masktim weird timecoursemask would anoth option howev axi refer gener time could also select condit decod see eg haxbi exampl perspect name timemask littl restrict samplesmask would gener still understandablecorrect On monday februari 2 2015 gael varoquaux notificationsgithubcom wrote,N,2015-02-02 17:05:18
16,issue_comment,291,nilearn,nilearn,eickenberg,2015-02-02 17:05:18,"detrending and standardization cannot be done on the haxby example before
the chunks are cut up. One can also get by without doing it. In general I
was thinking more along the lines of series of beta maps from a rapid
event-related paradigm. You don't detrend or standardize those.

On Mon, Feb 2, 2015 at 4:27 PM, Alexandre Abraham notifications@github.com
wrote:

> however, the axis we are referring to can be more general than time. we
> could also select conditions with it for decoding, see e.g. the haxby
> example. in this perspective the name time_mask is a little restrictive.
> samples_mask would be more generic, and still understandable/correct
> 
> In the case of Haxby example, don't you select conditions after the
> pre-treatment (ie detrending, etc)?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/291#issuecomment-72475594.
",,,detrend standard cannot done haxbi exampl chunk cut one also get without In gener I think along line seri beta map rapid eventrel paradigm you dont detrend standard On mon feb 2 2015 427 PM alexandr abraham notificationsgithubcom wrote,N,2015-02-02 17:09:45
17,issue_comment,291,nilearn,nilearn,eickenberg,2015-02-02 17:09:45,"because they come from different runs. It doesn't make sense to detrend or
standardize over the borders of runs. scipy.signal.detrend takes
breakpoints, but they are not exposed in the niftimasker. I also don't
think that this is a general case. As already discussed with Bertrand,
datasets from nowadays are usually kept in one file per run because they
are already large on their own. It is only with datasets that at present
one can consider ""old"" that such concatenations become feasible.

On Mon, Feb 2, 2015 at 6:06 PM, Gael Varoquaux notifications@github.com
wrote:

> > detrending and standardization cannot be done on the haxby example before
> > the chunks are cut up.
> 
> Why?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/291#issuecomment-72494655.
",,,come differ run It doesnt make sens detrend standard border run scipysignaldetrend take breakpoint expos niftimask I also dont think gener case As alreadi discuss bertrand dataset nowaday usual kept one file per run alreadi larg It dataset present one consid old concaten becom feasibl On mon feb 2 2015 606 PM gael varoquaux notificationsgithubcom wrote,N,2015-02-02 17:41:45
18,issue_comment,291,nilearn,nilearn,eickenberg,2015-02-02 17:41:45,"They are 12 acquisition runs, the scanning is stopped after each one of them (that is my point) - but yes, one scanner session. Total acquisition time 3630 seconds.
",,,they 12 acquisit run scan stop one point ye one scanner session total acquisit time 3630 second,N,2015-02-02 17:42:29
19,issue_comment,291,nilearn,nilearn,eickenberg,2015-02-02 17:42:29,"(All in one file, runs labeled from 0 to 11 in the column ""chunk"")
",,,all one file run label 0 11 column chunk,N,2015-02-03 10:20:56
20,issue_comment,291,nilearn,nilearn,eickenberg,2015-02-03 10:20:56,":) I had to reproduce the original study once, so I was forced to read all the small print at one point.

> centering would be taken care off by defining the session vector as a confound.

Indeed, in a GLM, but we have typically done decoding directly on the data.

My point is that one could use the ""Time Masker"" to mask conditions here. However, since these data are still temporally structured, the example is bad. If you consider a dataset consisting of many beta maps (such as an event-related paradigm), the is nothing time-related at all involved, but one may still be tempted to use the ""Time Masking"" to select images according to certain conditions.

Hence my proposition to use a name that is more general than the word ""time"", e.g. ""sample"". That said, I have no problem using something that has the name ""time"" in it on my non-temporal 4th axis.
",,,I reproduc origin studi I forc read small print one point inde glm typic done decod directli data My point one could use time masker mask condit howev sinc data still tempor structur exampl bad If consid dataset consist mani beta map eventrel paradigm noth timerel involv one may still tempt use time mask select imag accord certain condit henc proposit use name gener word time eg sampl that said I problem use someth name time nontempor 4th axi,N,2015-02-02 15:27:48
23,issue_comment,291,nilearn,nilearn,banilo,2015-01-14 17:29:41,"fixed merge conflicts + restored empty lines at file end + squashed
",,,fix merg conflict restor empti line file end squash,N,2015-01-30 08:40:03
24,issue_comment,291,nilearn,nilearn,banilo,2015-01-30 08:40:03,"Ok, time masking now uses Loics index_img :)
",,,Ok time mask use loic indeximg,N,2015-02-03 10:24:41
42,pull_request_commit_comment,291,nilearn,nilearn,eickenberg,2015-01-20 22:16:29,"> Using this PR, memory is safed

line 74 makes a copy... 

If Loic's slicing PR permits slices into memmapped .nii files, then that is the best possible way of saving memory.

So the sole advantage of having time slicing (once Loic's is merged) in the NiftiMasker is the fact that it can go in a pipeline.
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/base_masker.py')",line 74 make copi If loic slice PR permit slice memmap nii file best possibl way save memori So sole advantag time slice loic merg niftimask fact go pipelin,N,2015-02-02 14:37:24
43,pull_request_commit_comment,291,nilearn,nilearn,lesteve,2015-02-02 14:37:24,"import is already a few lines below.
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/tests/test_nifti_masker.py')",import alreadi line,N,2015-02-02 14:44:28
44,pull_request_commit_comment,291,nilearn,nilearn,lesteve,2015-02-02 14:44:28,"> Data preprocessing will ignore the time mask whereas NiftiMasker.transform will only consider time-masked images.

I thought this wasn't true anymore, i.e. the indexing was done before the other treatments like filtering.

> Use case: Avoid creation of a temporary 4D data nifti, potentially expensive in memory, before application of NiftiMasker.

Not sure what you mean by that, it seems to be that indexing does create a temporary 4D image but maybe I am missing something.
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/nifti_masker.py')",I thought wasnt true anymor ie index done treatment like filter not sure mean seem index creat temporari 4D imag mayb I miss someth,N,2015-02-02 14:46:20
45,pull_request_commit_comment,291,nilearn,nilearn,lesteve,2015-02-02 14:46:20,"Also maybe the ""pipelinability"" should be mentioned in this docstring.
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/nifti_masker.py')",also mayb pipelin mention docstr,N,2015-02-02 14:53:11
46,pull_request_commit_comment,291,nilearn,nilearn,lesteve,2015-02-02 14:53:11,"This is quite convoluted. I am sure there must be something better than this. mask.sum() should work but maybe there is something more generic.
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/tests/test_nifti_masker.py')",thi quit convolut I sure must someth better masksum work mayb someth gener,N,2015-02-02 14:53:56
47,pull_request_commit_comment,291,nilearn,nilearn,lesteve,2015-02-02 14:53:56,"Could we not check that applying index_img and then the mask without time_mask is the same as applying the mask with time_mask to the original image?
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/tests/test_nifti_masker.py')",could check appli indeximg mask without timemask appli mask timemask origin imag,N,2015-02-02 15:10:35
48,pull_request_commit_comment,291,nilearn,nilearn,lesteve,2015-02-02 15:10:35,"minor comment, I would use `time/fourth dimension` rather than `time/4D dimension`
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/nifti_masker.py')",minor comment I would use rather,N,2015-02-02 15:12:02
49,pull_request_commit_comment,291,nilearn,nilearn,banilo,2015-02-02 15:12:02,"Ok
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/tests/test_nifti_masker.py')",Ok,N,2015-02-02 15:14:19
50,pull_request_commit_comment,291,nilearn,nilearn,banilo,2015-02-02 15:14:19,"In real-world (float typed) binary mask niftis this did sometimes not give the same result, but here I will shift to sum() as suggested.
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/tests/test_nifti_masker.py')",In realworld float type binari mask nifti sometim give result I shift sum suggest,N,2015-02-02 15:17:36
51,pull_request_commit_comment,291,nilearn,nilearn,banilo,2015-02-02 15:17:36,"I will make sure the 4D mask is 'pre application', as suggested by Gael
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/nifti_masker.py')",I make sure 4D mask pre applic suggest gael,N,2015-02-02 15:18:34
52,pull_request_commit_comment,291,nilearn,nilearn,lesteve,2015-02-02 15:18:34,"Depending on your use case, you could use something like `mask.astype(bool).sum()` or `np.isclose(mask, 0).sum()`. Note that the latter has some default absolute and relative tolerance that you may want to tweak.
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/tests/test_nifti_masker.py')",depend use case could use someth like note latter default absolut rel toler may want tweak,N,2015-02-10 16:36:52
53,pull_request_commit_comment,291,nilearn,nilearn,GaelVaroquaux,2015-02-10 16:36:52,"Rather than 'usecase: ...' I would say: 'this is useful to perform...'
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/nifti_masker.py')",rather usecas I would say use perform,N,2015-02-11 10:26:21
54,pull_request_commit_comment,291,nilearn,nilearn,lesteve,2015-02-11 10:26:21,"You may as well use index_img now that it exists.
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/tests/test_nifti_masker.py')",you may well use indeximg exist,N,2015-02-11 10:27:31
55,pull_request_commit_comment,291,nilearn,nilearn,banilo,2015-02-11 10:27:31,"Should the tests not be as basic and transparent as possible?
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/tests/test_nifti_masker.py')",should test basic transpar possibl,Y,2015-02-11 10:31:54
56,pull_request_commit_comment,291,nilearn,nilearn,lesteve,2015-02-11 10:31:54,"Isn't it simpler to do (please use better names than mine):

``` python

masker2 = NiftiMasker(mask_img=mask_img)
masker2.fit()
data_imgs_subset = index_img(data_imgs, sample_mask)
data_trans_direct = masker2.transform(data_imgs_subset)
```

Basically you want to make sure that using sample_mask in the masker is the same as using index_img on the data and then a masker without sample_mask.
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/tests/test_nifti_masker.py')",isnt simpler pleas use better name mine basic want make sure use samplemask masker use indeximg data masker without samplemask,N,2015-02-11 10:48:38
57,pull_request_commit_comment,291,nilearn,nilearn,lesteve,2015-02-11 10:48:38,"it looks like you moved away from PEP8 here
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/base_masker.py')",look like move away pep8,N,2015-02-11 10:51:51
58,pull_request_commit_comment,291,nilearn,nilearn,lesteve,2015-02-11 10:51:51,"Yes. By the way, just curious, any particular reason you are not using data_img_4d in the transform call?
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/tests/test_nifti_masker.py')",ye By way curiou particular reason use dataimg4d transform call,N,2015-02-11 10:53:53
59,pull_request_commit_comment,291,nilearn,nilearn,lesteve,2015-02-11 10:53:53,"Maybe it's just me but I would do:

``` python
imgs = _utils.check_niimgs(imgs, accept_3d=True)

if sample_mask is not None:
    imgs = image.index_img(imgs, sample_mask)
```
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/base_masker.py')",mayb I would,N,2015-02-11 10:54:59
60,pull_request_commit_comment,291,nilearn,nilearn,banilo,2015-02-11 10:54:59,"That is used in line 143.
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/tests/test_nifti_masker.py')",that use line 143,N,2015-02-11 10:55:33
61,pull_request_commit_comment,291,nilearn,nilearn,banilo,2015-02-11 10:55:33,"It has been like that before, Alex wanted me to change it this way.
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/base_masker.py')",It like alex want chang way,N,2015-02-11 14:45:38
62,pull_request_commit_comment,291,nilearn,nilearn,AlexandreAbraham,2015-02-11 14:45:38,"I suggested that because I thought that `index_img` could be faster if `imgs` was a list of 3D imgs. Given that it's not the case, I would be in favor of what @lesteve proposes.
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/base_masker.py')",I suggest I thought could faster list 3D img given case I would favor lestev propos,N,2015-02-12 08:35:07
63,pull_request_commit_comment,291,nilearn,nilearn,lesteve,2015-02-12 08:35:07,"OK just this one to do and it should be good to go.
",ca858367317cf691a62672b29623cbd9e27af87a,"(None, '', u'nilearn/input_data/base_masker.py')",OK one good go,N,2015-02-12 08:42:31
65,pull_request_commit,291,nilearn,nilearn,banilo,2015-01-14 17:31:55,ENH NiftiMasker: add time mask,08faed3c6c9cc860a3ce1896db2bd51a1e3a202d,,enh niftimask add time mask,N,2015-01-30 08:12:46
66,pull_request_commit,291,nilearn,nilearn,banilo,2015-01-30 08:12:46,integrated Loics index_img,1878b105e8249990ba34d164111f59ad86f4fe66,,integr loic indeximg,N,2015-01-30 08:33:16
67,pull_request_commit,291,nilearn,nilearn,banilo,2015-01-30 08:33:16,corrected variable type,8f2fdeaab7184d77e6a859498db199b66ec683f5,,correct variabl type,N,2015-02-10 15:40:11
68,pull_request_commit,291,nilearn,nilearn,banilo,2015-02-10 15:40:11,switched to sample_mask + upgrates,380c0681bf8b9252befec411d12b71b0678222c6,,switch samplemask upgrat,N,2015-02-10 18:38:46
69,pull_request_commit,291,nilearn,nilearn,banilo,2015-02-10 18:38:46,rephrasing,713202b9d7f3e9ff7a4b087d59cc5ccd13b95e96,,rephras,N,2015-02-11 10:03:30
70,pull_request_commit,291,nilearn,nilearn,banilo,2015-02-11 10:03:30,adapted docstring,168c9383f8ca8b986b6a1bec1a480e259221e899,,adapt docstr,N,2015-02-11 14:27:46
71,pull_request_commit,291,nilearn,nilearn,banilo,2015-02-11 14:27:46,simplifications + PEP8,51d6b543e193cf385f97ff216400a7f0f54f289a,,simplif pep8,N,2015-02-12 08:41:30
1,issue_title,475,nilearn,nilearn,bcipolli,2015-03-01 15:54:09,"In a previous PR, I pushed for turning printing off inside tests, to make test output more manageable.  I still think this is the right thing.  However, coveralls also shows that printing is no longer being tested.  This can hide some bugs that users could hit immediately (especially as the examples tend to use verbose output).  E.g.
https://coveralls.io/builds/1973818/source?filename=nilearn%2Fdecoding%2Fsearchlight.py#L171

I suggest enabling printing on the travis-ci run specific to `coveralls`.  I wanted to see if others agreed and, if so, I also wanted to ask about the best way to handle it.  This is a major source of ""uncovered"" code in `nilearn`.
",start issue,"Should verbose output be tested?  If so, how?",In previou PR I push turn print insid test make test output manag I still think right thing howev coveral also show print longer test thi hide bug user could hit immedi especi exampl tend use verbos output Eg I suggest enabl print travisci run specif I want see other agre I also want ask best way handl thi major sourc uncov code,N,2015-03-26 09:43:05
2,issue_closed,475,nilearn,nilearn,lesteve,2015-03-26 09:43:05,,closed issue,"Should verbose output be tested?  If so, how?",,N,2015-03-01 15:55:09
3,issue_comment,475,nilearn,nilearn,bcipolli,2015-03-01 15:55:09,"Just to put it out there, if coverage was desired, I only had these ideas to start:
1. Migrate away from `print`: Some of the code uses a `logger` object already, that wraps the `verbose` check (e.g. `nilearn/group_sparse_covariance.py`).  All of the `print` statements could be migrated to using the `logger` object, and a simple check could be made within the `logger` object to see if coveralls is being run (similar to how mock is checked within some `datasets` code, but hopefully done without having to pass a flag).  The downside is that some places in the code have more than just a `print` statement inside the `verbose` check, and this would not trigger those blocks.  And those tend to be more complex code (so in more need of test coverage).
2. Tests currently explicitly pass `verbose=0`.  They could pass import some value or function from `nilearn._utils.testing`, and pass that instead.  The value / function could do the same check as above (perhaps, an environment variable).  One downside of this is that outsiders looking to contribute would be unlikely to figure out they need to do this.
",,,just put coverag desir I idea start 1 migrat away some code use object alreadi wrap check eg all statement could migrat use object simpl check could made within object see coveral run similar mock check within code hope done without pass flag the downsid place code statement insid check would trigger block and tend complex code need test coverag 2 test current explicitli pass they could pass import valu function pass instead the valu function could check perhap environ variabl one downsid outsid look contribut would unlik figur need,Y,2015-03-12 10:27:10
4,issue_comment,475,nilearn,nilearn,AlexandreAbraham,2015-03-12 10:27:10,"I would say: no we don't want to test it. My experience is that verbosity is enhanced using users feedback. A basic test could be to ensure that increasing verbosity increases the number of output lines but I don't think that it's necessary.
",,,I would say dont want test My experi verbos enhanc use user feedback A basic test could ensur increas verbos increas number output line I dont think necessari,Y,2015-03-26 09:43:05
1,issue_title,476,nilearn,nilearn,bcipolli,2015-03-02 04:01:52,"@lesteve has helped finish the work here, and I removed the dependency on #371, so I've removed the ""WIP"" and I think things are more ready to go.

All code, tests, and examples should be runnable in Python 3.x.  We've enabled test coverage for Python 3.x, and the build is passing.  In addition, I tested with a version on #371 (resolving warnings), and verified that no new warnings are introduced by this code.

The following conventions were used to migrate `nilearn` code to Python 2/3 compatibility:
- All `nilearn` imports should be relative (except, perhaps, in tests)
- Write `except Exception, e` as `except Exception as e`
- Write `isinstance(x, types.ListType)` as `isinstance(x, list)`
- Write `callable(x)` as `isinstance(x, collections.Callable)`
- Write `operator.isSequenceType(x)` as `isinstance(x, collections.Sequence)`
- Write `operator.isNumberType(x)` as `isinstance(x, collections.Number)`
- Write `nose.tools.assert_equals` as `nose.tools.assert_equal`
- Write `nilearn._utils.testing.assert_raises_regexp` as `nilearn._utils.testing.assert_raises_regex` (mirrors nose clarification)
- Write `<Iterable>.next()` as `next(<Iterable>)`
- Write `filename = os.tempnam()` as `(_, filename) = tempfile.mkstemp()`
- Write `not key in dict` as `key not in dict` (this actually warns in Python 3.x!)
- Make sure to use `with open('file') as f' syntax; any file pointers that are not used in a context manager nor explicitly closed throw warnings.

**Python 3 changes that require care to be backwards compatible**
- Non-unicode strings must be prefixed with `b`: `b'string'`(mostly an issue interacting with numpy, but also some low-level operations like gzip code)
- Write `print ""%s"" % (message,)` as `print(""%s"" % (message,))`
- Write integer division `3 / 2 == 1` as `3 // 2 == 1`
- Write `<dict>.iteritems()` as `<dict>.items()` (there is no iteritems in Python 3)
- Write `<dict>.itervalues()` as `<dict>.values()` (there is no itervalues in Python 3)
- Write `itertools.izip()` as `zip()` (there is no `izip` in Python 3)
- Write octal string `0100` `0o100`
- Write `round` as `np.round` (avoids a numpy issue in Python 3)

**Importing things from `six` instead of places you're used to**
- Write `basestring` as `six.string_types` (requires `import six`)
- Use the new urllib object structure instead of ulrllib/urllib2
  - import from `six.moves.urllib`.
  - there are no base-level functions/objects, all are present in subpackages
- Import  `StringIO` and `cPickle from`six.moves`

**Changes in how you design / write code**
- Think carefully about any use of `xrange`.  If you _require_ an iterator, then you must import `past.builtins.xrange`.  Otherwise, just use `range` (which is a list in Python 2, and an interator in Python 3).
- Most things that used to generate lists now generate iterators; any time you need a list, make sure to wrap it in `list()`
  - **THIS WILL GET YOU!**
  - Includes:
    - `dict.keys()`, `dict.values()`
    - `zip`
    - `range`
    - `map`
",start issue,Python 3.x support in nilearn,lestev help finish work I remov depend 371 ive remov wip I think thing readi go all code test exampl runnabl python 3x weve enabl test coverag python 3x build pass In addit I test version 371 resolv warn verifi new warn introduc code the follow convent use migrat code python 23 compat all import rel except perhap test write write write write write write write mirror nose clarif write write write actual warn python 3x make sure use b bstring print messag print messag 3 2 1 3 2 1 dict chang design write code think care use If requir iter must import otherwis use list python 2 inter python 3 most thing use gener list gener iter time need list make sure wrap thi will get you includ,N,2015-03-06 08:30:04
2,issue_closed,476,nilearn,nilearn,lesteve,2015-03-06 08:30:04,,closed issue,Python 3.x support in nilearn,,N,2015-03-02 04:01:52
3,pull_request_title,476,nilearn,nilearn,bcipolli,2015-03-02 04:01:52,"@lesteve has helped finish the work here, and I removed the dependency on #371, so I've removed the ""WIP"" and I think things are more ready to go.

All code, tests, and examples should be runnable in Python 3.x.  We've enabled test coverage for Python 3.x, and the build is passing.  In addition, I tested with a version on #371 (resolving warnings), and verified that no new warnings are introduced by this code.

The following conventions were used to migrate `nilearn` code to Python 2/3 compatibility:
- All `nilearn` imports should be relative (except, perhaps, in tests)
- Write `except Exception, e` as `except Exception as e`
- Write `isinstance(x, types.ListType)` as `isinstance(x, list)`
- Write `callable(x)` as `isinstance(x, collections.Callable)`
- Write `operator.isSequenceType(x)` as `isinstance(x, collections.Sequence)`
- Write `operator.isNumberType(x)` as `isinstance(x, collections.Number)`
- Write `nose.tools.assert_equals` as `nose.tools.assert_equal`
- Write `nilearn._utils.testing.assert_raises_regexp` as `nilearn._utils.testing.assert_raises_regex` (mirrors nose clarification)
- Write `<Iterable>.next()` as `next(<Iterable>)`
- Write `filename = os.tempnam()` as `(_, filename) = tempfile.mkstemp()`
- Write `not key in dict` as `key not in dict` (this actually warns in Python 3.x!)
- Make sure to use `with open('file') as f' syntax; any file pointers that are not used in a context manager nor explicitly closed throw warnings.

**Python 3 changes that require care to be backwards compatible**
- Non-unicode strings must be prefixed with `b`: `b'string'`(mostly an issue interacting with numpy, but also some low-level operations like gzip code)
- Write `print ""%s"" % (message,)` as `print(""%s"" % (message,))`
- Write integer division `3 / 2 == 1` as `3 // 2 == 1`
- Write `<dict>.iteritems()` as `<dict>.items()` (there is no iteritems in Python 3)
- Write `<dict>.itervalues()` as `<dict>.values()` (there is no itervalues in Python 3)
- Write `itertools.izip()` as `zip()` (there is no `izip` in Python 3)
- Write octal string `0100` `0o100`
- Write `round` as `np.round` (avoids a numpy issue in Python 3)

**Importing things from `six` instead of places you're used to**
- Write `basestring` as `six.string_types` (requires `import six`)
- Use the new urllib object structure instead of ulrllib/urllib2
  - import from `six.moves.urllib`.
  - there are no base-level functions/objects, all are present in subpackages
- Import  `StringIO` and `cPickle from`six.moves`

**Changes in how you design / write code**
- Think carefully about any use of `xrange`.  If you _require_ an iterator, then you must import `past.builtins.xrange`.  Otherwise, just use `range` (which is a list in Python 2, and an interator in Python 3).
- Most things that used to generate lists now generate iterators; any time you need a list, make sure to wrap it in `list()`
  - **THIS WILL GET YOU!**
  - Includes:
    - `dict.keys()`, `dict.values()`
    - `zip`
    - `range`
    - `map`
",9b1a0272021c5c847e36569722aebc312fd67de3,Python 3.x support in nilearn,lestev help finish work I remov depend 371 ive remov wip I think thing readi go all code test exampl runnabl python 3x weve enabl test coverag python 3x build pass In addit I test version 371 resolv warn verifi new warn introduc code the follow convent use migrat code python 23 compat all import rel except perhap test write write write write write write write mirror nose clarif write write write actual warn python 3x make sure use b bstring print messag print messag 3 2 1 3 2 1 dict chang design write code think care use If requir iter must import otherwis use list python 2 inter python 3 most thing use gener list gener iter time need list make sure wrap thi will get you includ,N,2015-03-06 08:30:03
4,pull_request_merged,476,nilearn,nilearn,lesteve,2015-03-06 08:30:03,Python 3.x support in nilearn,7b01897bb06842e85f63d7bf58681ae8a8fc0f6f,Pull request merge from bcipolli/nilearn:python-3.x to nilearn/nilearn:master,python 3x support nilearn,N,2015-03-02 09:10:25
5,issue_comment,476,nilearn,nilearn,lesteve,2015-03-02 09:10:25,"First thanks a lot for removing the warnings related commits from the python 3 ones!

Here are a few general comments, before I look at the changes in more details:
- [x] we want to either use six or future but not both. Personally I'd be in favor of the latter.
- [x] we should leave the documentation generation for a separate PR. Please revert any changes to doc/sphintext.

Also this is quite a long PR to review. That would be really great if you could keep unrelated commits, like ""shorten numpy version idiom"" for separate PRs.

> All nilearn imports should be relative (except, perhaps, in tests)

not perhaps, tests should use absolute imports. For example it allows you to run a test from your git checkout with any nilearn that happens to be in your PYTHONPATH. For example this is quite useful to make sure that a test you just added was actually failing with a previous released nilearn version.
",,,first thank lot remov warn relat commit python 3 one here gener comment I look chang detail x want either use six futur person Id favor latter x leav document gener separ PR pleas revert chang docsphintext also quit long PR review that would realli great could keep unrel commit like shorten numpi version idiom separ pr perhap test use absolut import for exampl allow run test git checkout nilearn happen pythonpath for exampl quit use make sure test ad actual fail previou releas nilearn version,Y,2015-03-03 00:28:49
6,issue_comment,476,nilearn,nilearn,bcipolli,2015-03-03 00:28:49,"Thanks @lesteve for the comments!  Looks like things got a little messy after all from the merge / demerge / remerge I did; I will also review the code manually in addition to addressing your comments.

Re: the dependency on `six`, did you have any ideas o removing the dependency on `six.string_types`?  I guess I could just copy their code into a `_utils` function, but that might be confusing for developers? (e.g.  `from nilearn._utils.compat import string_types`)?
",,,thank lestev comment look like thing got littl messi merg demerg remerg I I also review code manual addit address comment Re depend idea remov depend I guess I could copi code function might confus develop eg,N,2015-03-03 07:34:16
7,issue_comment,476,nilearn,nilearn,lesteve,2015-03-03 07:34:16,"> Re: the dependency on six, did you have any ideas o removing the dependency on six.string_types

My guess was that future has something similar but I have to say I haven't checked.
",,,My guess futur someth similar I say I havent check,N,2015-03-03 07:39:30
8,issue_comment,476,nilearn,nilearn,bcipolli,2015-03-03 07:39:30,"@lesteve I didn't find anything, and I searched for a bit.  The code in `six` isn't complicated to copy, I just wanted to check that it would be an acceptable solution.
",,,lestev I didnt find anyth I search bit the code isnt complic copi I want check would accept solut,N,2015-03-03 07:45:53
9,issue_comment,476,nilearn,nilearn,lesteve,2015-03-03 07:45:53,"What about http://python-future.org/compatible_idioms.html#basestring?
",,,what,N,2015-03-03 15:56:01
10,issue_comment,476,nilearn,nilearn,bcipolli,2015-03-03 15:56:01,"> What about http://python-future.org/compatible_idioms.html#basestring?

The first option adds a dependency to `past`, the second doesn't consider byte strings as strings.
",,,the first option add depend second doesnt consid byte string string,N,2015-03-03 16:00:02
11,issue_comment,476,nilearn,nilearn,bcipolli,2015-03-03 16:00:02,"As it turns our, `sklearn.externals` includes `six`.  How about I migrate to using `sklearn.externals.six`?

Edit: looks like it's only introduced in `v0.14`.  Still, migrating off of `six` will be much more challenging then migrating off of `__future__` (which is used in one place).

How about adding an installation dependency on `six` (or adding it to a nilearn `externals`) until the minimum version of `sklearn` is 0.14?
",,,As turn includ how I migrat use edit look like introduc still migrat much challeng migrat use one place how ad instal depend ad nilearn minimum version 014,N,2015-03-03 16:59:36
12,issue_comment,476,nilearn,nilearn,bcipolli,2015-03-03 16:59:36,"@lesteve I made all of the requested changes, I believe.  I chose to remove the dependency on `future` and keep that of `six`, since `six` is much more deeply embedded and is used in `scikit-learn`.  It is now listed as a dependency (which can be removed when minversion of `sklearn` >= 0.14).  Please let me know if that's acceptable.

I will do a line-by-line code review myself later today and update here.
",,,lestev I made request chang I believ I chose remov depend keep sinc much deepli embed use It list depend remov minvers I linebylin code review later today updat,N,2015-03-03 17:07:06
13,issue_comment,476,nilearn,nilearn,lesteve,2015-03-03 17:07:06,"> >   What about http://python-future.org/compatible_idioms.html#basestring?
> 
> The first option adds a dependency to past, the second doesn't consider byte strings as strings.

:confused: past is provided by python-future, isn't it?

I may be dead wrong but I think your tests are going to fail because 'from past.builtins import bla' are going to raise, since future is not installed any more by setup.py ...
",,,confus past provid pythonfutur isnt I may dead wrong I think test go fail pastbuiltin import bla go rais sinc futur instal setuppi,Y,2015-03-03 17:19:41
14,issue_comment,476,nilearn,nilearn,bcipolli,2015-03-03 17:19:41,"> :confused: past is provided by python-future, isn't it?

Right, good point!  I decided to stick with `six` because it is heavily used in this PR; moving off of it would be challenging.  In addition, `sklearn` seems to be using `six`.  So that kind of made up things for me to respond to you.  But as always, willing to take a different direction if requested.

> I may be dead wrong but I think your tests are going to fail because 'from past.builtins import bla' are going to raise, since future is not installed any more by setup.py ...

The only dependency on `past` was the imports of `xrange`, and none of those should have been there anyway.  Those are all removed now, so I believe things should run well.  Let's see! :)
",,,right good point I decid stick heavili use PR move would challeng In addit seem use So kind made thing respond but alway will take differ direct request the depend import none anyway those remov I believ thing run well let see,N,2015-03-03 17:23:55
15,issue_comment,476,nilearn,nilearn,lesteve,2015-03-03 17:23:55,"> Those are all removed now, so I believe things should run well. Let's see! :)

Right should be fine then, I was probably still looking at an old diff.
",,,right fine I probabl still look old diff,N,2015-03-03 19:36:51
16,issue_comment,476,nilearn,nilearn,bcipolli,2015-03-03 19:36:51,"Just finished a code review, no obvious issues remaining to me.  I just updated the ""magic_string"" info and migrated to use `xrange` from `six.moves`.  Once the tests pass, I think this is ready for further review.
",,,just finish code review obviou issu remain I updat magicstr info migrat use onc test pass I think readi review,Y,2015-03-04 14:56:44
17,issue_comment,476,nilearn,nilearn,bcipolli,2015-03-04 14:56:44,"@lesteve Addressed all of the requested issues except the `np.diag_indices` change, due to the numpy version issue.
",,,lestev address request issu except chang due numpi version issu,N,2015-03-04 21:29:00
18,issue_comment,476,nilearn,nilearn,bcipolli,2015-03-04 21:29:00,"OK, touched the few that were requested. :)
",,,OK touch request,N,2015-03-04 21:40:43
19,issue_comment,476,nilearn,nilearn,lesteve,2015-03-04 21:40:43,"> OK, touched the few that were requested. :)

Great stuff! I had something running my computer at work to make sure that all the datasets were downloading cleanly and the examples ran fine with Python 3. I'll double-checked that tomorrow and once this one is merged, we will all have one cheap excuse less to keep using Python 2!
",,,great stuff I someth run comput work make sure dataset download cleanli exampl ran fine python 3 ill doublecheck tomorrow one merg one cheap excus less keep use python 2,N,2015-03-04 22:10:54
20,issue_comment,476,nilearn,nilearn,lesteve,2015-03-04 22:10:54,"No clue why the coverage reported by coveralls is misbehaving like this ... 
",,,No clue coverag report coveral misbehav like,Y,2015-03-04 22:26:07
21,issue_comment,476,nilearn,nilearn,lesteve,2015-03-04 22:26:07,"The only thing I could find in the travis [log](https://travis-ci.org/nilearn/nilearn/jobs/53106433) 

```
Coverage.py warning: Trace function changed, measurement is likely wrong: None
```

For reference a travis [log](https://travis-ci.org/nilearn/nilearn/jobs/53044084) from master.

The coverage reports from nosetests in both logs do look different. 
",,,the thing I could find travi log for refer travi log master the coverag report nosetest log look differ,Y,2015-03-06 08:29:32
22,issue_comment,476,nilearn,nilearn,lesteve,2015-03-06 08:29:32,"OK I am going to merge this one. Thanks a lot @bcipolli for your continued work on this !

I haven't figured out the whole thing but I convinced myself there is something spurious going on with the coverage. For example I manually checked that some line labeled as missed were actually  executed using 1/0 markers.

A temporary work-around that I found for now: disabling doctests within nose and use the python 3 distribution in Travis.

Note that there is some known undesired interactions between coverage and doctest mentioned [here](http://nose.readthedocs.org/en/latest/plugins/doctests.html#source).

I'll keep investigating to find a more statisfactory long-term solution.
",,,OK I go merg one thank lot bcipolli continu work I havent figur whole thing I convinc someth spuriou go coverag for exampl I manual check line label miss actual execut use 10 marker A temporari workaround I found disabl doctest within nose use python 3 distribut travi note known undesir interact coverag doctest mention ill keep investig find statisfactori longterm solut,Y,2015-03-06 13:09:05
23,issue_comment,476,nilearn,nilearn,bcipolli,2015-03-06 13:09:05,"Thanks @lesteve for your help on this one!

A note to others that `six` is now a dependency of `nilearn`, so you may need to update your Python install.

Also to those who have outstanding PRs, I recommend restarting the Travis build so that your code can be tested for Python 3.4 compatibility.
",,,thank lestev help one A note other depend may need updat python instal also outstand pr I recommend restart travi build code test python 34 compat,Y,2015-03-06 13:09:43
24,issue_comment,476,nilearn,nilearn,GaelVaroquaux,2015-03-06 13:09:43,"Great job! Thanks a lot
",,,great job thank lot,N,2015-03-02 18:06:37
25,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-02 18:06:37,"please remove the newline before and add a newline after (the latter is to make the README.rst render properly on PyPI)
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'README.rst')",pleas remov newlin add newlin latter make readmerst render properli pypi,N,2015-03-02 18:08:12
26,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-02 18:08:12,"Not too sure where this === comes from but I think it should be removed unless there is a missing title in the rst. 
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'README.rst')",not sure come I think remov unless miss titl rst,N,2015-03-02 18:08:40
27,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-02 18:08:40,"you probably didn't mean to include this file
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'doc/issues.txt')",probabl didnt mean includ file,N,2015-03-02 18:10:02
28,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-02 18:10:02,"I think dtype doesn't need to be mentioned here similarly to what is done in the other haxby examples.
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'examples/decoding/plot_haxby_full_analysis.py')",I think dtype doesnt need mention similarli done haxbi exampl,N,2015-03-02 18:20:55
29,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-02 18:20:55,"slight niggle: assert_raises_regex does not exist for python 2.7 because it is called assert_raises_regexp (with a 'p' at the end) we should do something like this:

``` python
try:
    from nose.tools import assert_raises_regex
except ImportError
    try:
        from nose.tools import assert_raises_regexp as assert_raises_regex
    except ImportError:
        # for Python 2.6
```

Side-comment: very annoyingly PEP8 is not stable with respect to search and replace which means that most of the assert_raises_regexp -> assert_raises_regex replacements in this PR have introduced PEP8 violations...
",9b1a0272021c5c847e36569722aebc312fd67de3,"(26, '', u'nilearn/_utils/testing.py')",slight niggl assertraisesregex exist python 27 call assertraisesregexp p end someth like sidecom annoyingli pep8 stabl respect search replac mean assertraisesregexp,N,2015-03-02 18:22:07
30,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-02 18:22:07,"I may have missed it but it looks like you are not using this function in this PR (kind of makes sense that it belongs in the warnings-related PR)
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/_utils/testing.py')",I may miss look like use function PR kind make sens belong warningsrel PR,N,2015-03-02 18:25:00
31,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-02 18:25:00,"My understanding is that the round -> np.round replacement is only needed when the thing you are rounding is a numpy scalar. It doesn't seem necessary here. 
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/decoding/searchlight.py')",My understand round,N,2015-03-02 18:26:26
32,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-02 18:26:26,"not used it looks like
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/input_data/nifti_maps_masker.py')",use look like,N,2015-03-02 18:27:24
33,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-02 18:27:24,"not really related to the PR ...
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/input_data/nifti_labels_masker.py')",realli relat PR,N,2015-03-02 18:28:18
34,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-02 18:28:18,"not used
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/mass_univariate/permuted_least_squares.py')",use,N,2015-03-02 18:29:36
35,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-02 18:29:36,"just wondering whether you need the list here, since you are just iterating over the keys
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/plotting/cm.py')",wonder whether need list sinc iter key,N,2015-03-02 18:30:50
36,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-02 18:30:50,"not used
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/region.py')",use,N,2015-03-02 18:31:50
37,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-02 18:31:50,"is this magical 'xyzpdq' really needed?
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/datasets.py')",magic xyzpdq realli need,N,2015-03-02 18:35:26
38,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-02 18:35:26,"assert_warns_regex isn not used
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/tests/test_masking.py')",assertwarnsregex use,N,2015-03-02 18:36:01
39,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-02 18:36:01,"Interestingly enough this line is actually overriden by the next one which redefines np_version ...
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/tests/test_masking.py')",interestingli enough line actual overriden next one redefin npversion,N,2015-03-02 18:37:24
40,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-02 18:37:24,"not used
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/group_sparse_covariance.py')",use,N,2015-03-02 18:38:29
41,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-02 18:38:29,"I seem to remember this was related to removing one warning so this change and the one above can be removed
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/tests/test_signal.py')",I seem rememb relat remov one warn chang one remov,N,2015-03-02 18:38:52
42,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-02 18:38:52,"does not seem to be used
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/version.py')",seem use,N,2015-03-02 18:41:07
43,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-02 18:41:07,"xrange being imported but not used seems to happen quite a few times, can you check all of them?
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/region.py')",xrang import use seem happen quit time check,N,2015-03-03 16:25:08
44,pull_request_commit_comment,476,nilearn,nilearn,bcipolli,2015-03-03 16:25:08,"Missed this commit.  I've rebased to remove it, thanks!
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/tests/test_signal.py')",miss commit ive rebas remov thank,N,2015-03-03 16:26:48
45,pull_request_commit_comment,476,nilearn,nilearn,bcipolli,2015-03-03 16:26:48,"I see what happened; this was caused by rebase / merge / rebase confusion.  I eliminated the use of past completely now; none were actually meaningful.
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/group_sparse_covariance.py')",I see happen caus rebas merg rebas confus I elimin use past complet none actual meaning,N,2015-03-03 16:31:34
46,pull_request_commit_comment,476,nilearn,nilearn,bcipolli,2015-03-03 16:31:34,"I'll revert this back to untouched; I thought it was causing an error from a merge conflict, but turns out it was in an import above.
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/tests/test_masking.py')",ill revert back untouch I thought caus error merg conflict turn import,N,2015-03-03 16:33:04
47,pull_request_commit_comment,476,nilearn,nilearn,bcipolli,2015-03-03 16:33:04,"Thanks for the catch!  This made me realize, just now: one downside of using parentheses in imports is that sublime text no longer indicates which imports are being used.
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/tests/test_masking.py')",thank catch thi made realiz one downsid use parenthes import sublim text longer indic import use,N,2015-03-03 16:34:22
48,pull_request_commit_comment,476,nilearn,nilearn,bcipolli,2015-03-03 16:34:22,"Fixed.
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/plotting/cm.py')",fix,N,2015-03-03 16:37:29
49,pull_request_commit_comment,476,nilearn,nilearn,bcipolli,2015-03-03 16:37:29,"My understanding is the same.  I replaced it here while replacing in other places, as it seemed more robust to future changes and a good habit to simply use `np.round` in any code already importing numpy.

Happy to change it back.
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/decoding/searchlight.py')",My understand I replac replac place seem robust futur chang good habit simpli use code alreadi import numpi happi chang back,N,2015-03-03 16:41:10
50,pull_request_commit_comment,476,nilearn,nilearn,bcipolli,2015-03-03 16:41:10,"Nice catch.  There were two more commits from the `fix_warnings` branch that I missed here (from their commit comment, I couldn't tell).  Rebased to remove them.  
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/_utils/testing.py')",nice catch there two commit branch I miss commit comment I couldnt tell rebas remov,N,2015-03-03 16:48:36
51,pull_request_commit_comment,476,nilearn,nilearn,bcipolli,2015-03-03 16:48:36,"Fixed. Also dealt with those PEP8 violations... you are correct: that IS very annoying :)
",9b1a0272021c5c847e36569722aebc312fd67de3,"(26, '', u'nilearn/_utils/testing.py')",fix also dealt pep8 violat correct IS annoy,N,2015-03-03 16:50:04
52,pull_request_commit_comment,476,nilearn,nilearn,bcipolli,2015-03-03 16:50:04,"Thanks for catching this.  I think this was my attempted solution for examples, before simply prefixing all strings as byte-strings.  I've removed now.
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'examples/decoding/plot_haxby_full_analysis.py')",thank catch I think attempt solut exampl simpli prefix string bytestr ive remov,N,2015-03-03 17:04:14
53,pull_request_commit_comment,476,nilearn,nilearn,bcipolli,2015-03-03 17:04:14,"... fixed all, except this one.  I am investigating this, I found this to be necessary (but will double-check).
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/datasets.py')",fix except one I investig I found necessari doublecheck,N,2015-03-04 07:53:39
54,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-04 07:53:39,"Looks like there are still have changes in doc/sphintext that you haven't reverted
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'doc/sphinxext/gen_rst.py')",look like still chang docsphintext havent revert,N,2015-03-04 07:59:16
55,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-04 07:59:16,"would

``` python
diagonal_indices = np.diag_indices(prec.shape[0])
prec[diagonal_indices] = 0
```

work?
",9b1a0272021c5c847e36569722aebc312fd67de3,"(5, '', u'examples/connectivity/plot_adhd_covariance.py')",would work,N,2015-03-04 08:24:10
56,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-04 08:24:10,"I don't think this is needed since np.pi is a float
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'examples/manipulating_visualizing/plot_affine_transformation.py')",I dont think need sinc nppi float,N,2015-03-04 08:33:11
57,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-04 08:33:11,"could we use np.arange here?
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/_utils/testing.py')",could use nparang,N,2015-03-04 08:38:11
58,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-04 08:38:11,"> not used it looks like

still seems to be the case
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/input_data/nifti_maps_masker.py')",still seem case,N,2015-03-04 14:50:24
59,pull_request_commit_comment,476,nilearn,nilearn,bcipolli,2015-03-04 14:50:24,"Just looked, turns out there's a `np.fill_diagonal` function.  Both it, and `diag_indices` are new in numpy 1.4, and nilearn targets >= 1.3.  
",9b1a0272021c5c847e36569722aebc312fd67de3,"(5, '', u'examples/connectivity/plot_adhd_covariance.py')",just look turn there function both new numpi 14 nilearn target,N,2015-03-04 14:55:35
60,pull_request_commit_comment,476,nilearn,nilearn,bcipolli,2015-03-04 14:55:35,"Very strange, thanks for catching.  In fact none of the changes were present, I wonder if I pulled the commit when rebasing.  Did the same copy from master again!
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'doc/sphinxext/gen_rst.py')",veri strang thank catch In fact none chang present I wonder I pull commit rebas did copi master,N,2015-03-04 15:00:11
61,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-04 15:00:11,"Arrgh, probably one for soonish when we raise the minimum versions similarly to #397.
",9b1a0272021c5c847e36569722aebc312fd67de3,"(5, '', u'examples/connectivity/plot_adhd_covariance.py')",arrgh probabl one soonish rais minimum version similarli 397,N,2015-03-04 15:06:02
62,pull_request_commit_comment,476,nilearn,nilearn,bcipolli,2015-03-04 15:06:02,"How about opening an issue to track line changes for when the version gets bumped?  I'd be happy to do that, if that sounds useful.
",9b1a0272021c5c847e36569722aebc312fd67de3,"(5, '', u'examples/connectivity/plot_adhd_covariance.py')",how open issu track line chang version get bump Id happi sound use,N,2015-03-04 19:21:45
63,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-04 19:21:45,"slight niggle, the parentheses are not needed
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/_utils/testing.py')",slight niggl parenthes need,N,2015-03-04 19:22:08
64,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-04 19:22:08,"i.e. you can use `_, filename = ...`
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/_utils/testing.py')",ie use,N,2015-03-04 19:24:47
65,pull_request_commit_comment,476,nilearn,nilearn,bcipolli,2015-03-04 19:24:47,"good point.  since only one argument is being used, how do you feel about removing the output argument list and just subscripting the function call: 
`filename = tempfile.mkstemp(prefix=""nilearn_"", suffix="".nii"", dir=None)[1]`
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/_utils/testing.py')",good point sinc one argument use feel remov output argument list subscript function call,N,2015-03-04 19:25:26
66,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-04 19:25:26,"Another one to keep in mind when we move the numpy requirement to 1.6. If you have some spare cycles, feel free to open an issue as you mentioned so that we don't forget about these things and reference #397 inside.
",9b1a0272021c5c847e36569722aebc312fd67de3,"(154, '', u'nilearn/_utils/testing.py')",anoth one keep mind move numpi requir 16 If spare cycl feel free open issu mention dont forget thing refer 397 insid,N,2015-03-04 19:32:29
67,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-04 19:32:29,"Probably very subjective, but I find it reads better with `_, filename = ...`.
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/_utils/testing.py')",probabl subject I find read better,N,2015-03-04 19:35:18
68,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-04 19:35:18,"I don't think this is needed since the dtype is int and frames is a multiple of 2 anyway.
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/decoding/tests/test_searchlight.py')",I dont think need sinc dtype int frame multipl 2 anyway,N,2015-03-04 19:37:26
69,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-04 19:37:26,"You can use // if that makes you feel a lot better ...
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/decoding/tests/test_searchlight.py')",you use make feel lot better,N,2015-03-04 19:40:39
70,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-04 19:40:39,"I am guessing this change (verbose > 0 rather than verbose > 10) wasn't meant to be there
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/input_data/nifti_masker.py')",I guess chang verbos,N,2015-03-04 19:41:47
71,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-04 19:41:47,"Unneeded changes
",9b1a0272021c5c847e36569722aebc312fd67de3,"(7, '', u'nilearn/mass_univariate/permuted_least_squares.py')",unneed chang,N,2015-03-04 19:44:46
72,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-04 19:44:46,"Unneeded change
",9b1a0272021c5c847e36569722aebc312fd67de3,"(4, '', u'nilearn/region.py')",unneed chang,N,2015-03-04 19:54:54
73,pull_request_commit_comment,476,nilearn,nilearn,bcipolli,2015-03-04 19:54:54,"`xrange` is a builtin in Python 2.x, but unavailable in Python 3.x.  Converting to `range` seemed suboptimal, since some of the ranges being iterated over are quite large.  So I added the imports so that the `xrange` function would be available in both.

Do you prefer simply converting all `xrange` to `range` then?
",9b1a0272021c5c847e36569722aebc312fd67de3,"(4, '', u'nilearn/region.py')",builtin python 2x unavail python 3x convert seem suboptim sinc rang iter quit larg So I ad import function would avail Do prefer simpli convert,N,2015-03-04 20:01:33
74,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-04 20:01:33,"Ah sorry for that, I was in automatic diff processing mode and missed that completely, sorry for the noise ! I think it's fine to keep with xrange.
",9b1a0272021c5c847e36569722aebc312fd67de3,"(4, '', u'nilearn/region.py')",Ah sorri I automat diff process mode miss complet sorri nois I think fine keep xrang,N,2015-03-04 20:02:07
75,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-04 20:02:07,"Ignore this one too ...
",9b1a0272021c5c847e36569722aebc312fd67de3,"(7, '', u'nilearn/mass_univariate/permuted_least_squares.py')",ignor one,N,2015-03-04 21:02:41
76,pull_request_commit_comment,476,nilearn,nilearn,bcipolli,2015-03-04 21:02:41,"Sorry, I thought it was previously requested that I change this.  All of the similar prints from within this function were for `verbose > 0`, so I thought I was asked to tweak this one while I was there.

Please confirm either way, thanks!
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/input_data/nifti_masker.py')",sorri I thought previous request I chang all similar print within function I thought I ask tweak one I pleas confirm either way thank,N,2015-03-04 21:03:05
77,pull_request_commit_comment,476,nilearn,nilearn,bcipolli,2015-03-04 21:03:05,"No problem, it's a huge diff that you've gone over a few times... really thanks!
",9b1a0272021c5c847e36569722aebc312fd67de3,"(4, '', u'nilearn/region.py')",No problem huge diff youv gone time realli thank,N,2015-03-04 21:17:15
78,pull_request_commit_comment,476,nilearn,nilearn,lesteve,2015-03-04 21:17:15,"My recollection is that this is a print statement before immediately returning and that you want this only in some edge cases, for which you would set a crazy high verbosity. 

I seem to remember one of such edge cases was if you want to differentiate between the fit taking a long time and the next step in your analysis taking a long time (and not doing any printing when it starts for some stupid reason).
",9b1a0272021c5c847e36569722aebc312fd67de3,"(None, '', u'nilearn/input_data/nifti_masker.py')",My recollect print statement immedi return want edg case would set crazi high verbos I seem rememb one edg case want differenti fit take long time next step analysi take long time print start stupid reason,N,2015-03-04 21:28:44
91,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-22 05:33:37,Enable Python 3.4 tests.,d3267e275d1ad06624197b1b35533b418185b138,,enabl python 34 test,N,2015-01-26 07:40:14
92,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-26 07:40:14,"Closing unclosed file pointers; migrating to use 'with open...' syntax.

Conflicts:
	nilearn/datasets.py",f552b3a20131de2a4c6ee5fe34168d59ca7cdbb5,,close unclos file pointer migrat use open syntax conflict nilearndatasetspi,N,2015-01-26 07:49:30
93,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-26 07:49:30,"Use // for integer division, be explicit when we expect floating point division.",3130a3a19d09dfc0a6dbaf288ffa512cdf064c88,,use integ divis explicit expect float point divis,N,2015-01-29 03:48:42
94,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 03:48:42,assert_equals => assert_equal,e8fbe1a402af82121121068c786bb2e0a6194883,,assertequ,N,2015-01-29 03:52:14
95,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 03:52:14,"assert_raises_regexp => assert_raises_regex

Conflicts:
	nilearn/tests/test_datasets.py
	nilearn/tests/test_masking.py
	nilearn/tests/test_region.py",4fe7143bc5510f44c37e6a0ca0a78fc1d038fcd7,,assertraisesregexp conflict nilearnteststestdatasetspi nilearnteststestmaskingpi nilearnteststestregionpi,N,2015-01-29 03:54:45
96,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 03:54:45,convert 3.4 iterators into lists where lists are required / expected.,5f012802ad6616e04747aa14def2dc33543ecf89,,convert 34 iter list list requir expect,N,2015-01-29 03:56:01
97,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 03:56:01,Non-unicode strings must be prefixed with b'',1680e00f66caf372a17a486272f2d3117e2ce54d,,nonunicod string must prefix b,N,2015-01-29 03:57:56
98,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 03:57:56,Linting and taking care of python idiom warnings.,7bcb14ec5577abf0f988213c804098cdac50d4d1,,lint take care python idiom warn,N,2015-01-29 13:37:33
99,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 13:37:33,using contextlib again:,40a7f852273f2434738994333dc755c7d95b3e27,,use contextlib,N,2015-01-29 13:55:40
100,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 13:55:40,Trying to fix buffer problem,075a77d2163165f514c19ed5c0a4367d6bf2ef9a,,tri fix buffer problem,N,2015-02-02 07:32:10
101,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-02 07:32:10,"Byte / Unicode straigtening out, for Python 2/3 compatibility.",b86239a01fb25f0bb8104b1b6ca46bbb4fae03ca,,byte unicod straigten python 23 compat,N,2015-02-02 07:40:53
102,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-02 07:40:53,Fixing confusing zip issue.,83f28ae61e5fd73f5a8f4b771fd8b534222e1c51,,fix confus zip issu,N,2015-02-02 10:03:39
103,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-02 10:03:39,Convert dataset filtering / string comparison to bytes.,18db86009f364d527cfdb73229c5f2e559264c1c,,convert dataset filter string comparison byte,N,2015-02-02 10:13:10
104,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-02 10:13:10,Use list(zip()) to convert iterator to list on assignment.,7932653814466974d95ad35a0a8b85a680a6925e,,use listzip convert iter list assign,N,2015-02-16 17:21:25
105,pull_request_commit,476,nilearn,nilearn,lesteve,2015-02-16 17:21:25,"Fix problems after rebasing on master

Conflicts:
	nilearn/tests/test_region.py
	nilearn/tests/test_signal.py",d4651e95fdd51bdf5d2b8571224d1ade210d63d6,,fix problem rebas master conflict nilearnteststestregionpi nilearnteststestsignalpi,N,2015-02-16 17:24:33
106,pull_request_commit,476,nilearn,nilearn,lesteve,2015-02-16 17:24:33,Fix broken six imports,5d035d53b4b5f39f948e3c6c232c6716e245d54f,,fix broken six import,N,2015-02-16 17:50:08
107,pull_request_commit,476,nilearn,nilearn,lesteve,2015-02-16 17:50:08,"Fix plot_roi_extraction.py

Use np.recfromcsv which is easier to make compatible for both python2 and 3.
Use binary strings for string comparison",5317c10002117a341d2c9935612f3faafd291700,,fix plotroiextractionpi use nprecfromcsv easier make compat python2 3 use binari string string comparison,N,2015-02-02 09:55:39
108,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-02 09:55:39,"Make sure to compare using bytes.

Conflicts:
	examples/decoding/plot_haxby_different_estimators.py
	examples/decoding/plot_haxby_searchlight.py
	examples/manipulating_visualizing/plot_roi_extraction.py",fa7c49b88f020387a6184ad0ee6cf9c3e6289eb9,,make sure compar use byte conflict examplesdecodingplothaxbydifferentestimatorspi examplesdecodingplothaxbysearchlightpi examplesmanipulatingvisualizingplotroiextractionpi,N,2015-02-16 18:09:18
109,pull_request_commit,476,nilearn,nilearn,lesteve,2015-02-16 18:09:18,"Remove space in 'print' function calls

Conflicts:
	nilearn/input_data/nifti_masker.py",9e84487c0e0acc3999862874ff5d7949d7be9fff,,remov space print function call conflict nilearninputdataniftimaskerpi,N,2015-02-19 14:33:55
110,pull_request_commit,476,nilearn,nilearn,lesteve,2015-02-19 14:33:55,Replace basestring by six.string_types,c1b8c25904635df25463d8440e60527116001ceb,,replac basestr sixstringtyp,N,2015-02-19 14:44:50
111,pull_request_commit,476,nilearn,nilearn,lesteve,2015-02-19 14:44:50,Add back future to try to get the tests passing again,22c61a7543d06283a500edc97fab7947c177863c,,add back futur tri get test pass,N,2015-02-20 16:49:32
112,pull_request_commit,476,nilearn,nilearn,lesteve,2015-02-20 16:49:32,python3 fixes in examples,c607fe4cf21c1bf212655f53d2632814c0b78b37,,python3 fix exampl,N,2015-02-27 11:34:21
113,pull_request_commit,476,nilearn,nilearn,lesteve,2015-02-27 11:34:21,"Fix broken genfromtxt in doc

the same way it has been fixed in the examples",1bfcfeef01ddef5edf039818f9e0c1490d141d95,,fix broken genfromtxt doc way fix exampl,N,2015-02-27 11:35:06
114,pull_request_commit,476,nilearn,nilearn,lesteve,2015-02-27 11:35:06,"Python3 fixes for assert_regexp, itertools.izip and basestring",96e6140dc8eb21f31224983552064657908ccaeb,,python3 fix assertregexp itertoolsizip basestr,N,2015-03-02 00:33:03
115,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-03-02 00:33:03,Fixing missing keyword arg (Python 3.x only),5cb1da24f4a7fd655093c6c367add0dfa1ee3b3b,,fix miss keyword arg python 3x,N,2015-03-03 16:09:48
116,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-03-03 16:09:48,Remove dependency on future.,9dcaf9c31b805a1f51c2c2a5da45b04f9a6b7bd0,,remov depend futur,N,2015-03-03 16:24:27
117,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-03-03 16:24:27,Rename assert_raises_regexp to assert_raises_regex in Python 2.7,4ef1696ae7ddf8a6185be1463b137828a36e65a0,,renam assertraisesregexp assertraisesregex python 27,N,2015-03-03 19:11:24
118,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-03-03 19:11:24,Small code cleanup and reversions from @lesteve's PR comments.,bc20ed8910d156c361c579add9598dc6df85f9e2,,small code cleanup revers lestev PR comment,N,2015-03-03 19:11:31
119,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-03-03 19:11:31,regexp -> regex,dcc4837f271617fac1129e21aa2daaefdb3c38e5,,regexp,N,2015-03-03 19:33:04
120,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-03-03 19:33:04,Redoing xrange via six.,259380ea1ce1cd7081a26c16d1db56611a8a740a,,redo xrang via six,N,2015-03-03 19:35:17
121,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-03-03 19:35:17,"Adding a comment, and more explicit ""magic string"", for recfromcsv in fetch_abide_pcp.",1d0b8a83f2f9e42430aef7f17159091c01a8e67c,,ad comment explicit magic string recfromcsv fetchabidepcp,N,2015-03-04 14:51:58
122,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-03-04 14:51:58,Revert sphinxext changes by copying files from master.,95ddd15be9b4679c977a61bbb5536113c7fe7bc1,,revert sphinxext chang copi file master,N,2015-03-04 14:53:18
123,pull_request_commit,476,nilearn,nilearn,bcipolli@ucsd.edu,2015-03-04 14:53:18,Final code review tweaks (thanks @lesteve!),bbb6003362e5cb2023ce438b45b02d71996048ec,,final code review tweak thank lestev,N,2015-03-04 21:28:24
1,issue_title,369,nilearn,nilearn,bcipolli,2015-01-25 20:40:25,"Fix for #366

The `verbosity` parameter should control output from a function, with `0` meaning no output (and a non-zero default for functions that we want to output by default.  In some functions, current behavior was to always output. 

Here, I have fixed the above, tweaked docstrings, and changed places where `verbose` was passed as a boolean to be passed as an int.

I've also made changes to the testing code, to suppress output by forcing `verbose=0`.  With this, we can expect no output in tests--allowing browsing test results more cleanly and exposing more clearly unexpected prints and warnings.
",start issue,Verbosity=0 should mean silent,fix 366 the paramet control output function mean output nonzero default function want output default In function current behavior alway output here I fix tweak docstr chang place pass boolean pass int ive also made chang test code suppress output forc with expect output testsallow brows test result cleanli expos clearli unexpect print warn,N,2015-02-01 15:37:40
3,pull_request_title,369,nilearn,nilearn,bcipolli,2015-01-25 20:40:25,"Fix for #366

The `verbosity` parameter should control output from a function, with `0` meaning no output (and a non-zero default for functions that we want to output by default.  In some functions, current behavior was to always output. 

Here, I have fixed the above, tweaked docstrings, and changed places where `verbose` was passed as a boolean to be passed as an int.

I've also made changes to the testing code, to suppress output by forcing `verbose=0`.  With this, we can expect no output in tests--allowing browsing test results more cleanly and exposing more clearly unexpected prints and warnings.
",97df72722680e5db12f1238978a82c9bf84c9e7f,Verbosity=0 should mean silent,fix 366 the paramet control output function mean output nonzero default function want output default In function current behavior alway output here I fix tweak docstr chang place pass boolean pass int ive also made chang test code suppress output forc with expect output testsallow brows test result cleanli expos clearli unexpect print warn,N,2015-02-01 15:37:40
4,pull_request_merged,369,nilearn,nilearn,lesteve,2015-02-01 15:37:40,Verbosity=0 should mean silent,a214698a01c8f89043aae2c0c88aedf5fdfabc94,Pull request merge from bcipolli/nilearn:allow_silence to nilearn/nilearn:master,verbosity0 mean silent,N,2015-01-26 08:16:07
5,issue_comment,369,nilearn,nilearn,lesteve,2015-01-26 08:16:07,"There is a lingering `self.verbose > 10` in nilearn/input_data/nifti_masker.py.
",,,there linger nilearninputdataniftimaskerpi,N,2015-01-30 14:26:43
6,issue_comment,369,nilearn,nilearn,AlexandreAbraham,2015-01-30 14:26:43,"I agree with you!
",,,I agre,N,2015-01-30 12:36:06
7,issue_comment,369,nilearn,nilearn,lesteve,2015-01-30 12:36:06,"Sorry there is a tiny merge conflict I introduced by fixing something completely unrelated in master. Do you mind rebasing on master ? You just need to rename files -> filenames in `nilearn/_utils/testing.py`:

```
<<<<<<< HEAD
        kwargs['mock'] = True
        filenames = original_fetch_files(*args, **kwargs)
=======
        files = self._mock_fetch_files(*args, **kwargs)
>>>>>>> 33c9bdbb9bbafc437af606621ef6b269af9462a3
```
",,,sorri tini merg conflict I introduc fix someth complet unrel master Do mind rebas master you need renam file,N,2015-01-30 14:20:08
8,issue_comment,369,nilearn,nilearn,lesteve,2015-01-30 14:20:08,"LGTM, other than the verbose level in nilearn/input_data/nifti_masker.py and the merge conflict.

Maybe @AlexandreAbraham you can have a quick look ?
",,,lgtm verbos level nilearninputdataniftimaskerpi merg conflict mayb alexandreabraham quick look,N,2015-02-01 15:37:36
9,issue_comment,369,nilearn,nilearn,lesteve,2015-02-01 15:37:36,"Thanks a lot for this, clearly a nice improvement, be it only to make travis logs load a lot faster.
",,,thank lot clearli nice improv make travi log load lot faster,Y,2015-01-28 23:23:34
10,issue_comment,369,nilearn,nilearn,bcipolli,2015-01-28 23:23:34,"OK, pulled the `silence_fn` and added `verbosity=0` to all relevant tests in `test_datasets.py`.  Made the two verbosity tweaks above as well, did a little commit squashing... I think this is all set!
",,,OK pull ad relev test made two verbos tweak well littl commit squash I think set,Y,2015-01-28 23:34:19
11,issue_comment,369,nilearn,nilearn,bcipolli,2015-01-28 23:34:19,"...and with that said, the output is back in the tests.  Investigating.
",,,said output back test investig,Y,2015-01-29 00:58:05
12,issue_comment,369,nilearn,nilearn,bcipolli,2015-01-29 00:58:05,"After changing how the testing was done, then searching through the output again, I found quite a few more changes to make things work as advertised.  Please review the last 7 commits carefully; the changes are small but took thinking.

It would also be good to have a test run with all tests using `verbose=10`, to make sure none of the printing code has errors in it.  I suggest to add an issue for this.
",,,after chang test done search output I found quit chang make thing work advertis pleas review last 7 commit care chang small took think It would also good test run test use make sure none print code error I suggest add issu,Y,2015-01-30 14:44:21
13,issue_comment,369,nilearn,nilearn,bcipolli,2015-01-30 14:44:21,"OK, I rebased to master and restored the one verbosity check to 10 where suggested.  The tests pass and the output still looks clean, so this should be good to go!
",,,OK I rebas master restor one verbos check 10 suggest the test pass output still look clean good go,Y,2015-01-26 08:18:21
14,pull_request_commit_comment,369,nilearn,nilearn,lesteve,2015-01-26 08:18:21,"I guess this one should become `if verbose == 1` (shortening of the url for easier reading with the default verbosity)
",97df72722680e5db12f1238978a82c9bf84c9e7f,"(None, '', u'nilearn/datasets.py')",I guess one becom shorten url easier read default verbos,N,2015-01-26 08:57:17
15,pull_request_commit_comment,369,nilearn,nilearn,lesteve,2015-01-26 08:57:17,"I am sligthly uneasy with this for two reasons:
- you are silencing all functions at once, which means that you could hide potential issues, for example if a verbose parameter wasn't passed from the caller to the callee (you fixed a few of those in this PR by the way, thanks for that)
- ideally, it'd be good to have a teardown equivalent of this that sets back the datasets functions to their original selves, so that each test doesn't modify the global state. I am guessing that with the current version of the code, you only need one decorated test to silence all of them.
",97df72722680e5db12f1238978a82c9bf84c9e7f,"(None, '', u'nilearn/tests/test_datasets.py')",I sligthli uneasi two reason silenc function mean could hide potenti issu exampl verbos paramet wasnt pass caller calle fix PR way thank ideal itd good teardown equival set back dataset function origin selv test doesnt modifi global state I guess current version code need one decor test silenc,Y,2015-01-26 09:56:01
16,pull_request_commit_comment,369,nilearn,nilearn,lesteve,2015-01-26 09:56:01,"Actually thinking about it a bit more, why is it not enough to pass verbose=0 into the tested functions? Was it done to make it easier on the test writer so that he doesn't have to remember to add verbose=0 to each datasets function call?
",97df72722680e5db12f1238978a82c9bf84c9e7f,"(None, '', u'nilearn/tests/test_datasets.py')",actual think bit enough pass verbose0 test function wa done make easier test writer doesnt rememb add verbose0 dataset function call,Y,2015-01-26 10:00:49
17,pull_request_commit_comment,369,nilearn,nilearn,GaelVaroquaux,2015-01-26 10:00:49,"> Actually thinking about it a bit more, why is it not enough to pass verbose=0
> into the tested functions?

That would seem like the right thing to do to me. Unless the purpose is
to trigger the printing code in order to test it.
",97df72722680e5db12f1238978a82c9bf84c9e7f,"(None, '', u'nilearn/tests/test_datasets.py')",that would seem like right thing unless purpos trigger print code order test,Y,2015-01-28 15:01:50
18,pull_request_commit_comment,369,nilearn,nilearn,bcipolli,2015-01-28 15:01:50,"It seems more failsafe to me.  To test the output directly, just don't add the decorator to the test... or the decorator could be extended to accept a list of function names to silence, or to avoid silencing.

I don't have any strong opinion about it, so happy to simply pass `verbose=0` explicitly, or to write teardown code.
",97df72722680e5db12f1238978a82c9bf84c9e7f,"(None, '', u'nilearn/tests/test_datasets.py')",It seem failsaf To test output directli dont add decor test decor could extend accept list function name silenc avoid silenc I dont strong opinion happi simpli pass explicitli write teardown code,Y,2015-01-28 15:15:07
19,pull_request_commit_comment,369,nilearn,nilearn,bcipolli,2015-01-28 15:15:07,"On further thought, I think the _best_ way to do this is to automatically silence all functions--there should be no manual verification in tests, so output simply isn't helpful.  To test verbosity of any function, people should write specific unit tests.

What I've done is shorthand for that.  I could use the `inspect` function to recursively search modules for functions that accept a `verbose` parameter, and I could write a teardown function as well.

This seems the most complete and safest to me.  It could also wrap `stderr` / `stdout` to test whether any function has output... in fact, doing this for the entire test suite via a `TestRunner`, rather than using a decorator, is also an option.
",97df72722680e5db12f1238978a82c9bf84c9e7f,"(None, '', u'nilearn/tests/test_datasets.py')",On thought I think best way automat silenc functionsther manual verif test output simpli isnt help To test verbos function peopl write specif unit test what ive done shorthand I could use function recurs search modul function accept paramet I could write teardown function well thi seem complet safest It could also wrap test whether function output fact entir test suit via rather use decor also option,Y,2015-01-28 22:44:20
20,pull_request_commit_comment,369,nilearn,nilearn,lesteve,2015-01-28 22:44:20,"tl; dr: it just seems to me that passing `verbose=0` into the needed functions is a lot simpler.

It does the job we want which is to reduce noise in the output of nosetests. Yes we may forget to set `verbose=0` occasionally when adding a new test, but we will probably notice eventually when either running the tests or looking at the travis-ci output.

Also as I mentioned above, it could be a way to potentially detect bugs, like the verbose parameters that aren't passed down the call stack. Let's be honest, I don't think we have so much time on our hands that we are going to unit test each of our print statements.

> To test the output directly, just don't add the decorator to the test

That's actually not true because you don't have a teardown method and you only need one decorated test with setup_silence to silence your dataset functions for all the tests that are going to run from then on. Changing the global state in tests is very very nasty.

An example of the side-effects, add this test at the end of test_datasets.py that checks that some printing on stdout actually occurs:

``` python

import sys
from contextlib import contextmanager

@contextmanager
def redirect_stdout(new_target):
    old_target, sys.stdout = sys.stdout, new_target # replace sys.stdout
    try:
        yield new_target # run some code with the replaced stdout
    finally:
        sys.stdout = old_target # restore to the previous value

def test_stdout_miyawaki2008():
    with redirect_stdout(open('/tmp/test', 'w')):
        datasets._get_dataset_dir('test', verbose=5)

    content = open('/tmp/test').read()
    assert_true('search paths' in content)

```

This won't pass with you current code but it will pass if you remove your setup_silence decorators (or have setup_silence be just a no-op)
",97df72722680e5db12f1238978a82c9bf84c9e7f,"(None, '', u'nilearn/tests/test_datasets.py')",tl dr seem pass need function lot simpler It job want reduc nois output nosetest ye may forget set occasion ad new test probabl notic eventu either run test look travisci output also I mention could way potenti detect bug like verbos paramet arent pass call stack let honest I dont think much time hand go unit test print statement that actual true dont teardown method need one decor test setupsil silenc dataset function test go run chang global state test nasti An exampl sideeffect add test end testdatasetspi check print stdout actual occur thi wont pass current code pass remov setupsil decor setupsil noop,Y,2015-01-29 19:12:11
21,pull_request_commit_comment,369,nilearn,nilearn,lesteve,2015-01-29 19:12:11,"There are other occurences of this verbose - 1 elsewhere in the code. Would you mind fixing them while you are at it?

```
~/dev/nilearn $ git grep -n -P 'verbose\s*-\s*1'
nilearn/group_sparse_covariance.py:548:                verbose=self.verbose - 1, debug=False)
nilearn/input_data/multi_nifti_masker.py:188:                            verbose=(self.verbose - 1),
nilearn/input_data/nifti_masker.py:168:                verbose=(self.verbose - 1),
```
",97df72722680e5db12f1238978a82c9bf84c9e7f,"(5, '', u'nilearn/input_data/multi_nifti_masker.py')",there occur verbos 1 elsewher code would mind fix,N,2015-01-29 19:14:04
22,pull_request_commit_comment,369,nilearn,nilearn,lesteve,2015-01-29 19:14:04,"Actually you have already, thanks for that and sorry for the noise ...
",97df72722680e5db12f1238978a82c9bf84c9e7f,"(5, '', u'nilearn/input_data/multi_nifti_masker.py')",actual alreadi thank sorri nois,N,2015-01-29 19:15:08
23,pull_request_commit_comment,369,nilearn,nilearn,lesteve,2015-01-29 19:15:08,"I am not too sure whether > 10 was a typo or meant to indicate a super high verbosity was needed. At least the required verbosity is the same as the other print statements in the same class so that's probably fine.
",97df72722680e5db12f1238978a82c9bf84c9e7f,"(None, '', u'nilearn/input_data/nifti_masker.py')",I sure whether,N,2015-01-29 19:18:50
28,pull_request_commit,369,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-25 20:31:19,Turn logging OFF from within tests.,00d88d38e3753ec66c5d3345591816fd660fa829,,turn log off within test,N,2015-01-28 23:51:44
29,pull_request_commit,369,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-28 23:51:44,Tunnel verbosity through fetch_localizer_calculation_task,8c21e68ba24342eb73f7039b158e3a9753d12f11,,tunnel verbos fetchlocalizercalculationtask,N,2015-01-28 23:54:49
30,pull_request_commit,369,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-28 23:54:49,Allow is_spd output to be turned off.,e215be66b813bf16786b20a24e0c8b7c84437d02,,allow isspd output turn,N,2015-01-29 00:24:22
31,pull_request_commit,369,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 00:24:22,Tweak code where verbosity is decreased; passing negative verbosity leads to high verbosity.,b9af88dec769ea93fb9f52a28ae77f207bb1375b,,tweak code verbos decreas pass neg verbos lead high verbos,N,2015-01-29 00:24:42
32,pull_request_commit,369,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 00:24:42,Silencing the Parallel object in permuted_ols.,e1f66572e4310fc06ebb5c67775bac53cfe3c717,,silenc parallel object permutedol,N,2015-01-29 00:37:08
33,pull_request_commit,369,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 00:37:08,Only report download progress if verbose > 0.,8a0a08d010dc846a59fc8c9b389b1cc557696dfe,,onli report download progress verbos,N,2015-01-29 00:49:21
1,issue_title,484,nilearn,nilearn,GaelVaroquaux,2015-03-04 21:34:50,"A user at the workshop had the fsldir variable set, and got the following error when running the datasets.fetch_harvard_oxford:

<pre>
$ echo $FSLDIR
/usr/share/fsl/5.0

---------------------------------------------------------------------------
OSError                                   Traceback (most recent call last)
<ipython-input-2-3508c846c5eb> in <module>()
      1 from nilearn import datasets
----> 2 atlas_filename, labels = datasets.fetch_harvard_oxford('cort-maxprob-thr25-2mm')

/home/chris/.local/lib/python2.7/site-packages/nilearn/datasets.pyc in
fetch_harvard_oxford(atlas_name, data_dir, symmetric_split, resume, verbose)
   1579     data_dir = _get_dataset_dir(dataset_name, data_dir=data_dir,
   1580                                 lookup_defaults=(data_dir is None),
-> 1581                                 verbose=verbose)
   1582     opts = {'uncompress': True}
   1583     atlas_file = os.path.join('HarvardOxford',

/home/chris/.local/lib/python2.7/site-packages/nilearn/datasets.pyc in
_get_dataset_dir(dataset_name, data_dir, lookup_defaults, verbose)
    259
    260     raise OSError('Nilearn tried to store the dataset in the following '
--> 261             'directories, but:' + ''.join(errors))
    262
    263

OSError: Nilearn tried to store the dataset in the following directories, but:
 -/usr/share/fsl/5.0/harvard_oxford (Permission denied)
</pre>
",start issue,Nilearn tried to store in -/usr/share/fsl/5.0/harvard_oxford,A user workshop fsldir variabl set got follow error run datasetsfetchharvardoxford pre echo fsldir usrsharefsl50 oserror traceback recent call last ipythoninput23508c846c5eb 1 nilearn import dataset homechrislocallibpython27sitepackagesnilearndatasetspyc fetchharvardoxfordatlasnam datadir symmetricsplit resum verbos 1579 datadir getdatasetdirdatasetnam datadirdatadir 1580 lookupdefaultsdatadir none 1582 opt uncompress true 1583 atlasfil ospathjoinharvardoxford homechrislocallibpython27sitepackagesnilearndatasetspyc getdatasetdirdatasetnam datadir lookupdefault verbos 259 260 rais oserrornilearn tri store dataset follow 262 263 oserror nilearn tri store dataset follow directori usrsharefsl50harvardoxford permiss deni pre,N,2015-03-05 00:41:12
2,issue_closed,484,nilearn,nilearn,AlexandreAbraham,2015-03-05 00:41:12,,closed issue,Nilearn tried to store in -/usr/share/fsl/5.0/harvard_oxford,,N,2015-03-04 22:06:13
3,issue_comment,484,nilearn,nilearn,AlexandreAbraham,2015-03-04 22:06:13,"Bug spotted and fixed. Adding a non-regression test will be a bit more difficult.
",,,bug spot fix ad nonregress test bit difficult,Y,2015-03-05 05:44:42
1,issue_title,510,nilearn,nilearn,GaelVaroquaux,2015-03-19 19:06:12,"To reproduce: set a ""threshold"" high enough in plot_stat_maps

The traceback is:

<pre>
/home/varoquau/.local/lib/python2.7/site-packages/nilearn/plotting/img_plotting.py in _plot_img_with_bg(img, bg_img, cut_coords, output_file, display_mode, colorbar, figure, axes, title, threshold, annotate, draw_cross, black_bg, bg_vmin, bg_vmax, interpolation, display_factory, cbar_vmin, cbar_vmax, **kwargs)
     96         display.add_overlay(new_img_like(img, data, affine),
     97                             threshold=threshold, interpolation=interpolation,
---> 98                             colorbar=colorbar, **kwargs)
     99 
    100     if annotate:

/home/varoquau/.local/lib/python2.7/site-packages/nilearn/plotting/displays.py in add_overlay(self, img, threshold, colorbar, **kwargs)
    486 
    487         if colorbar:
--> 488             self._colorbar_show(ims[0], threshold)
    489 
    490         pl.draw_if_interactive()

/home/varoquau/.local/lib/python2.7/site-packages/nilearn/plotting/displays.py in _colorbar_show(self, im, threshold)
    593             self._colorbar_ax, ticks=ticks, norm=im.norm,
    594             orientation='vertical', cmap=our_cmap, boundaries=bounds,
--> 595             spacing='proportional')
    596         self._cbar.set_ticklabels([""%.2g"" % t for t in ticks])
    597 

/usr/lib/pymodules/python2.7/matplotlib/colorbar.pyc in __init__(self, ax, cmap, norm, alpha, values, boundaries, orientation, ticklocation, extend, spacing, ticks, format, drawedges, filled, extendfrac, extendrect, label)
    315         # The rest is in a method so we can recalculate when clim changes.
    316         self.config_axis()
--> 317         self.draw_all()
    318 
    319     def _extend_lower(self):

/usr/lib/pymodules/python2.7/matplotlib/colorbar.pyc in draw_all(self)
    340         X, Y = self._mesh()
    341         C = self._values[:, np.newaxis]
--> 342         self._config_axes(X, Y)
    343         if self.filled:
    344             self._add_solids(X, Y, C)

/usr/lib/pymodules/python2.7/matplotlib/colorbar.pyc in _config_axes(self, X, Y)
    431         ax.add_artist(self.patch)
    432 
--> 433         self.update_ticks()
    434 
    435     def _set_label(self):

/usr/lib/pymodules/python2.7/matplotlib/colorbar.pyc in update_ticks(self)
    365         """"""
    366         ax = self.ax
--> 367         ticks, ticklabels, offset_string = self._ticker()
    368         if self.orientation == 'vertical':
    369             ax.yaxis.set_ticks(ticks)

/usr/lib/pymodules/python2.7/matplotlib/colorbar.pyc in _ticker(self)
    582         ticks = ticks[inrange]
    583         b = b[inrange]
--> 584         formatter.set_locs(b)
    585         ticklabels = [formatter(t, i) for i, t in enumerate(b)]
    586         offset_string = formatter.get_offset()

/usr/lib/pymodules/python2.7/matplotlib/ticker.pyc in set_locs(self, locs)
    482                 self._set_offset(d)
    483             self._set_orderOfMagnitude(d)
--> 484             self._set_format(vmin, vmax)
    485 
    486     def _set_offset(self, range):

/usr/lib/pymodules/python2.7/matplotlib/ticker.pyc in _set_format(self, vmin, vmax)
    543             # We needed the end points only for the loc_range calculation.
    544             locs = locs[:-2]
--> 545         loc_range_oom = int(math.floor(math.log10(loc_range)))
    546         # first estimate:
    547         sigfigs = max(0, 3 - loc_range_oom)

ValueError: math domain error
</pre>
",start issue,Colobar code breaks when a map is fully empty,To reproduc set threshold high enough plotstatmap the traceback prehomevaroquaulocallibpython27sitepackagesnilearnplottingimgplottingpi plotimgwithbgimg bgimg cutcoord outputfil displaymod colorbar figur axe titl threshold annot drawcross blackbg bgvmin bgvmax interpol displayfactori cbarvmin cbarvmax kwarg 96 displayaddoverlaynewimglikeimg data affin 97 thresholdthreshold interpolationinterpol 99 100 annot homevaroquaulocallibpython27sitepackagesnilearnplottingdisplayspi addoverlayself img threshold colorbar kwarg 486 487 colorbar 489 490 pldrawifinteract homevaroquaulocallibpython27sitepackagesnilearnplottingdisplayspi colorbarshowself im threshold 593 selfcolorbarax tickstick normimnorm 594 orientationvert cmapourcmap boundariesbound 596 selfcbarsetticklabels2g tick 597 usrlibpymodulespython27matplotlibcolorbarpyc initself ax cmap norm alpha valu boundari orient tickloc extend space tick format drawedg fill extendfrac extendrect label 315 the rest method recalcul clim chang 316 selfconfigaxi 318 319 def extendlowerself usrlibpymodulespython27matplotlibcolorbarpyc drawallself 340 X Y selfmesh 341 C selfvalu npnewaxi 343 selffil 344 selfaddsolidsx Y C usrlibpymodulespython27matplotlibcolorbarpyc configaxesself X Y 431 axaddartistselfpatch 432 434 435 def setlabelself usrlibpymodulespython27matplotlibcolorbarpyc updateticksself 365 366 ax selfax 368 selforient vertic 369 axyaxissettickstick usrlibpymodulespython27matplotlibcolorbarpyc tickerself 582 tick ticksinrang 583 b binrang 585 ticklabel formattert enumerateb 586 offsetstr formattergetoffset usrlibpymodulespython27matplotlibtickerpyc setlocsself loc 482 selfsetoffsetd 483 selfsetorderofmagnitud 485 486 def setoffsetself rang usrlibpymodulespython27matplotlibtickerpyc setformatself vmin vmax 543 We need end point locrang calcul 544 loc locs2 546 first estim 547 sigfig max0 3 locrangeoom valueerror math domain error pre,N,2015-03-26 08:16:18
2,issue_closed,510,nilearn,nilearn,lesteve,2015-03-26 08:16:18,,closed issue,Colobar code breaks when a map is fully empty,,N,2015-03-20 07:35:32
3,issue_comment,510,nilearn,nilearn,GaelVaroquaux,2015-03-20 07:35:32,"Thanks! Can you also add a smoke test please.
",,,thank can also add smoke test pleas,Y,2015-03-20 07:33:50
4,issue_comment,510,nilearn,nilearn,banilo,2015-03-20 07:33:50,"Ok guilty, I will try to fix that today.
",,,Ok guilti I tri fix today,N,2015-03-20 08:24:48
5,issue_comment,510,nilearn,nilearn,AlexandreAbraham,2015-03-20 08:24:48,"Works for me and for @banilo, cannot reproduce... @banilo, can you add a test and see if it passes travis?
",,,work banilo cannot reproduc banilo add test see pass travi,Y,2015-03-26 08:16:18
1,issue_title,440,nilearn,nilearn,lesteve,2015-02-18 10:25:36,"Fix #360 for good.
",start issue,Finish up coveralls support,fix 360 good,N,2015-02-18 12:05:05
2,issue_closed,440,nilearn,nilearn,lesteve,2015-02-18 12:05:05,,closed issue,Finish up coveralls support,,N,2015-02-18 10:25:36
3,pull_request_title,440,nilearn,nilearn,lesteve,2015-02-18 10:25:36,"Fix #360 for good.
",0abfce4f46155dba7e4fed54faed2b14f1c32115,Finish up coveralls support,fix 360 good,N,2015-02-18 12:05:05
4,pull_request_merged,440,nilearn,nilearn,lesteve,2015-02-18 12:05:05,Finish up coveralls support,91d4cc17b2830004b79cdc2b2b9dd5f11b835387,Pull request merge from lesteve/nilearn:coveralls-support to nilearn/nilearn:master,finish coveral support,N,2015-02-18 10:43:02
5,issue_comment,440,nilearn,nilearn,coveralls,2015-02-18 10:43:02,"[![Coverage Status](https://coveralls.io/builds/1947670/badge)](https://coveralls.io/builds/1947670)

Changes Unknown when pulling **d1e85f1b688c5894e804d756097ac9cddc562268 on lesteve:coveralls-support** into *\* on nilearn:master**.
",,,coverag statu chang unknown pull d1e85f1b688c5894e804d756097ac9cddc562268 lestevecoverallssupport nilearnmast,N,2015-02-18 10:51:31
6,issue_comment,440,nilearn,nilearn,coveralls,2015-02-18 10:51:31,"[![Coverage Status](https://coveralls.io/builds/1947727/badge)](https://coveralls.io/builds/1947727)

Changes Unknown when pulling **0abfce4f46155dba7e4fed54faed2b14f1c32115 on lesteve:coveralls-support** into *\* on nilearn:master**.
",,,coverag statu chang unknown pull 0abfce4f46155dba7e4fed54faed2b14f1c32115 lestevecoverallssupport nilearnmast,N,2015-02-18 10:30:27
7,pull_request_commit_comment,440,nilearn,nilearn,AlexandreAbraham,2015-02-18 10:30:27,"This should go into the ""if"" condition. If we decide to run coverage on only one of the runs, then we should skip it in the others as it requires a significant time to run.
",0abfce4f46155dba7e4fed54faed2b14f1c32115,"(5, '', u'continuous_integration/install.sh')",thi go condit If decid run coverag one run skip other requir signific time run,N,2015-02-18 10:40:40
8,pull_request_commit_comment,440,nilearn,nilearn,lesteve,2015-02-18 10:40:40,"> we should skip it in the others as it requires a significant time to run

I double-checked and looks like you are right. An additional 30"" for coverage gathering on top of the 1'30"" for the tests only on my machine.
",0abfce4f46155dba7e4fed54faed2b14f1c32115,"(5, '', u'continuous_integration/install.sh')",I doublecheck look like right An addit 30 coverag gather top 130 test machin,Y,2015-02-18 10:45:12
9,pull_request_commit_comment,440,nilearn,nilearn,AlexandreAbraham,2015-02-18 10:45:12,"Of course I'm right! I timed it too :watch:.
",0abfce4f46155dba7e4fed54faed2b14f1c32115,"(5, '', u'continuous_integration/install.sh')",Of cours Im right I time watch,N,2015-02-18 08:35:32
10,pull_request_commit,440,nilearn,nilearn,lesteve,2015-02-18 08:35:32,Run coveralls in Travis for neurodebian distrib,7c6dfd8296d046b71fd0f4b6937979255841eec5,,run coveral travi neurodebian distrib,N,2015-02-18 10:06:13
1,issue_title,357,nilearn,nilearn,bcipolli,2015-01-20 01:41:51,"This is obviously known (see, for example, https://github.com/nilearn/nilearn/commit/e0f77613240be008a131da1a4a2908a6ea26713c), but not currently reflected in the `README.md` file (currently says: `Python >= 2.6`).  I suggest changing the documentation until this is fixed.

Here are the issues I've found so far; I figured it's useful to document, and I'm willing to start migrating code (and getting Travis to run tests for 2.6 and 3.4), if that's cool.

Python 2.6:
- Using string.format() with ""{}"" (`nilearn/version.py`, `nilearn/plotting/plot_glass_brain.py`)
- Using dictionary comprehensions (`nilearn/plotting/plot_glass_brain.py`)
- Using `try... except Exception, e` syntax
- Use of `nose` `assert_x` functions that are 2.7+ (see https://docs.python.org/2/library/unittest.html)
- `assert_raises` and `zipfile.ZipFile` are not context managers until 2.7+

Python 3+:
- Using `print ""string""` (vs. `print (""string"")`)
- Using `urllib` / `urllib2` (in dataset download logic & tests)
- Usage of `basestring` class (`nilearn/decomposition/multi_pca.py`)
- Improper absolute imports of nilearn packages used (`nilearn/decomposition/__init__.py`, `nilearn/_utils/niimg_conversions.py`)
- No `func_name` property available (`nilearn/_utils/cache_mixin.py`)
- Use of `xrange`
- Use of old-style octal literals (`0444` vs. `0o444`)
",start issue,Nilearn not compatible with Python 3+ (compatibility with  Python 2.6 fixed),thi obvious known see exampl current reflect file current say I suggest chang document fix here issu ive found far I figur use document Im will start migrat code get travi run test 26 34 that cool python 26 use stringformat use dictionari comprehens use syntax use function 27 see context manag 27 python 3 use vs use dataset download logic test usag class improp absolut import nilearn packag use No properti avail use use oldstyl octal liter vs,N,2015-03-06 10:05:46
2,issue_closed,357,nilearn,nilearn,lesteve,2015-03-06 10:05:46,,closed issue,Nilearn not compatible with Python 3+ (compatibility with  Python 2.6 fixed),,N,2015-03-06 13:11:23
8,issue_comment,357,nilearn,nilearn,lesteve,2015-01-20 08:38:55,"Also Python3 compatibility would definitely be great. @ogrisel mentioned [futurize](http://python-future.org/futurize.html) last time we chatted about it.
",,,also python3 compat would definit great ogrisel mention futur last time chat,N,2015-03-06 10:05:46
9,issue_comment,357,nilearn,nilearn,lesteve,2015-03-06 10:05:46,"closed via #476 
",,,close via 476,N,2015-03-06 13:12:20
1,issue_title,465,nilearn,nilearn,banilo,2015-02-26 15:19:23,"tries to fix #194 
",start issue,MultiPCA: simplify mask computation,tri fix 194,N,2015-03-17 10:41:04
2,issue_closed,465,nilearn,nilearn,AlexandreAbraham,2015-03-17 10:41:04,,closed issue,MultiPCA: simplify mask computation,,N,2015-02-26 15:19:23
3,pull_request_title,465,nilearn,nilearn,banilo,2015-02-26 15:19:23,"tries to fix #194 
",05c048f8bf79027630ba4eb667a43ce05de0e890,MultiPCA: simplify mask computation,tri fix 194,N,2015-03-05 19:21:33
4,issue_comment,465,nilearn,nilearn,banilo,2015-03-05 19:21:33,"No comments on this one?
",,,No comment one,N,2015-03-09 22:52:26
5,issue_comment,465,nilearn,nilearn,bthirion,2015-03-09 22:52:26,"# I do get an error with unittests:

## ERROR: nilearn.decomposition.tests.test_multi_pca.test_multi_pca

Traceback (most recent call last):
  File ""/usr/lib/python2.7/dist-packages/nose/case.py"", line 197, in runTest
    self.test(*self.arg)
  File ""/home/bertrand/mygit/nilearn/nilearn/decomposition/tests/test_multi_pca.py"", line 50, in test_multi_pca
    multi_pca.fit(data[:2])
  File ""/home/bertrand/mygit/nilearn/nilearn/decomposition/multi_pca.py"", line 224, in fit
    preset_mask_img = self.mask.mask_img_
AttributeError: 'MultiNiftiMasker' object has no attribute 'mask_img_'
",,,I get error unittest error nilearndecompositionteststestmultipcatestmultipca traceback recent call last file usrlibpython27distpackagesnosecasepi line 197 runtest selftestselfarg file homebertrandmygitnilearnnilearndecompositionteststestmultipcapi line 50 testmultipca multipcafitdata2 file homebertrandmygitnilearnnilearndecompositionmultipcapi line 224 fit presetmaskimg selfmaskmaskimg attributeerror multiniftimask object attribut maskimg,N,2015-03-09 23:31:23
6,issue_comment,465,nilearn,nilearn,GaelVaroquaux,2015-03-09 23:31:23,"Indeed, tests fail on travis.
",,,inde test fail travi,Y,2015-03-10 16:04:45
7,issue_comment,465,nilearn,nilearn,bcipolli,2015-03-10 16:04:45,"Just a note, there's also no test case for when the mask is computed, so there's limited code coverage of this PR.  I tried making a simple one, but the mask computation was failing...
",,,just note there also test case mask comput there limit code coverag PR I tri make simpl one mask comput fail,Y,2015-03-17 10:41:04
8,issue_comment,465,nilearn,nilearn,AlexandreAbraham,2015-03-17 10:41:04,"Closing this one as we don't want to silent parameter overriding.
",,,close one dont want silent paramet overrid,N,2015-02-26 15:17:57
1,issue_title,416,nilearn,nilearn,banilo,2015-02-08 10:29:49,"Should be self-explanatory
",start issue,[ENH] function for nifti header comparison in _utils,should selfexplanatori,N,2015-03-09 13:40:57
2,issue_closed,416,nilearn,nilearn,AlexandreAbraham,2015-03-09 13:40:57,,closed issue,[ENH] function for nifti header comparison in _utils,,N,2015-02-08 10:29:49
3,pull_request_title,416,nilearn,nilearn,banilo,2015-02-08 10:29:49,"Should be self-explanatory
",bd8590ed067be171532d40e0e414bc392afbd7e0,[ENH] function for nifti header comparison in _utils,should selfexplanatori,N,2015-02-08 11:06:51
4,issue_comment,416,nilearn,nilearn,GaelVaroquaux,2015-02-08 11:06:51,"why would you want to compare headers?  This is a serious question: I don't see the use case of such a generic comparison of all the fields. 
",,,would want compar header thi seriou question I dont see use case gener comparison field,N,2015-02-08 11:06:58
5,issue_comment,416,nilearn,nilearn,GaelVaroquaux,2015-02-08 11:06:58,"why would you want to compare headers?  This is a serious question: I don't see the use case of such a generic comparison of all the fields. 
",,,would want compar header thi seriou question I dont see use case gener comparison field,N,2015-02-09 12:42:57
6,issue_comment,416,nilearn,nilearn,GaelVaroquaux,2015-02-09 12:42:57,"I find that a lot of these justifications are ""will be useful"", and not
directly useful. Thus, in favor of the YAGNI principle, I lean on the
options of not doing it.

Also, I believe that exact comparison of headers is seldom a good idea.
Things like cal_min and cal_max are data dependent, and should probably
not be compared. My view is that to do anything with a nifti header, one
should understand what's in there and be a bit specific about it.
",,,I find lot justif use directli use thu favor yagni principl I lean option also I believ exact comparison header seldom good idea thing like calmin calmax data depend probabl compar My view anyth nifti header one understand what bit specif,N,2015-02-09 22:28:03
7,issue_comment,416,nilearn,nilearn,GaelVaroquaux,2015-02-09 22:28:03,"> In iter_img, we copy the header of the image to the sub_images. As Ga�l
> stated, we do that for now, but we have no clear idea of what's
> contained in the

Actually, in iter_img/index_img, I find that it is what we should be
doing.
",,,actual iterimgindeximg I find,N,2015-02-10 06:40:27
8,issue_comment,416,nilearn,nilearn,GaelVaroquaux,2015-02-10 06:40:27,"> Yes, but if we want to be accurate, we need to put a value of index *
> t_r for toffset.

:).

That's why I am afraid of nifti headers, it is so easy to screw them up.
",,,that I afraid nifti header easi screw,N,2015-02-08 11:20:38
9,issue_comment,416,nilearn,nilearn,eickenberg,2015-02-08 11:20:38,"It is true that this does not seem to address https://github.com/nilearn/nilearn/issues/380 in any way.

The proposal resulting from that discussion is more of a copying mechanism, similar to `np.zeros_like` and `np.ones_like` where properties of the input image are copied except if other values are specified in the keyword arguments. The key point of that discussion is _which_ attributes to copy, because some of them are data dependent in different ways.

The contribution here could maybe be used as the analogous diagnostic tool for anybody who relies strongly on header information. In this case, just as in the discussion in #380, different modes of comparison may be possible depending on the context one is working in.

That is the only use case I can think of right now and I am not sure it is valid.
",,,It true seem address way the propos result discuss copi mechan similar properti input imag copi except valu specifi keyword argument the key point discuss attribut copi data depend differ way the contribut could mayb use analog diagnost tool anybodi reli strongli header inform In case discuss 380 differ mode comparison may possibl depend context one work that use case I think right I sure valid,N,2015-02-08 12:28:39
10,issue_comment,416,nilearn,nilearn,banilo,2015-02-08 12:28:39,"There are at least three ways of looking at a potential usefulness of is_hdr_equal:

a) Michael H. suggested we should look more at how headers are handled/modified/passed on in nilearn -> this might increasingly necessitate broad header comparisons in the future

b) Loic wanted to incorporate a header comparison in the test for index_img but there was no such function, which is why niftis in that test are currently compared with respect to some (data + affine) but not all aspects (+header)

c) Fundamentally, nifti = data + header (includes affine), not nifti = data + affine (header is a blackspot). It would make sense to account for this reality in the API
",,,there least three way look potenti use ishdrequ michael H suggest look header handledmodifiedpass nilearn b loic want incorpor header comparison test indeximg function nifti test current compar respect data affin aspect header c fundament nifti data header includ affin nifti data affin header blackspot It would make sens account realiti api,Y,2015-02-09 12:39:30
11,issue_comment,416,nilearn,nilearn,AlexandreAbraham,2015-02-09 12:39:30,"> why would you want to compare headers? This is a serious question: I don't see the use case of such a generic comparison of all the fields.

If we want to implement #380, such a function would be useful for testing. It should take a `mode` parameter similar to the ones used in the other niimg functions. For the moment, I don't think it is useful.
",,,If want implement 380 function would use test It take paramet similar one use niimg function for moment I dont think use,Y,2015-02-09 12:46:36
12,issue_comment,416,nilearn,nilearn,banilo,2015-02-09 12:46:36,"Very concretely, such a function was needed last week in the index_img test, but was not present.
",,,veri concret function need last week indeximg test present,Y,2015-02-09 12:51:03
13,issue_comment,416,nilearn,nilearn,AlexandreAbraham,2015-02-09 12:51:03,"> I find that a lot of these justifications are ""will be useful"", and not directly useful. Thus, in favor of the YAGNI principle, I lean on the options of not doing it. 

Hence my conclusion: we don't need it for now ;).

> Very concretely, such a function was needed last week in the index_img test, but was not present.

In `iter_img`, we copy the header of the image to the _sub_images_. As Gaël stated, we do that for now, but we have no clear idea of what's contained in the header. Since we don't have clear ideas on that, I think we don't want to integrate code like that. Honestly, I don't feel comptetent enough regarding nifti headers to tell if it's a good idea or not.
",,,henc conclus dont need In copi header imag subimag As gaël state clear idea what contain header sinc dont clear idea I think dont want integr code like honestli I dont feel comptet enough regard nifti header tell good idea,N,2015-02-09 23:19:52
14,issue_comment,416,nilearn,nilearn,AlexandreAbraham,2015-02-09 23:19:52,"Yes, but if we want to be accurate, we need to put a value of `index * t_r` for `toffset`. 
",,,ye want accur need put valu,N,2015-03-09 13:40:57
15,issue_comment,416,nilearn,nilearn,AlexandreAbraham,2015-03-09 13:40:57,"I close this one as it won't be merged. We don't know if we will need this function. It is superseeded by #380 and the code provided here may still be useful to adresse this issue.
",,,I close one wont merg We dont know need function It superseed 380 code provid may still use adress issu,N,2015-02-08 10:38:50
16,pull_request_commit_comment,416,nilearn,nilearn,eickenberg,2015-02-08 10:38:50,"Would it be possible to have this list explicitly, at least in a comment, or in a notes section in the docstring. That way one can immediately see what is compared.

For reference `[('sizeof_hdr', 'i4'),  ('data_type', 'S10'), ('db_name', 'S18'), ('extents', 'i4'), ('session_error', 'i2'),  ('regular', 'S1'), ('dim_info', 'u1'), ('dim', 'i2', (8,)), ('intent_p1', 'f4'),('intent_p2', 'f4'), ('intent_p3', 'f4'), ('intent_code', 'i2'),
 ('datatype', 'i2'), ('bitpix', 'i2'), ('slice_start', 'i2'), ('pixdim', 'f4', (8,)), ('vox_offset', 'f4'), ('scl_slope', 'f4'), ('scl_inter', 'f4'),
 ('slice_end', 'i2'), ('slice_code', 'u1'), ('xyzt_units', 'u1'), ('cal_max', 'f4'), ('cal_min', 'f4'), ('slice_duration', 'f4'),
 ('toffset', 'f4'), ('glmax', 'i4'), ('glmin', 'i4'), ('descrip', 'S80'), ('aux_file', 'S24'), ('qform_code', 'i2'),
 ('sform_code', 'i2'), ('quatern_b', 'f4'), ('quatern_c', 'f4'), ('quatern_d', 'f4'), ('qoffset_x', 'f4'),
 ('qoffset_y', 'f4'), ('qoffset_z', 'f4'), ('srow_x', 'f4', (4,)), ('srow_y', 'f4', (4,)), ('srow_z', 'f4', (4,)), ('intent_name', 'S16'),
 ('magic', 'S4')]`
",bd8590ed067be171532d40e0e414bc392afbd7e0,"(34, '', u'nilearn/_utils/niimg_conversions.py')",would possibl list explicitli least comment note section docstr that way one immedi see compar for refer,N,2015-02-08 08:47:44
17,pull_request_commit,416,nilearn,nilearn,banilo,2015-02-08 08:47:44,ENH: is_hdr_equal() added,cd58953074f9ca7067ca3b898a3cbb9ee865db03,,enh ishdrequ ad,N,2015-02-08 10:20:41
18,pull_request_commit,416,nilearn,nilearn,banilo,2015-02-08 10:20:41,test for is_hdr_equal(),bd8590ed067be171532d40e0e414bc392afbd7e0,,test ishdrequ,N,2015-02-08 10:44:33
1,issue_title,451,nilearn,nilearn,bcipolli,2015-02-20 22:59:27,"See #450 for details.  @GaelVaroquaux 's suggestion seems to work well.  Note that there's also some slight whitespace tweaks for PEP8 compatibility.

I'm not familiar enough with matplotlib to understand how to add a regression test for this; any pointers / suggestions are welcome!

See #450 for code to test this fix.
",start issue,"Bugfix: Add axes on figure of received axes, not on current figure.",see 450 detail gaelvaroquaux suggest seem work well note there also slight whitespac tweak pep8 compat Im familiar enough matplotlib understand add regress test pointer suggest welcom see 450 code test fix,N,2015-02-23 07:06:44
2,issue_closed,451,nilearn,nilearn,lesteve,2015-02-23 07:06:44,,closed issue,"Bugfix: Add axes on figure of received axes, not on current figure.",,N,2015-02-20 22:59:27
3,pull_request_title,451,nilearn,nilearn,bcipolli,2015-02-20 22:59:27,"See #450 for details.  @GaelVaroquaux 's suggestion seems to work well.  Note that there's also some slight whitespace tweaks for PEP8 compatibility.

I'm not familiar enough with matplotlib to understand how to add a regression test for this; any pointers / suggestions are welcome!

See #450 for code to test this fix.
",b726df26001ce61ec99fb7457ec859a5835fc0bc,"Bugfix: Add axes on figure of received axes, not on current figure.",see 450 detail gaelvaroquaux suggest seem work well note there also slight whitespac tweak pep8 compat Im familiar enough matplotlib understand add regress test pointer suggest welcom see 450 code test fix,N,2015-02-23 07:06:44
4,pull_request_merged,451,nilearn,nilearn,lesteve,2015-02-23 07:06:44,"Bugfix: Add axes on figure of received axes, not on current figure.",ab1eadbf6b5a90b29bd15ea2c7beb48845eeadf8,Pull request merge from bcipolli/nilearn:issue-450 to nilearn/nilearn:master,bugfix add axe figur receiv axe current figur,N,2015-02-22 14:33:25
5,issue_comment,451,nilearn,nilearn,AlexandreAbraham,2015-02-22 14:33:25,"LGTM.

Regarding the test, a bit of explanation about matplotlib.

`from matplotlib import pyplot as plt`

If you use a plotting function like `plt.plot`, the plot will be added to the current figure that you can access with `plt.gcf()`. 

So, if I take your original code and simplify it (I didn't run this code :P), we could do:

```
import matplotlib.pyplot as plt
import nibabel
import numpy as np
from nilearn.plotting import plot_glass_brain


maps_img = nibabel.Nifti1Image(np.random,random((10, 10, 10)), np.eye(4))
fh1 = plt.figure()
fh2 = plt.figure()
ax1 = fh1.add_subplot(1, 1, 1)
# Note: pl.gcf()== fh2 because it is the last figure created.
assert(pl.gcf() == fh2)
# Since we gave ax1, the figure should be plotted in fh1.
# Before your fix it was plot in fh2.
slicer = plot_glass_brain(maps_img, axes=ax1, title='test')
# Test it
assert(slicer.axes[0].get_figure() == fh1)
```
",,,lgtm regard test bit explan matplotlib If use plot function like plot ad current figur access So I take origin code simplifi I didnt run code P could,Y,2015-02-22 15:27:58
6,issue_comment,451,nilearn,nilearn,bcipolli,2015-02-22 15:27:58,"Great.  I will add a test and update.
",,,great I add test updat,Y,2015-02-22 16:48:37
7,issue_comment,451,nilearn,nilearn,bcipolli,2015-02-22 16:48:37,"I added a test (thanks @AlexandreAbraham for the starting point!) and did a bit of drive-by linting in the test file.
",,,I ad test thank alexandreabraham start point bit drivebi lint test file,Y,2015-02-22 16:56:04
8,issue_comment,451,nilearn,nilearn,AlexandreAbraham,2015-02-22 16:56:04,"LGTM, great work!
",,,lgtm great work,N,2015-02-20 22:54:53
9,pull_request_commit,451,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-20 22:54:53,"Add axes on figure of received axes, not on current figure.",6c2126d08d6c6306df13924b173aec736296d078,,add axe figur receiv axe current figur,N,2015-02-22 16:40:19
10,pull_request_commit,451,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-22 16:40:19,Add regression test for #450.,39dd0edd151d3d45b19be676baf09ba4cfac9899,,add regress test 450,N,2015-02-22 16:40:34
1,issue_title,412,nilearn,nilearn,eickenberg,2015-02-05 21:55:33,"Removed exception. It was in a private function and didn't make sense.
",start issue,"FIX exception raised when no cbar, but cbar bounds specified",remov except It privat function didnt make sens,N,2015-02-05 22:25:13
2,issue_closed,412,nilearn,nilearn,lesteve,2015-02-05 22:25:13,,closed issue,"FIX exception raised when no cbar, but cbar bounds specified",,N,2015-02-05 21:55:33
3,pull_request_title,412,nilearn,nilearn,eickenberg,2015-02-05 21:55:33,"Removed exception. It was in a private function and didn't make sense.
",4cfc4a8c225530e8a8857397bd2d1c1e99e91eae,"FIX exception raised when no cbar, but cbar bounds specified",remov except It privat function didnt make sens,N,2015-02-05 22:25:13
4,pull_request_merged,412,nilearn,nilearn,lesteve,2015-02-05 22:25:13,"FIX exception raised when no cbar, but cbar bounds specified",483cb5f8131151139915871932affb60d27e456c,Pull request merge from eickenberg/nilearn:fix_error_when_no_cbar to nilearn/nilearn:master,fix except rais cbar cbar bound specifi,N,2015-02-06 10:33:16
5,issue_comment,412,nilearn,nilearn,GaelVaroquaux,2015-02-06 10:33:16,"We need to have a test committed for this. We should not fix a bug like this without turning it into a test.
",,,We need test commit We fix bug like without turn test,Y,2015-02-05 22:25:08
6,issue_comment,412,nilearn,nilearn,lesteve,2015-02-05 22:25:08,"Looks good, thanks.
",,,look good thank,N,2015-02-05 21:54:33
7,pull_request_commit,412,nilearn,nilearn,eickenberg,2015-02-05 21:54:33,"FIX exception raised when no cbar, but cbar bounds specified - removed exception",a091d708f6c9c61bb70acc1c0e7cac4bffcff514,,fix except rais cbar cbar bound specifi remov except,N,2015-02-05 22:08:22
1,issue_title,470,nilearn,nilearn,bcipolli,2015-02-28 22:59:52,"I'm separating this issue out of https://github.com/nilearn/nilearn/pull/371, as I think it's a simple issue / bugfix to cleanly discuss on its own.

CanICA and MultiPCA require `imgs` to be passed to their `fit` functions.  However,
- `MultiPCA` lists `imgs` as an optional parameter.
- When either of these classes are created with an explicit `mask_img`, their `fit()` function raises a warning (despite users doing the right thing).

Fixes:
- Make `imgs` a required parameter.
- Call the downstream masker with `imgs`, only if it has no `mask_img`.
",start issue,CanICA / MultiPCA: Fix interface / avoid warning for fitting with and without images,Im separ issu I think simpl issu bugfix cleanli discuss canica multipca requir pass function howev list option paramet when either class creat explicit function rais warn despit user right thing fix make requir paramet call downstream masker,N,2015-03-09 13:42:40
2,issue_closed,470,nilearn,nilearn,AlexandreAbraham,2015-03-09 13:42:40,,closed issue,CanICA / MultiPCA: Fix interface / avoid warning for fitting with and without images,,N,2015-02-28 22:59:52
3,pull_request_title,470,nilearn,nilearn,bcipolli,2015-02-28 22:59:52,"I'm separating this issue out of https://github.com/nilearn/nilearn/pull/371, as I think it's a simple issue / bugfix to cleanly discuss on its own.

CanICA and MultiPCA require `imgs` to be passed to their `fit` functions.  However,
- `MultiPCA` lists `imgs` as an optional parameter.
- When either of these classes are created with an explicit `mask_img`, their `fit()` function raises a warning (despite users doing the right thing).

Fixes:
- Make `imgs` a required parameter.
- Call the downstream masker with `imgs`, only if it has no `mask_img`.
",22c8ba086c08667c760d586826d7fcdd56d76924,CanICA / MultiPCA: Fix interface / avoid warning for fitting with and without images,Im separ issu I think simpl issu bugfix cleanli discuss canica multipca requir pass function howev list option paramet when either class creat explicit function rais warn despit user right thing fix make requir paramet call downstream masker,N,2015-03-09 13:42:40
4,pull_request_merged,470,nilearn,nilearn,AlexandreAbraham,2015-03-09 13:42:40,CanICA / MultiPCA: Fix interface / avoid warning for fitting with and without images,412a6f0294c06f7fbd997ed1bae37234258190b5,Pull request merge from bcipolli/nilearn:imgs_required to nilearn/nilearn:master,canica multipca fix interfac avoid warn fit without imag,N,2015-03-06 13:14:55
5,issue_comment,470,nilearn,nilearn,bcipolli,2015-03-06 13:14:55,"Rebased to master, to test for Python 3.4 support
",,,rebas master test python 34 support,Y,2015-03-09 13:42:42
6,issue_comment,470,nilearn,nilearn,AlexandreAbraham,2015-03-09 13:42:42,"Thanks for the fix!
",,,thank fix,N,2015-03-06 13:29:16
7,pull_request_commit_comment,470,nilearn,nilearn,AlexandreAbraham,2015-03-06 13:29:16,"Why nibabel ?
",22c8ba086c08667c760d586826d7fcdd56d76924,"(9, '', u'nilearn/decomposition/tests/test_canica.py')",whi nibabel,N,2015-03-06 20:15:10
8,pull_request_commit_comment,470,nilearn,nilearn,bcipolli,2015-03-06 20:15:10,"I tend to try and reorganize imports when I add them (3 blocks, alphabetized, `import`s before `from`.

I need to stop doing that, it's not helping anybody.  I'll revert this now.
",22c8ba086c08667c760d586826d7fcdd56d76924,"(9, '', u'nilearn/decomposition/tests/test_canica.py')",I tend tri reorgan import I add 3 block alphabet I need stop help anybodi ill revert,N,2015-03-06 20:50:15
9,pull_request_commit_comment,470,nilearn,nilearn,AlexandreAbraham,2015-03-06 20:50:15,"No, this is what I do too: one block for standard / system imports, one for scientific package and one for inner modules. I was just wondering why you added nibabel but I can see that you removed it from the top of the file.
",22c8ba086c08667c760d586826d7fcdd56d76924,"(9, '', u'nilearn/decomposition/tests/test_canica.py')",No I one block standard system import one scientif packag one inner modul I wonder ad nibabel I see remov top file,N,2015-02-28 23:02:00
2,issue_closed,525,nilearn,nilearn,AlexandreAbraham,2015-04-08 22:39:47,,closed issue,Pylab import undefined in img_plotting with Enthought,,N,2015-03-27 23:45:49
3,issue_comment,525,nilearn,nilearn,AlexandreAbraham,2015-03-27 23:45:49,"Hi,
Could you run that in a terminal: `python -c 'import pylab'`. My guess is that you don't have pylab installed. The problem is that we are not supposed to depend on pylab but matplotlib only. @lesteve do you know why we have pylab stuff here?
",,,Hi could run termin My guess dont pylab instal the problem suppos depend pylab matplotlib lestev know pylab stuff,N,2015-03-28 01:16:06
4,issue_comment,525,nilearn,nilearn,surchs,2015-03-28 01:16:06,"Yes, there is definitely something wrong

```
Traceback (most recent call last):
  File ""<string>"", line 1, in <module>
  File ""/home/surchs/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/pylab.py"", line 1, in <module>
    from matplotlib.pylab import *
  File ""/home/surchs/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/matplotlib/pylab.py"", line 274, in <module>
    from matplotlib.pyplot import *
  File ""/home/surchs/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/matplotlib/pyplot.py"", line 109, in <module>
    _backend_mod, new_figure_manager, draw_if_interactive, _show = pylab_setup()
  File ""/home/surchs/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/matplotlib/backends/__init__.py"", line 32, in pylab_setup
    globals(),locals(),[backend_name],0)
  File ""/home/surchs/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/matplotlib/backends/backend_wxagg.py"", line 10, in <module>
    from . import backend_wx    # already uses wxversion.ensureMinimal('2.8')
  File ""/home/surchs/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/matplotlib/backends/backend_wx.py"", line 76, in <module>
    raise ImportError(missingwx)
ImportError: Matplotlib backend_wx and backend_wxagg require wxPython >=2.8
```
",,,ye definit someth wrong,N,2015-03-28 01:26:05
5,issue_comment,525,nilearn,nilearn,AlexandreAbraham,2015-03-28 01:26:05,"This is very weird... Does pylab in Canopy uses wxagg backend by default? @lesteve @GaelVaroquaux, we may have to add a canopy build in Travis if they have a special default matplotlib configuration.
",,,thi weird doe pylab canopi use wxagg backend default lestev gaelvaroquaux may add canopi build travi special default matplotlib configur,Y,2015-03-29 03:46:39
6,issue_comment,525,nilearn,nilearn,surchs,2015-03-29 03:46:39,"I don't know but I found [this thing](https://support.enthought.com/hc/en-us/articles/204469930-wxPython-2-8-and-2-9) which seems to adress my specific issue. I will see if that fixes it.
",,,I dont know I found thing seem adress specif issu I see fix,N,2015-03-29 04:01:15
7,issue_comment,525,nilearn,nilearn,surchs,2015-03-29 04:01:15,"Ok, I imagine this is what you referred to but [changing my default backend to qt](http://matplotlib.org/users/customizing.html#matplotlibrc-sample) fixed my problem - it seems that there are some issues with wxpython and Canopy.
",,,Ok I imagin refer chang default backend qt fix problem seem issu wxpython canopi,N,2015-03-29 19:02:21
1,issue_title,454,nilearn,nilearn,banilo,2015-02-22 20:38:14,"tries to fix #379 

It's a quick fix for now that handles 0 to positive valued colorbars. Do we want more than that?
",start issue,glass_brain: fix colorbar,tri fix 379 it quick fix handl 0 posit valu colorbar Do want,N,2015-02-27 13:18:20
2,issue_closed,454,nilearn,nilearn,lesteve,2015-02-27 13:18:20,,closed issue,glass_brain: fix colorbar,,N,2015-02-22 20:38:14
3,pull_request_title,454,nilearn,nilearn,banilo,2015-02-22 20:38:14,"tries to fix #379 

It's a quick fix for now that handles 0 to positive valued colorbars. Do we want more than that?
",a1b651f0082510b19b8b301339a2308fce34cfde,glass_brain: fix colorbar,tri fix 379 it quick fix handl 0 posit valu colorbar Do want,N,2015-02-27 13:18:20
4,pull_request_merged,454,nilearn,nilearn,lesteve,2015-02-27 13:18:20,glass_brain: fix colorbar,8c0a7cd0747b17ce5304f81b9ccd084099778fba,Pull request merge from banilo/nilearn:cb_fix to nilearn/nilearn:master,glassbrain fix colorbar,N,2015-02-23 10:22:40
5,issue_comment,454,nilearn,nilearn,banilo,2015-02-23 10:22:40,"Cleanups done!
",,,cleanup done,N,2015-02-24 12:45:07
6,issue_comment,454,nilearn,nilearn,lesteve,2015-02-24 12:45:07,"@banilo you have some tests failures that seem genuine.
",,,banilo test failur seem genuin,Y,2015-02-27 09:05:39
7,issue_comment,454,nilearn,nilearn,lesteve,2015-02-27 09:05:39,"Add a test for plot_glass_brain with colorbar=True and squash your commits and this will be good to go. 
",,,add test plotglassbrain colorbartru squash commit good go,Y,2015-02-27 12:13:23
8,issue_comment,454,nilearn,nilearn,banilo,2015-02-27 12:13:23,"> Add a test for plot_glass_brain with colorbar=True and squash your commits and this will be good to go.

done.
",,,done,N,2015-02-27 13:18:22
9,issue_comment,454,nilearn,nilearn,lesteve,2015-02-27 13:18:22,"Thanks!
",,,thank,N,2015-02-22 20:49:54
10,pull_request_commit_comment,454,nilearn,nilearn,AlexandreAbraham,2015-02-22 20:49:54,":-1: 
",a1b651f0082510b19b8b301339a2308fce34cfde,"(None, '', u'nilearn/plotting/displays.py')",1,N,2015-02-22 20:54:50
11,pull_request_commit_comment,454,nilearn,nilearn,AlexandreAbraham,2015-02-22 20:54:50,"If it's just for computing the max, you don't need to unmask. If you really want to get the non-masked values, use `stat_map_data.compressed()`
",a1b651f0082510b19b8b301339a2308fce34cfde,"(None, '', u'nilearn/plotting/img_plotting.py')",If comput max dont need unmask If realli want get nonmask valu use,N,2015-02-27 11:34:55
12,pull_request_commit,454,nilearn,nilearn,banilo,2015-02-27 11:34:55,glass_brain: colorbar-fix,0356a7e71c5a6c84c12b0d9ec7a1e74f1a1dfbce,,glassbrain colorbarfix,N,2015-02-27 12:57:02
1,issue_title,505,nilearn,nilearn,AlexandreAbraham,2015-03-18 15:19:31,"This PR restore the original behavior of check_niimg and check_niimgs:
- check_niimg loads 3D niimages
- check_niimgs loads 4D niimages

This is a first step toward cleaner file loading in nilearn.
",start issue,Refactor check niimg ,thi PR restor origin behavior checkniimg checkniimg checkniimg load 3D niimag checkniimg load 4D niimag thi first step toward cleaner file load nilearn,N,2015-03-27 08:47:35
2,issue_closed,505,nilearn,nilearn,lesteve,2015-03-27 08:47:35,,closed issue,Refactor check niimg ,,N,2015-03-18 15:19:31
3,pull_request_title,505,nilearn,nilearn,AlexandreAbraham,2015-03-18 15:19:31,"This PR restore the original behavior of check_niimg and check_niimgs:
- check_niimg loads 3D niimages
- check_niimgs loads 4D niimages

This is a first step toward cleaner file loading in nilearn.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,Refactor check niimg ,thi PR restor origin behavior checkniimg checkniimg checkniimg load 3D niimag checkniimg load 4D niimag thi first step toward cleaner file load nilearn,N,2015-03-27 08:47:35
4,pull_request_merged,505,nilearn,nilearn,lesteve,2015-03-27 08:47:35,Refactor check niimg ,ae96660a476c2c987d556f43f803bfd1bf031fc3,Pull request merge from AlexandreAbraham/nilearn:refactor_check_niimg_ to nilearn/nilearn:master,refactor check niimg,N,2015-03-19 17:31:19
5,issue_comment,505,nilearn,nilearn,GaelVaroquaux,2015-03-19 17:31:19,">   • 5D images or 4D masks are NOT accepted anymore (they were valid in a few
>     functions)

That may be a problem: these things do lie around.

>   • concat_niimgs is a weird thing that accepts mix of 3D and 4D images. It
>     shouldn't do that.

Why?
",,,that may problem thing lie around whi,N,2015-03-19 17:36:24
6,issue_comment,505,nilearn,nilearn,GaelVaroquaux,2015-03-19 17:36:24,"> ```
> That may be a problem: these things do lie around.
> ```
> 
> I see no reason to support them in only two functions (reorder_img and
> unmask). we should support them completely, or not at all.

Just saying. Users of AFNI will be in big trouble.

> ```
> Why?
> ```
> 
> For me, trying to concatenate a 4D image with a 3D image is most likely an
> error than a wanted behavior.

Agreed. So we should rather test for consistency in the number of
dimensions.
",,,just say user afni big troubl agre So rather test consist number dimens,Y,2015-03-19 17:45:15
7,issue_comment,505,nilearn,nilearn,GaelVaroquaux,2015-03-19 17:45:15,"> ```
> Just saying. Users of AFNI will be in big trouble.
> ```
> 
> They already are.

OK, let's postpone saving them, then.
",,,OK let postpon save,N,2015-03-19 07:32:26
8,issue_comment,505,nilearn,nilearn,lesteve,2015-03-19 07:32:26,"Plenty of failing tests in case you missed it somehow.
",,,plenti fail test case miss somehow,Y,2015-03-19 08:24:31
9,issue_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 08:24:31,"It's WIP at the moment. It's far from being usable.
",,,it wip moment it far usabl,N,2015-03-19 12:10:28
10,issue_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 12:10:28,"So, I fixed the failing tests during lunch.

About the changes:
- 5D images or 4D masks are NOT accepted anymore (they were valid in a few functions)
- loading of 3D or 4D niimg is now explicit. A generic `check_niimg` exists (for 3D or 4D) is however present for explicit polymorphic functions (eg smooth_img)
- A lot of tests were totally wrong in their logic. We have to be more careful about what we test

I suggest that we merge the PR as-is.

Future work:
- `concat_niimgs` is a weird thing that accepts mix of 3D and 4D images. It shouldn't do that.
- Functions to load / iterate on list of niimg would be nice. For example `check_niimgs_3d` and `check_niimgs_4d` with optional parameters to check affines and stuff.
- This PR is only about clarifying difference between 3D and 4D as it was at the beginning (with niimg and niimgs). It does not fix #463 but it should fix #501.

I wanted to throw out this code that was in a branch for a very long time but i have no time to work on the other issues.
",,,So I fix fail test lunch about chang 5D imag 4D mask not accept anymor valid function load 3D 4D niimg explicit A gener exist 3D 4D howev present explicit polymorph function eg smoothimg A lot test total wrong logic We care test I suggest merg PR asi futur work weird thing accept mix 3D 4D imag It shouldnt function load iter list niimg would nice for exampl option paramet check affin stuff thi PR clarifi differ 3D 4D begin niimg niimg It fix 463 fix 501 I want throw code branch long time time work issu,Y,2015-03-19 17:35:15
11,issue_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 17:35:15,"> That may be a problem: these things do lie around.

I see no reason to support them in only two functions (reorder_img and unmask). we should support them completely, or not at all.

> Why?

For me, trying to concatenate a 4D image with a 3D image is most likely an error than a wanted behavior.
",,,I see reason support two function reorderimg unmask support complet for tri concaten 4D imag 3D imag like error want behavior,N,2015-03-19 17:44:26
12,issue_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 17:44:26,"> Just saying. Users of AFNI will be in big trouble.

They already are. As said before, I don't really fix bugs nor add any functionality. I just fixed the fact that check_niimg (now check_niimg_3d) only loads 3D images and check_niimgs (now check_niimg_4d) only loads 4D images. It is true that, in the meantime, I removed the ability of some functions to handle 5d data, but NiftiMasker never did for example.

If we want to support 5D images, it is easy to do that in a lot of functions (smooth_img, reorder_img...). It can be done by modifying check_niimg to accept 5d data. Oh, and it may be possible to handle in MultiNiftiMasker rather easily.

Actually, we should grab some AFNI data to test it.
",,,they alreadi As said I dont realli fix bug add function I fix fact checkniimg checkniimg3d load 3D imag checkniimg checkniimg4d load 4D imag It true meantim I remov abil function handl 5d data niftimask never exampl If want support 5D imag easi lot function smoothimg reorderimg It done modifi checkniimg accept 5d data Oh may possibl handl multiniftimask rather easili actual grab afni data test,Y,2015-03-18 15:33:36
13,pull_request_commit_comment,505,nilearn,nilearn,lesteve,2015-03-18 15:33:36,":question: 
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",question,N,2015-03-18 16:05:50
14,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-18 16:05:50,":swimmer: WIP
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",swimmer wip,N,2015-03-18 16:29:11
15,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-18 16:29:11,"i postponed this change.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",postpon chang,N,2015-03-18 16:31:54
16,pull_request_commit_comment,505,nilearn,nilearn,GaelVaroquaux,2015-03-18 16:31:54,"> i postponed this change.

Then you should remove the corresponding 'stub' function.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",then remov correspond stub function,N,2015-03-19 12:11:02
17,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 12:11:02,"Renamed it because the input is a niimg but the output is an img.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg.py')",renam input niimg output img,N,2015-03-19 12:11:34
18,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 12:11:34,"This function is here to be explicitely used in polymorphic functions.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(39, '', u'nilearn/_utils/niimg_conversions.py')",thi function explicit use polymorph function,N,2015-03-19 12:13:33
19,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 12:13:33,"If somebody asks for an iterator on 4d, this iterator will check for everything during the process. Before that, the code could return niimages with different fov. I like this logic and I think that this could be propagated in other parts of the code.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",If somebodi ask iter 4d iter check everyth process befor code could return niimag differ fov I like logic I think could propag part code,N,2015-03-19 12:15:23
20,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 12:15:23,"For example, this test was passing but it was bogus because it called `filter_and_mask` with regular numpy arrays instead of niimg. This shouldn't even work.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(9, '', u'nilearn/input_data/tests/test_base_masker.py')",for exampl test pass bogu call regular numpi array instead niimg thi shouldnt even work,Y,2015-03-19 12:15:59
21,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 12:15:59,"5D data is not accepted. I think that if we want to accept it, we should do all the proper verifications that comes with it.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(4, '', u'nilearn/tests/test_masking.py')",5D data accept I think want accept proper verif come,N,2015-03-19 13:20:57
22,pull_request_commit_comment,505,nilearn,nilearn,lesteve,2015-03-19 13:20:57,"What if niimgs is an iterator (which seems to be a possibility if you trust the docstring)?

IMHO the current code in master is badly broken with iterators and I would suggest that we only support lists until we have proper tests for iterators.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",what niimg iter seem possibl trust docstr imho current code master badli broken iter I would suggest support list proper test iter,Y,2015-03-19 13:32:22
23,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 13:32:22,"This may be a regression so I fixed (it was easy). As said in my comment, I don't make the code iterator friendly. This is a lot of work and I have no time to do it. Plus I prefer to segment things in smaller PRs.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",thi may regress I fix easi As said comment I dont make code iter friendli thi lot work I time plu I prefer segment thing smaller pr,N,2015-03-19 13:44:06
24,pull_request_commit_comment,505,nilearn,nilearn,lesteve,2015-03-19 13:44:06,"but then I guess the argument should be called `niimg` too ...
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg.py')",I guess argument call,N,2015-03-19 13:50:06
25,pull_request_commit_comment,505,nilearn,nilearn,lesteve,2015-03-19 13:50:06,"This kind of thing will lose information about the provenance of the error which is very annoying if you are dropping into a debugger. Look at `git grep exc.args +=` for example in our code of how to decorate an existing exception.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",thi kind thing lose inform proven error annoy drop debugg look exampl code decor exist except,N,2015-03-19 13:52:33
26,pull_request_commit_comment,505,nilearn,nilearn,lesteve,2015-03-19 13:52:33,"I am so glad to see this slightly baroque code go away ;-)
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(294, '', u'nilearn/_utils/niimg_conversions.py')",I glad see slightli baroqu code go away,N,2015-03-19 14:03:59
27,pull_request_commit_comment,505,nilearn,nilearn,lesteve,2015-03-19 14:03:59,"Slightly weird sentence, maybe:

``` python
"""""" Return whether `img` has the same field of view as the one given by `shape` and `affine`
""""""
```

At the very least img1 -> img.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",slightli weird sentenc mayb At least img1,N,2015-03-19 14:07:20
28,pull_request_commit_comment,505,nilearn,nilearn,lesteve,2015-03-19 14:07:20,"maybe ValueError rather than TypeError, since an empty list still has the right type ?
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(161, '', u'nilearn/_utils/niimg_conversions.py')",mayb valueerror rather typeerror sinc empti list still right type,N,2015-03-19 14:30:41
29,pull_request_commit_comment,505,nilearn,nilearn,lesteve,2015-03-19 14:30:41,"This is not really consistent with the docstring that says that niimgs can be an iterable ...
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(283, '', u'nilearn/_utils/niimg_conversions.py')",thi realli consist docstr say niimg iter,N,2015-03-19 14:58:05
30,pull_request_commit_comment,505,nilearn,nilearn,lesteve,2015-03-19 14:58:05,"Should we use 4D Niimg-like object as previously?
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",should use 4D niimglik object previous,N,2015-03-19 15:00:27
31,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 15:00:27,"I kept the original behavior (this was checked higher in the stack before) but I agree with you. Maybe we can change that in another PR as I want this one to have the lowest impact possible on the logic of the code.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(161, '', u'nilearn/_utils/niimg_conversions.py')",I kept origin behavior check higher stack I agre mayb chang anoth PR I want one lowest impact possibl logic code,N,2015-03-19 15:03:02
32,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 15:03:02,"I didn't put it here but iterator should work if you do `return_iterator=True` (not the other case as `concat_niimgs` is not iterator friendly). But, again, the goal of this PR is not to change the behavior of the code when using iterators. It is exactly as broken as before ;)
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(283, '', u'nilearn/_utils/niimg_conversions.py')",I didnt put iter work case iter friendli but goal PR chang behavior code use iter It exactli broken,N,2015-03-19 17:32:04
33,pull_request_commit_comment,505,nilearn,nilearn,GaelVaroquaux,2015-03-19 17:32:04,"> Renamed it because the input is a niimg but the output is an img.

I am not sure that this is consistent with our naming conventions, and
'smooth_img'.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg.py')",I sure consist name convent smoothimg,N,2015-03-19 17:32:54
34,pull_request_commit_comment,505,nilearn,nilearn,GaelVaroquaux,2015-03-19 17:32:54,"> For example, this test was passing but it was bogus because it called
> filter_and_mask with regular numpy arrays instead of niimg. This
> shouldn't even work.

Agreed
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(9, '', u'nilearn/input_data/tests/test_base_masker.py')",agre,N,2015-03-19 17:33:24
35,pull_request_commit_comment,505,nilearn,nilearn,GaelVaroquaux,2015-03-19 17:33:24,"> IMHO the current code in master is badly broken with iterators and I would
> suggest that we only support lists until we have proper tests for iterators.

Agreed.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",agre,N,2015-03-19 19:49:59
36,pull_request_commit_comment,505,nilearn,nilearn,banilo,2015-03-19 19:49:59,"I am not sure that ""atleast_4d"" is intuitively understood by many users.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(39, '', u'nilearn/_utils/niimg_conversions.py')",I sure atleast4d intuit understood mani user,N,2015-03-19 19:54:17
37,pull_request_commit_comment,505,nilearn,nilearn,GaelVaroquaux,2015-03-19 19:54:17,"> I am not sure that ""atleast_4d"" is intuitively understood by many users.

But that's internal. And it corresponds to a numpy convention.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(39, '', u'nilearn/_utils/niimg_conversions.py')",but that intern and correspond numpi convent,N,2015-03-19 19:55:55
38,pull_request_commit_comment,505,nilearn,nilearn,banilo,2015-03-19 19:55:55,"Shouldn't we say ""iterable"" instead? A list also exposes the **iter** attribute for example.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(65, '', u'nilearn/_utils/niimg_conversions.py')",shouldnt say iter instead A list also expos iter attribut exampl,N,2015-03-19 19:56:59
39,pull_request_commit_comment,505,nilearn,nilearn,banilo,2015-03-19 19:56:59,"Tautological definitions are by definition not a definition.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",tautolog definit definit definit,N,2015-03-19 19:58:30
40,pull_request_commit_comment,505,nilearn,nilearn,banilo,2015-03-19 19:58:30,"Given the internationality of user pool, perhaps exchange idempotentn by something simpler - ""identical""
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(128, '', u'nilearn/_utils/niimg_conversions.py')",given internation user pool perhap exchang idempotentn someth simpler ident,N,2015-03-19 20:00:50
41,pull_request_commit_comment,505,nilearn,nilearn,banilo,2015-03-19 20:00:50,"You start out by explaining the default behavior - I would inverse that.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",you start explain default behavior I would invers,N,2015-03-19 20:01:36
42,pull_request_commit_comment,505,nilearn,nilearn,eickenberg,2015-03-19 20:01:36,"how is `idempotent` not international??

it doesn't mean ""identical"". It means that if you apply it n times, where n

> = 1, it is like applying it once.

On Thu, Mar 19, 2015 at 8:58 PM, Danilo Bzdok notifications@github.com
wrote:

> In nilearn/_utils/niimg_conversions.py
> https://github.com/nilearn/nilearn/pull/505#discussion_r26791583:
> 
> > -        and get_affine() methods are present, raise TypeError otherwise.
> >   +
> > -    Returns
> > -    -------
> > -    result: 3D Niimg-like object
> > -        Result can be nibabel.Nifti1Image or the input, as-is. It is guaranteed
> > -        that the returned object has get_data() and get_affine() methods.
> >   +
> > -    Notes
> > -    -----
> > -    In nilearn, special care has been taken to make image manipulation easy.
> > -    This method is a kind of pre-requisite for any data processing method in
> > -    nilearn because it checks if data have a correct format and loads them if
> > -    necessary.
> >   +
> > -    Its application is idempotent.
> 
> Given the internationality of user pool, perhaps exchange idempotentn by
> something simpler - ""identical""
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/505/files#r26791583.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(128, '', u'nilearn/_utils/niimg_conversions.py')",intern doesnt mean ident It mean appli n time n On thu mar 19 2015 858 PM danilo bzdok notificationsgithubcom wrote,N,2015-03-19 20:02:18
43,pull_request_commit_comment,505,nilearn,nilearn,banilo,2015-03-19 20:02:18,"Why a tuple?
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",whi tupl,N,2015-03-19 20:03:00
44,pull_request_commit_comment,505,nilearn,nilearn,banilo,2015-03-19 20:03:00,"also tautological -> therefore devoid of sense
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(341, '', u'nilearn/_utils/niimg_conversions.py')",also tautolog,N,2015-03-19 20:06:09
45,pull_request_commit_comment,505,nilearn,nilearn,banilo,2015-03-19 20:06:09,"You tought me a new thing in coding lingo, thanks.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(16, '', u'nilearn/image/resampling.py')",you tought new thing code lingo thank,N,2015-03-19 21:01:29
46,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 21:01:29,"Fixed.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",fix,N,2015-03-19 21:02:35
47,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 21:02:35,"Not the slightest idea ;). I copy pasted another error message but tuples for single string replacement are all around the code.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",not slightest idea I copi past anoth error messag tupl singl string replac around code,N,2015-03-19 21:03:19
48,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 21:03:19,"why?
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(341, '', u'nilearn/_utils/niimg_conversions.py')",,N,2015-03-19 21:03:44
49,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 21:03:44,"You're welcome.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(16, '', u'nilearn/image/resampling.py')",your welcom,N,2015-03-19 22:05:35
50,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 22:05:35,"Fixed
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",fix,N,2015-03-19 22:05:49
51,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 22:05:49,"Fixed
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(65, '', u'nilearn/_utils/niimg_conversions.py')",fix,N,2015-03-19 22:06:20
52,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 22:06:20,"A fix has been applied to fix what should be fixed.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",A fix appli fix fix,N,2015-03-19 22:07:13
53,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 22:07:13,"We could write ""Project a niimg in the space of imgs"".
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(128, '', u'nilearn/_utils/niimg_conversions.py')",We could write project niimg space img,N,2015-03-19 22:11:35
54,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 22:11:35,"Fixed.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",fix,N,2015-03-19 22:14:08
55,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 22:14:08,":rage2: I will be back
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(294, '', u'nilearn/_utils/niimg_conversions.py')",rage2 I back,N,2015-03-19 22:17:06
56,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 22:17:06,"Fixed.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",fix,N,2015-03-26 10:23:44
57,pull_request_commit_comment,505,nilearn,nilearn,lesteve,2015-03-26 10:23:44,"Should you not check `!= 4` rather than `== 3` ?
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",should check rather,N,2015-03-26 10:24:54
58,pull_request_commit_comment,505,nilearn,nilearn,lesteve,2015-03-26 10:24:54,"Is this check_niimg needed given that `niimgs` has already been loaded ?
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",Is checkniimg need given alreadi load,N,2015-03-26 10:29:59
59,pull_request_commit_comment,505,nilearn,nilearn,lesteve,2015-03-26 10:29:59,"You probably forgot a raise after this line to reraise the original exception ...
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",you probabl forgot rais line rerais origin except,N,2015-03-26 10:31:14
60,pull_request_commit_comment,505,nilearn,nilearn,lesteve,2015-03-26 10:31:14,"and you don't need exc.message because it is already part of the stack trace.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",dont need excmessag alreadi part stack trace,N,2015-03-26 11:49:35
61,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-26 11:49:35,"Fixed
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",fix,N,2015-03-26 11:49:57
62,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-26 11:49:57,"Fixed
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",fix,N,2015-03-26 11:52:04
63,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-26 11:52:04,"Fixed
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",fix,N,2015-03-26 12:07:25
64,pull_request_commit_comment,505,nilearn,nilearn,lesteve,2015-03-26 12:07:25,"I guess this should be `niimg` and the type description should be Niimg-like object + URL
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(17, '', u'nilearn/_utils/niimg.py')",I guess type descript niimglik object url,N,2015-03-26 12:12:06
65,pull_request_commit_comment,505,nilearn,nilearn,lesteve,2015-03-26 12:12:06,"I am a bit wary that this wasn't caught by our tests. Could you add a test where the check_niimg_3d raises a TypeError ? Bonus point if you add one where the field of view is different.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(None, '', u'nilearn/_utils/niimg_conversions.py')",I bit wari wasnt caught test could add test checkniimg3d rais typeerror bonu point add one field view differ,Y,2015-03-26 12:38:56
66,pull_request_commit_comment,505,nilearn,nilearn,AlexandreAbraham,2015-03-26 12:38:56,"For me, Niimg-like object includes filename.
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(17, '', u'nilearn/_utils/niimg.py')",for niimglik object includ filenam,N,2015-03-26 12:43:42
67,pull_request_commit_comment,505,nilearn,nilearn,lesteve,2015-03-26 12:43:42,"Sorry I misread the diff completely but then a few lines above ""or filepath"" is not needed, right ?
",7dcc860538d6ff20ca74c00e5b24eeebab032cd4,"(17, '', u'nilearn/_utils/niimg.py')",sorri I misread diff complet line filepath need right,N,2015-03-03 13:46:25
68,pull_request_commit,505,nilearn,nilearn,AlexandreAbraham,2015-03-03 13:46:25,"Refactor check_niimg to load 3D images only.

Conflicts:
	nilearn/_utils/niimg_conversions.py",1ce01a886c99a8643438ebf9f09df7ae631bd1dc,,refactor checkniimg load 3D imag conflict nilearnutilsniimgconversionspi,N,2015-03-03 15:48:30
69,pull_request_commit,505,nilearn,nilearn,AlexandreAbraham,2015-03-03 15:48:30,"First step: simplification of check_niimgs code

Conflicts:
	nilearn/_utils/niimg_conversions.py",4faddb350734f0e96c1fb490badea4f1bd1bb248,,first step simplif checkniimg code conflict nilearnutilsniimgconversionspi,N,2015-03-03 23:18:09
70,pull_request_commit,505,nilearn,nilearn,AlexandreAbraham,2015-03-03 23:18:09,"Refactor check_niimg and propagate

Conflicts:
	nilearn/_utils/niimg_conversions.py
	nilearn/image/tests/test_image.py
	nilearn/input_data/nifti_masker.py
	nilearn/input_data/tests/test_base_masker.py
	nilearn/region.py
	nilearn/tests/test_niimg_conversions.py",edf35044941c8e23f534c9804134c69cb73edb17,,refactor checkniimg propag conflict nilearnutilsniimgconversionspi nilearnimageteststestimagepi nilearninputdataniftimaskerpi nilearninputdatateststestbasemaskerpi nilearnregionpi nilearnteststestniimgconversionspi,N,2015-03-18 16:28:40
71,pull_request_commit,505,nilearn,nilearn,AlexandreAbraham,2015-03-18 16:28:40,Postpone refactoring of concat_niimgs,e66bd0c61de62235ba00931d4c6fa75219294c42,,postpon refactor concatniimg,N,2015-03-19 11:56:59
72,pull_request_commit,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 11:56:59,Fix tests,1856cc44bca2c8f1b583950d0ee7c63c69033c66,,fix test,N,2015-03-19 12:35:28
73,pull_request_commit,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 12:35:28,Fix Python3 compatibility,59b6287e2997b6dda47d6dd5fde4a5f7c5fe5f7c,,fix python3 compat,N,2015-03-19 13:30:03
74,pull_request_commit,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 13:30:03,Fix iterator error,12646d87b80ffcc96f584b0d956e4d93a7620c2d,,fix iter error,N,2015-03-19 13:48:42
75,pull_request_commit,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 13:48:42,Loic prefers niimg and lesteve is absolute,405ae836a33ffef8b4fcd5d6274099e4ca4a62d0,,loic prefer niimg lestev absolut,N,2015-03-19 22:23:45
76,pull_request_commit,505,nilearn,nilearn,AlexandreAbraham,2015-03-19 22:23:45,Address comments,b1109eb87862ac8dc45e1b2ee12e5b59afe2195a,,address comment,N,2015-03-26 09:57:12
77,pull_request_commit,505,nilearn,nilearn,AlexandreAbraham,2015-03-26 09:57:12,Fix small rebase conflict,6258cb79c79e472020250c00f435eec76b571225,,fix small rebas conflict,N,2015-03-26 11:53:32
78,pull_request_commit,505,nilearn,nilearn,AlexandreAbraham,2015-03-26 11:53:32,Address Loic's comments.,6730096341ad854d3c7a6c15a0213487383ca5ce,,address loic comment,N,2015-03-26 12:39:30
79,pull_request_commit,505,nilearn,nilearn,AlexandreAbraham,2015-03-26 12:39:30,Docfix,88f61251c70416ea3cfbb7a445820907a7762411,,docfix,N,2015-03-26 12:44:42
80,pull_request_commit,505,nilearn,nilearn,AlexandreAbraham,2015-03-26 12:44:42,Revert docfix,3b4816ddde3f6f015e662f177f0777aee7c51c87,,revert docfix,N,2015-03-26 21:28:11
81,pull_request_commit,505,nilearn,nilearn,AlexandreAbraham,2015-03-26 21:28:11,Add tests,7dcc860538d6ff20ca74c00e5b24eeebab032cd4,,add test,N,2015-03-27 08:35:49
1,issue_title,464,nilearn,nilearn,bcipolli,2015-02-25 17:08:31,"The colorbar axis code was in some places assuming that the axis size would be [0, 0, 1, 1].  This is not always the case, in particular when using subplots.

I've generalized the code to work for axis sizes in general.  I also abstracted a new variable, `colorbar_margin`, to try and improve code readability.  There was also code in there to control the tick formatting, that wasn't working properly; rather than remove it, I fixed it to work.
## Old Image (single)

![figure_1](https://cloud.githubusercontent.com/assets/4072455/6375552/a4e00010-bccc-11e4-9a82-6dbca0bb6488.png)
## New Image (single)

![new_figure_1](https://cloud.githubusercontent.com/assets/4072455/6375562/b8c260d2-bccc-11e4-8584-dca13556e991.png)
## Old Image (1x3 grid)

![figure_2](https://cloud.githubusercontent.com/assets/4072455/6375553/a4e601ae-bccc-11e4-9c39-44bfb79b5876.png)
## New Image (1x3 grid)

![new_figure_2](https://cloud.githubusercontent.com/assets/4072455/6375564/ba3293ec-bccc-11e4-8a9f-35e60600c6ce.png)
## Old Image (4x4 grid)

![screen shot 2015-02-25 at 8 35 35 am](https://cloud.githubusercontent.com/assets/4072455/6375556/a98160be-bccc-11e4-9290-a7be93c4f12d.png)
## New Image (4x4 grid)

![new_figure_3](https://cloud.githubusercontent.com/assets/4072455/6375578/cbafd698-bccc-11e4-9386-2d834151bc9e.png)
## This also works fine for code without color bars:

![new_figure_4](https://cloud.githubusercontent.com/assets/4072455/6375692/9ab8e6fa-bccd-11e4-8343-0d7882ff3ea6.png)
## And for 'ortho' plots:

![new_figure_5](https://cloud.githubusercontent.com/assets/4072455/6375693/9abc86d4-bccd-11e4-907c-a60b5f90b426.png)

Code for producing these images, in case you'd like to test:

``` python
import matplotlib.pyplot as plt

from nilearn import datasets
from nilearn.plotting import plot_stat_map, plot_glass_brain
from nilearn.image import index_img, iter_img

msdl_atlas_dataset = datasets.fetch_msdl_atlas()
maps_img = msdl_atlas_dataset.maps

# Just a single plot
plot_stat_map(index_img(maps_img, 0), display_mode='z', cut_coords=1)

# Row of subplots
fh = plt.figure()
for pi, img in enumerate(iter_img(index_img(maps_img, slice(None, 3)))):
    ax = fh.add_subplot(1, 3, pi + 1)
    plot_stat_map(img, axes=ax, display_mode='z', cut_coords=1)

# Grid of subplots
fh = plt.figure()
for pi, img in enumerate(iter_img(index_img(maps_img, slice(None, 16)))):
    ax = fh.add_subplot(4, 4, pi + 1)
    plot_stat_map(img, axes=ax, display_mode='z', cut_coords=1)

# No colorbars:
plot_glass_brain(index_img(maps_img, 0))

# Just a single plot
plot_stat_map(index_img(maps_img, 0))

plt.show()
```
",start issue,Generalize colorbar axis computations for different input axis sizes,the colorbar axi code place assum axi size would 0 0 1 1 thi alway case particular use subplot ive gener code work axi size gener I also abstract new variabl tri improv code readabl there also code control tick format wasnt work properli rather remov I fix work old imag singl figure1 new imag singl newfigure1 old imag 1x3 grid figure2 new imag 1x3 grid newfigure2 old imag 4x4 grid screen shot 20150225 8 35 35 new imag 4x4 grid newfigure3 thi also work fine code without color bar newfigure4 and ortho plot newfigure5 code produc imag case youd like test,N,2015-03-17 10:29:58
2,issue_closed,464,nilearn,nilearn,AlexandreAbraham,2015-03-17 10:29:58,,closed issue,Generalize colorbar axis computations for different input axis sizes,,N,2015-02-25 17:08:31
3,pull_request_title,464,nilearn,nilearn,bcipolli,2015-02-25 17:08:31,"The colorbar axis code was in some places assuming that the axis size would be [0, 0, 1, 1].  This is not always the case, in particular when using subplots.

I've generalized the code to work for axis sizes in general.  I also abstracted a new variable, `colorbar_margin`, to try and improve code readability.  There was also code in there to control the tick formatting, that wasn't working properly; rather than remove it, I fixed it to work.
## Old Image (single)

![figure_1](https://cloud.githubusercontent.com/assets/4072455/6375552/a4e00010-bccc-11e4-9a82-6dbca0bb6488.png)
## New Image (single)

![new_figure_1](https://cloud.githubusercontent.com/assets/4072455/6375562/b8c260d2-bccc-11e4-8584-dca13556e991.png)
## Old Image (1x3 grid)

![figure_2](https://cloud.githubusercontent.com/assets/4072455/6375553/a4e601ae-bccc-11e4-9c39-44bfb79b5876.png)
## New Image (1x3 grid)

![new_figure_2](https://cloud.githubusercontent.com/assets/4072455/6375564/ba3293ec-bccc-11e4-8a9f-35e60600c6ce.png)
## Old Image (4x4 grid)

![screen shot 2015-02-25 at 8 35 35 am](https://cloud.githubusercontent.com/assets/4072455/6375556/a98160be-bccc-11e4-9290-a7be93c4f12d.png)
## New Image (4x4 grid)

![new_figure_3](https://cloud.githubusercontent.com/assets/4072455/6375578/cbafd698-bccc-11e4-9386-2d834151bc9e.png)
## This also works fine for code without color bars:

![new_figure_4](https://cloud.githubusercontent.com/assets/4072455/6375692/9ab8e6fa-bccd-11e4-8343-0d7882ff3ea6.png)
## And for 'ortho' plots:

![new_figure_5](https://cloud.githubusercontent.com/assets/4072455/6375693/9abc86d4-bccd-11e4-907c-a60b5f90b426.png)

Code for producing these images, in case you'd like to test:

``` python
import matplotlib.pyplot as plt

from nilearn import datasets
from nilearn.plotting import plot_stat_map, plot_glass_brain
from nilearn.image import index_img, iter_img

msdl_atlas_dataset = datasets.fetch_msdl_atlas()
maps_img = msdl_atlas_dataset.maps

# Just a single plot
plot_stat_map(index_img(maps_img, 0), display_mode='z', cut_coords=1)

# Row of subplots
fh = plt.figure()
for pi, img in enumerate(iter_img(index_img(maps_img, slice(None, 3)))):
    ax = fh.add_subplot(1, 3, pi + 1)
    plot_stat_map(img, axes=ax, display_mode='z', cut_coords=1)

# Grid of subplots
fh = plt.figure()
for pi, img in enumerate(iter_img(index_img(maps_img, slice(None, 16)))):
    ax = fh.add_subplot(4, 4, pi + 1)
    plot_stat_map(img, axes=ax, display_mode='z', cut_coords=1)

# No colorbars:
plot_glass_brain(index_img(maps_img, 0))

# Just a single plot
plot_stat_map(index_img(maps_img, 0))

plt.show()
```
",e48569474292b89bf0f067bd9822132d06afede7,Generalize colorbar axis computations for different input axis sizes,the colorbar axi code place assum axi size would 0 0 1 1 thi alway case particular use subplot ive gener code work axi size gener I also abstract new variabl tri improv code readabl there also code control tick format wasnt work properli rather remov I fix work old imag singl figure1 new imag singl newfigure1 old imag 1x3 grid figure2 new imag 1x3 grid newfigure2 old imag 4x4 grid screen shot 20150225 8 35 35 new imag 4x4 grid newfigure3 thi also work fine code without color bar newfigure4 and ortho plot newfigure5 code produc imag case youd like test,N,2015-03-17 10:29:58
4,pull_request_merged,464,nilearn,nilearn,AlexandreAbraham,2015-03-17 10:29:58,Generalize colorbar axis computations for different input axis sizes,97e139a52273f40c896e0e716f14016202e524fc,Pull request merge from bcipolli/nilearn:issue-461 to nilearn/nilearn:master,gener colorbar axi comput differ input axi size,N,2015-03-01 22:53:44
5,issue_comment,464,nilearn,nilearn,bthirion,2015-03-01 22:53:44,"LGTM overall.
",,,lgtm overal,N,2015-03-06 13:16:37
6,issue_comment,464,nilearn,nilearn,bcipolli,2015-03-06 13:16:37,"Rebased to master to test for Python 3.4 support.
",,,rebas master test python 34 support,Y,2015-03-17 10:30:03
7,issue_comment,464,nilearn,nilearn,AlexandreAbraham,2015-03-17 10:30:03,"Thanks!
",,,thank,N,2015-03-01 22:51:53
8,pull_request_commit_comment,464,nilearn,nilearn,bthirion,2015-03-01 22:51:53,"Note: the _locator method seems very redundant across classes. maybe there will be something to refactor here in a future PR.
",e48569474292b89bf0f067bd9822132d06afede7,"(111, '', u'nilearn/plotting/displays.py')",note locat method seem redund across class mayb someth refactor futur PR,N,2015-02-25 00:46:03
9,pull_request_commit,464,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-25 00:46:03,"Properly resize the colorbar, based on the axis size.",ff0178653d5c0d1e309a6c2e96a5f8b7cf39d865,,properli resiz colorbar base axi size,N,2015-02-25 00:46:34
10,pull_request_commit,464,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-25 00:46:34,Make sure the yticks get updated with the intended format.,2bc3593e632876ee7bf1573aabc7d81e55540b89,,make sure ytick get updat intend format,N,2015-02-25 01:13:46
11,pull_request_commit,464,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-25 01:13:46,Further adjustments by specifying left and right padding to colorbar more clearly.,0a889c5bf2e115e878960e07066f312ed154c6e4,,further adjust specifi left right pad colorbar clearli,N,2015-02-25 16:45:43
12,pull_request_commit,464,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-25 16:45:43,"Generalize code a bit to create a ""colorbar_margin"" variable.",9f54002527c106f5fa9bb947752ca4707eab6a71,,gener code bit creat colorbarmargin variabl,N,2015-02-25 16:56:41
1,issue_title,432,nilearn,nilearn,AlexandreAbraham,2015-02-16 07:48:08,"Fix #384 
",start issue,Absolute import in tests,fix 384,N,2015-02-16 08:35:03
2,issue_closed,432,nilearn,nilearn,lesteve,2015-02-16 08:35:03,,closed issue,Absolute import in tests,,N,2015-02-16 07:48:08
3,pull_request_title,432,nilearn,nilearn,AlexandreAbraham,2015-02-16 07:48:08,"Fix #384 
",2607ea263eef692c270655214867b1a9591a15ec,Absolute import in tests,fix 384,N,2015-02-16 08:35:03
4,pull_request_merged,432,nilearn,nilearn,lesteve,2015-02-16 08:35:03,Absolute import in tests,3a1764ba71ea50928256973c34d567e0964b0b27,Pull request merge from AlexandreAbraham/nilearn:absolute_import_in_tests to nilearn/nilearn:master,absolut import test,N,2015-02-16 08:00:06
5,issue_comment,432,nilearn,nilearn,lesteve,2015-02-16 08:00:06,"Thanks for tackling this, you have some test failures though.

Also there are still some relative imports in some tests `__init__.py`. I'd be curious to know why these `__init__.py` are not empty by the way ...

`git grep -n -P '^from \.' -- 'nilearn/*test*.py'`

```
nilearn/decoding/tests/__init__.py:1:from . import test_searchlight
nilearn/tests/__init__.py:5:from . import test_class_inspect
nilearn/tests/__init__.py:6:from . import test_masking
nilearn/tests/__init__.py:7:from . import test_numpy_conversions
nilearn/tests/__init__.py:8:from . import test_datasets
nilearn/tests/__init__.py:9:from . import test_ndimage
nilearn/tests/__init__.py:10:from . import test_region
nilearn/tests/__init__.py:11:from . import test_group_sparse_covariance
nilearn/tests/__init__.py:12:from . import test_niimg_conversions
nilearn/tests/__init__.py:13:from . import test_logger
nilearn/tests/__init__.py:14:from . import test_signal
```
",,,thank tackl test failur though also still rel import test Id curiou know empti way,Y,2015-02-16 08:35:07
6,issue_comment,432,nilearn,nilearn,lesteve,2015-02-16 08:35:07,"Great stuff, merging.
",,,great stuff merg,N,2015-02-16 07:45:43
7,pull_request_commit,432,nilearn,nilearn,AlexandreAbraham,2015-02-16 07:45:43,Address #384. Also fix some PEP8 errors.,7bd7b34b0fafb86d831dd21cb8d4f2b129cb3d94,,address 384 also fix pep8 error,N,2015-02-16 07:47:23
8,pull_request_commit,432,nilearn,nilearn,AlexandreAbraham,2015-02-16 07:47:23,Fix forgotten import,506beb4207d7aee16978255d5c906efdea643199,,fix forgotten import,N,2015-02-16 08:11:50
9,pull_request_commit,432,nilearn,nilearn,AlexandreAbraham,2015-02-16 08:11:50,Fix failing test,0753436e592648018484728e88a487e41add7601,,fix fail test,N,2015-02-16 08:12:27
1,issue_title,498,nilearn,nilearn,banilo,2015-03-14 18:15:26,"tries to fix #497
",start issue,check_fitted() for 2 maskers,tri fix 497,N,2015-03-17 12:39:38
2,issue_closed,498,nilearn,nilearn,AlexandreAbraham,2015-03-17 12:39:38,,closed issue,check_fitted() for 2 maskers,,N,2015-03-14 18:15:26
3,pull_request_title,498,nilearn,nilearn,banilo,2015-03-14 18:15:26,"tries to fix #497
",085bf4aee5c4aa47679fa3f34e96beaf573459d7,check_fitted() for 2 maskers,tri fix 497,N,2015-03-17 12:39:38
4,pull_request_merged,498,nilearn,nilearn,AlexandreAbraham,2015-03-17 12:39:38,check_fitted() for 2 maskers,90bb92bb22673457750dad8a30030f8dfe32ab83,Pull request merge from banilo/nilearn:maskerfitcheck to nilearn/nilearn:master,checkfit 2 masker,N,2015-03-17 12:24:57
5,issue_comment,498,nilearn,nilearn,banilo,2015-03-17 12:24:57,"Ok, refactor the check_fitted() to BaseMasker. Thanks for the advice. I left the tests in the derived 2 classes, however.
",,,Ok refactor checkfit basemask thank advic I left test deriv 2 class howev,Y,2015-03-17 09:58:56
6,pull_request_commit_comment,498,nilearn,nilearn,AlexandreAbraham,2015-03-17 09:58:56,"As this function is common to {,Multi}NiftiMasker, you should probably put it in BaseMasker to avoid code duplication.
",085bf4aee5c4aa47679fa3f34e96beaf573459d7,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')",As function common multiniftimask probabl put basemask avoid code duplic,N,2015-03-14 18:14:05
7,pull_request_commit,498,nilearn,nilearn,banilo,2015-03-14 18:14:05,check_fitted() for 2 maskers,dd153badf8648ffbb935ebfd7733468a83cc90ad,,checkfit 2 masker,N,2015-03-17 12:23:31
1,issue_title,196,nilearn,nilearn,VirgileFritsch,2014-05-22 12:10:59,"Tadaaaaam... Implementation of Randomized Parcellation Based Inference [1].

Main accomplished tasks:
- Refactoring: move some functions that were common to permuted OLS and RPBI into a utils.py file.
  orthonormalize_design/matrix, f_score computation, ...
  Tests have been changed accordingly.
- Re-introduce GrowableSparseArrays (and corresponding tests).
  They have already been reviewed in a former PR about permuted OLS before they were finally removed.
  Now, we needed to re-introduce them because we need to address the data efficiently, in different 
  manners and for different purposes.
- Introduce some functions to generate/deal with randomized parcellations.
  They could be moved to a more generic module that serves this purpose (creating multiple
  random parcellations, transforming a dataset with all of the built parcellations)
- Examples: the three examples on massively univariate analysis have been duplicated and RPBI is now
  applied. This is a lot of examples, but they will be structured at some point (see issue #195).
  Issue: examples can take up to 30 minutes on a laptop, using one single CPU (see discussion below).

The code for RPBI is optimized but a run of the algorithm remains costly. This is because RPBI requires the computation of many parcellations (97% of the total execution time). Only 3% of the computation time is spent on the permutations, when 10,000 are performed (which is already kind of a lot, but recommended).
Fortunately, both the computation of the parcellation and the statistical inference part can be parallelized.
Therefore, on a 10-core station, the computation time boils down to less than three minutes, which is acceptable. Still, the examples policy requires that n_jobs=1 by default.

[1] Benoit Da Mota et al. Randomized parcellation based inference, NeuroImage, Volume 89, 1 April 2014.
",start issue,NF: Randomized Parcellation Based Inference,tadaaaaam implement random parcel base infer 1 main accomplish task refactor move function common permut ol rpbi utilspi file orthonormalizedesignmatrix fscore comput test chang accordingli reintroduc growablesparsearray correspond test they alreadi review former PR permut ol final remov now need reintroduc need address data effici differ manner differ purpos introduc function generated random parcel they could move gener modul serv purpos creat multipl random parcel transform dataset built parcel exampl three exampl massiv univari analysi duplic rpbi appli thi lot exampl structur point see issu 195 issu exampl take 30 minut laptop use one singl cpu see discuss the code rpbi optim run algorithm remain costli thi rpbi requir comput mani parcel 97 total execut time onli 3 comput time spent permut 10000 perform alreadi kind lot recommend fortun comput parcel statist infer part parallel therefor 10core station comput time boil less three minut accept still exampl polici requir njobs1 default 1 benoit Da mota et al random parcel base infer neuroimag volum 89 1 april 2014,N,2015-02-02 08:16:40
14,issue_comment,196,nilearn,nilearn,AlexandreAbraham,2014-10-31 08:20:35,"@bthirion, if I remember well my discussions with Benoît about this data structure, it is faster to preallocate the memory. I'm sure that he should have some bench results somewhere if you want to convince yourself.
",,,bthirion I rememb well discuss benoît data structur faster prealloc memori Im sure bench result somewher want convinc,N,2015-02-02 08:16:40
3,issue_comment,501,nilearn,nilearn,satra,2015-04-15 14:22:28,"@AlexandreAbraham - sorry for the delay - yes this fixed the issue. i also fixed the source of the issue which was in ANTS-ITK
",,,alexandreabraham sorri delay ye fix issu also fix sourc issu antsitk,N,2015-03-17 16:58:15
8,issue_comment,501,nilearn,nilearn,GaelVaroquaux,2016-08-29 04:51:44,"Yes, this is fixed. I suspect that you are getting a genuine error, due to a mistake that you are doing. For instance, maybe you are not performing 2-class classification with the SVM, but multiclass, and hence getting multiple return weight maps where you expect to be getting only one.
",,,ye fix I suspect get genuin error due mistak for instanc mayb perform 2class classif svm multiclass henc get multipl return weight map expect get one,N,2015-03-17 16:54:02
9,issue_comment,501,nilearn,nilearn,AlexandreAbraham,2015-03-17 16:54:02,"Hi Satra, thanks for your interest in nilearn. Actually, this bug is known and I already prepared a fix. We are in the process of integraring it as it implies some changes in nilearn's core that are not trivial. I'll let you know when it's ready to use!
",,,Hi satra thank interest nilearn actual bug known I alreadi prepar fix We process integrar impli chang nilearn core trivial ill let know readi use,N,2015-03-27 08:50:40
1,issue_title,493,nilearn,nilearn,banilo,2015-03-11 15:17:18,"next piece to fix #337 
",start issue,dataset descriptions2,next piec fix 337,N,2015-03-17 14:25:34
2,issue_closed,493,nilearn,nilearn,AlexandreAbraham,2015-03-17 14:25:34,,closed issue,dataset descriptions2,,N,2015-03-11 15:17:18
3,pull_request_title,493,nilearn,nilearn,banilo,2015-03-11 15:17:18,"next piece to fix #337 
",f3b90db9af4c13bffb4730d4a1622d96c68b2079,dataset descriptions2,next piec fix 337,N,2015-03-17 14:25:34
4,pull_request_merged,493,nilearn,nilearn,AlexandreAbraham,2015-03-17 14:25:34,dataset descriptions2,ffa5225cfc62642318558334bee3b5a1f2356158,Pull request merge from banilo/nilearn:data_descr2 to nilearn/nilearn:master,dataset descriptions2,N,2015-03-11 15:22:15
5,issue_comment,493,nilearn,nilearn,landscape-bot,2015-03-11 15:22:15,"[![Code Health](https://landscape.io/badge/123759/landscape.svg?style=flat)](https://landscape.io/diff/109390)
Repository health decreased by 0.01% when pulling **[f0f6456](https://github.com/banilo/nilearn/commit/f0f6456be99bcb195a0aef2d0b9b9f64c1e3a7ab) on banilo:data_descr2** into **[9c65ff2](https://github.com/nilearn/nilearn/commit/9c65ff27a138bbc9f8de46999baf4a7d19ef1b27) on nilearn:master**.
- [1 new problem was found](https://landscape.io/diff/109390) (including 0 errors and 0 code smells).
- No problems were fixed.
",,,code health repositori health decreas 001 pull f0f6456 banilodatadescr2 9c65ff2 nilearnmast 1 new problem found includ 0 error 0 code smell No problem fix,N,2015-03-12 18:16:53
6,issue_comment,493,nilearn,nilearn,landscape-bot,2015-03-12 18:16:53,"[![Code Health](https://landscape.io/badge/124600/landscape.svg?style=flat)](https://landscape.io/diff/110284)
Repository health decreased by 0.06% when pulling **[55e14b6](https://github.com/banilo/nilearn/commit/55e14b67d1daa669b2581403c6d5f282eff100dc) on banilo:data_descr2** into **[9c65ff2](https://github.com/nilearn/nilearn/commit/9c65ff27a138bbc9f8de46999baf4a7d19ef1b27) on nilearn:master**.
- [1 new problem was found](https://landscape.io/diff/110284) (including 0 errors and 1 code smell).
- No problems were fixed.
",,,code health repositori health decreas 006 pull 55e14b6 banilodatadescr2 9c65ff2 nilearnmast 1 new problem found includ 0 error 1 code smell No problem fix,N,2015-03-13 08:40:39
7,issue_comment,493,nilearn,nilearn,AlexandreAbraham,2015-03-13 08:40:39,"You should fix the error raised by landscape.
",,,you fix error rais landscap,N,2015-03-13 13:49:31
8,issue_comment,493,nilearn,nilearn,landscape-bot,2015-03-13 13:49:31,"[![Code Health](https://landscape.io/badge/125048/landscape.svg?style=flat)](https://landscape.io/diff/110762)
Repository health decreased by 0.06% when pulling **[3e98a94](https://github.com/banilo/nilearn/commit/3e98a94ee0e4b72fe8f6fd228e57a4871b173919) on banilo:data_descr2** into **[9c65ff2](https://github.com/nilearn/nilearn/commit/9c65ff27a138bbc9f8de46999baf4a7d19ef1b27) on nilearn:master**.
- [1 new problem was found](https://landscape.io/diff/110762) (including 0 errors and 1 code smell).
- No problems were fixed.
",,,code health repositori health decreas 006 pull 3e98a94 banilodatadescr2 9c65ff2 nilearnmast 1 new problem found includ 0 error 1 code smell No problem fix,N,2015-03-13 14:22:21
9,issue_comment,493,nilearn,nilearn,landscape-bot,2015-03-13 14:22:21,"[![Code Health](https://landscape.io/badge/125080/landscape.svg?style=flat)](https://landscape.io/diff/110791)
Repository health decreased by 0.07% when pulling **[e32ab15](https://github.com/banilo/nilearn/commit/e32ab15e0b7159231268ec5e04051c8e6aa60394) on banilo:data_descr2** into **[9c65ff2](https://github.com/nilearn/nilearn/commit/9c65ff27a138bbc9f8de46999baf4a7d19ef1b27) on nilearn:master**.
- [2 new problems were found](https://landscape.io/diff/110791) (including 0 errors and 1 code smell).
- No problems were fixed.
",,,code health repositori health decreas 007 pull e32ab15 banilodatadescr2 9c65ff2 nilearnmast 2 new problem found includ 0 error 1 code smell No problem fix,N,2015-03-13 14:37:08
10,issue_comment,493,nilearn,nilearn,banilo,2015-03-13 14:37:08,"Ok, just updated this one!
",,,Ok updat one,N,2015-03-13 14:51:37
11,issue_comment,493,nilearn,nilearn,lesteve,2015-03-13 14:51:37,"> Ok, just updated this one!

Failing tests, something related with craddock_**2011** vs craddock_**2012**
",,,fail test someth relat craddock2011 vs craddock2012,Y,2015-03-13 15:09:33
12,issue_comment,493,nilearn,nilearn,lesteve,2015-03-13 15:09:33,"BTW I disabled landscape-bot commenting on the issues. Shout if you really want it back !
",,,btw I disabl landscapebot comment issu shout realli want back,N,2015-03-13 15:10:23
13,issue_comment,493,nilearn,nilearn,landscape-bot,2015-03-13 15:10:23,"[![Code Health](https://landscape.io/badge/125106/landscape.svg?style=flat)](https://landscape.io/diff/110818)
Repository health decreased by 0.07% when pulling **[b0d77f8](https://github.com/banilo/nilearn/commit/b0d77f851662bade4a0b503746d30455b558cb57) on banilo:data_descr2** into **[41639af](https://github.com/nilearn/nilearn/commit/41639af33362616ccd3392752fe216aaf582db90) on nilearn:master**.
- [2 new problems were found](https://landscape.io/diff/110818) (including 0 errors and 1 code smell).
- No problems were fixed.
",,,code health repositori health decreas 007 pull b0d77f8 banilodatadescr2 41639af nilearnmast 2 new problem found includ 0 error 1 code smell No problem fix,N,2015-03-17 13:10:14
14,issue_comment,493,nilearn,nilearn,banilo,2015-03-17 13:10:14,":octocat: says ""Merge this one!""
",,,octocat say merg one,N,2015-03-17 13:15:11
15,issue_comment,493,nilearn,nilearn,banilo,2015-03-17 13:15:11,":camel: says ""Octocat is right.""
",,,camel say octocat right,N,2015-03-17 13:15:40
16,issue_comment,493,nilearn,nilearn,banilo,2015-03-17 13:15:40,":neckbeard: : ""totally!""
",,,neckbeard total,N,2015-03-17 13:16:39
17,issue_comment,493,nilearn,nilearn,banilo,2015-03-17 13:16:39,":family: : ""We could not agree more.""
",,,famili We could agre,N,2015-03-17 13:19:29
18,issue_comment,493,nilearn,nilearn,AlexandreAbraham,2015-03-17 13:19:29,":wave::cop: Tsssk... No!
",,,wavecop tsssk No,N,2015-03-17 13:22:02
19,issue_comment,493,nilearn,nilearn,banilo,2015-03-17 13:22:02,":rabbit: ""Huh, whhaaattteee?""
",,,rabbit huh whhaaatttee,N,2015-03-11 16:22:26
20,pull_request_commit_comment,493,nilearn,nilearn,AlexandreAbraham,2015-03-11 16:22:26,"This could be a module scope variable.
",f3b90db9af4c13bffb4730d4a1622d96c68b2079,"(None, '', u'nilearn/datasets.py')",thi could modul scope variabl,N,2015-03-11 16:24:33
21,pull_request_commit_comment,493,nilearn,nilearn,AlexandreAbraham,2015-03-11 16:24:33,"A good practice would be to use ""<dataset_name>.rst"" as name (here craddock_2011) and create a function to get directly the rst content.
",f3b90db9af4c13bffb4730d4a1622d96c68b2079,"(None, '', u'nilearn/datasets.py')",A good practic would use datasetnam,N,2015-03-12 18:17:54
22,pull_request_commit_comment,493,nilearn,nilearn,banilo,2015-03-12 18:17:54,"Year, realized this one!
",f3b90db9af4c13bffb4730d4a1622d96c68b2079,"(None, '', u'nilearn/datasets.py')",year realiz one,N,2015-03-13 08:40:12
23,pull_request_commit_comment,493,nilearn,nilearn,AlexandreAbraham,2015-03-13 08:40:12,"Again, please use the unique name given to each dataset.
",f3b90db9af4c13bffb4730d4a1622d96c68b2079,"(None, '', u'nilearn/datasets.py')",again pleas use uniqu name given dataset,N,2015-03-16 07:57:40
24,pull_request_commit_comment,493,nilearn,nilearn,lesteve,2015-03-16 07:57:40,"@AlexandreAbraham for consistency reasons, should we change 2011 to 2012 in nitrc too? I guess we'd want to keep the old (i.e. 2011) naming for a while for backward compatibility reasons ...
",f3b90db9af4c13bffb4730d4a1622d96c68b2079,"(None, '', u'nilearn/datasets.py')",alexandreabraham consist reason chang 2011 2012 nitrc I guess wed want keep old ie 2011 name backward compat reason,N,2015-03-16 07:58:07
25,pull_request_commit_comment,493,nilearn,nilearn,lesteve,2015-03-16 07:58:07,"You probably want to use warning.warn rather than a print statement
",f3b90db9af4c13bffb4730d4a1622d96c68b2079,"(None, '', u'nilearn/datasets.py')",you probabl want use warningwarn rather print statement,N,2015-03-16 08:06:50
26,pull_request_commit_comment,493,nilearn,nilearn,lesteve,2015-03-16 08:06:50,"Hmmm maybe not. This [page](http://www.nitrc.org/projects/cluster_roi/) by the authors has Craddock **2011**: 

![craddock_2011](https://cloud.githubusercontent.com/assets/1680079/6662423/ac33ee6e-cbbb-11e4-984d-3ec9842357d9.png)
",f3b90db9af4c13bffb4730d4a1622d96c68b2079,"(None, '', u'nilearn/datasets.py')",hmmm mayb thi page author craddock 2011 craddock2011,N,2015-03-16 08:27:21
27,pull_request_commit_comment,493,nilearn,nilearn,lesteve,2015-03-16 08:27:21,"I find these things easier to read with a dict:

``` python

dataset_to_filename = {
    'yeo_2011': 'yeo',
    'craddock_2012': 'craddock',
    .
    .
    .
    }

fname = dataset_to_filename.get(ds_name, '')
```
",f3b90db9af4c13bffb4730d4a1622d96c68b2079,"(None, '', u'nilearn/datasets.py')",I find thing easier read dict,N,2015-03-16 08:30:52
28,pull_request_commit_comment,493,nilearn,nilearn,lesteve,2015-03-16 08:30:52,"You probably want to use something like OSError here.
",f3b90db9af4c13bffb4730d4a1622d96c68b2079,"(None, '', u'nilearn/datasets.py')",you probabl want use someth like oserror,N,2015-03-16 09:51:29
29,pull_request_commit_comment,493,nilearn,nilearn,AlexandreAbraham,2015-03-16 09:51:29,"This should not exist. The name of the files should be the name of the dataset.
",f3b90db9af4c13bffb4730d4a1622d96c68b2079,"(None, '', u'nilearn/datasets.py')",thi exist the name file name dataset,N,2015-03-16 09:52:24
30,pull_request_commit_comment,493,nilearn,nilearn,AlexandreAbraham,2015-03-16 09:52:24,"I used the year specified on NITRC but @banilo is right when he says that the paper has been published in 2012. Let's ask @GaelVaroquaux to take the final decision ;)
",f3b90db9af4c13bffb4730d4a1622d96c68b2079,"(None, '', u'nilearn/datasets.py')",I use year specifi nitrc banilo right say paper publish 2012 let ask gaelvaroquaux take final decis,N,2015-03-16 09:53:56
31,pull_request_commit_comment,493,nilearn,nilearn,banilo,2015-03-16 09:53:56,"> @AlexandreAbraham for consistency reasons, should we change 2011 to 2012 in nitrc too? I guess we'd want to keep the old (i.e. 2011) naming for a while for backward compatibility reasons ...

Does not matter - that is just some website. We should use the date when the paper in qeustion has been actually published in the physical world - and that is 2012. The delay is probably explained by the difference between paper accept and publish date.
",f3b90db9af4c13bffb4730d4a1622d96c68b2079,"(None, '', u'nilearn/datasets.py')",doe matter websit We use date paper qeustion actual publish physic world 2012 the delay probabl explain differ paper accept publish date,N,2015-03-17 10:42:47
32,pull_request_commit_comment,493,nilearn,nilearn,AlexandreAbraham,2015-03-17 10:42:47,"I'm not a big fan of exclamation mark in error messages. Is it necessary?
",f3b90db9af4c13bffb4730d4a1622d96c68b2079,"(None, '', u'nilearn/datasets.py')",Im big fan exclam mark error messag Is necessari,N,2015-03-17 12:32:53
33,pull_request_commit_comment,493,nilearn,nilearn,banilo,2015-03-17 12:32:53,"Good point.
:octocat: 
",f3b90db9af4c13bffb4730d4a1622d96c68b2079,"(None, '', u'nilearn/datasets.py')",good point octocat,N,2015-03-11 15:14:52
34,pull_request_commit,493,nilearn,nilearn,banilo,2015-03-11 15:14:52,dataset descriptions2,f0f6456be99bcb195a0aef2d0b9b9f64c1e3a7ab,,dataset descriptions2,N,2015-03-12 18:15:06
35,pull_request_commit,493,nilearn,nilearn,banilo,2015-03-12 18:15:06,add get_descr func,55e14b67d1daa669b2581403c6d5f282eff100dc,,add getdescr func,N,2015-03-13 13:39:29
36,pull_request_commit,493,nilearn,nilearn,banilo,2015-03-13 13:39:29,corrected craddock pub year,3e98a94ee0e4b72fe8f6fd228e57a4871b173919,,correct craddock pub year,N,2015-03-13 14:35:16
37,pull_request_commit,493,nilearn,nilearn,banilo,2015-03-13 14:35:16,use unique dataset names,b0d77f851662bade4a0b503746d30455b558cb57,,use uniqu dataset name,N,2015-03-17 13:08:04
38,pull_request_commit,493,nilearn,nilearn,banilo,2015-03-17 13:08:04,alex does not like exclamation marks,aa7d12ad925a85ccd699b2e83fe94f868d61a3cb,,alex like exclam mark,N,2015-03-17 13:32:13
2,issue_closed,399,nilearn,nilearn,lesteve,2015-04-14 07:50:31,,closed issue,Sphinx-gallery into nilearn ,,N,2015-02-05 14:13:09
4,pull_request_merged,399,nilearn,nilearn,lesteve,2015-04-14 07:50:31,Sphinx-gallery into nilearn ,ad0d4672dd8f4972b22421d047b293d0f84c0f33,Pull request merge from Titan-C/nilearn:sphinxgallery to nilearn/nilearn:master,sphinxgalleri nilearn,N,2015-02-12 14:04:16
5,issue_comment,399,nilearn,nilearn,GaelVaroquaux,2015-02-12 14:04:16,"> Also I think what @GaelVaroquaux had in mind was shipping a version of
> sphinx-gallery in nilearn/doc/sphinxext rather than requiring to do pip
> install sphinx-gallery.

Yes.
",,,ye,N,2015-02-13 08:38:20
6,issue_comment,399,nilearn,nilearn,GaelVaroquaux,2015-02-13 08:38:20,"> If one keeps a local version of the sphinx-gallery extension, and
> probably every project will keep its own local copy. What was the aim
> of keeping the centralized extension? wont all versions end up
> branching again?

Keeping a local version doesn't mean that we will branch. The idea is to
have a synchronization script that copies exactly the sphinx-gallery code
in the projects that use it. In these projects it should never be
modified. One example of this pattern is how joblib is integrated in
scikit-learn, in sklearn/externals.

> Isn't it better to use the git version installed in develop mode more
> practical?

More practical for you. It raises two problems. One is of technicality.
It's one more thing to learn and master for a contributor. These things
pile up and make it harder and harder to contribute to a project. The
second problem is that it means that any backword incompatible change or
bug introduce in sphinx-gallery will break the projects using it.
Decoupling is a good thing.
",,,keep local version doesnt mean branch the idea synchron script copi exactli sphinxgalleri code project use In project never modifi one exampl pattern joblib integr scikitlearn sklearnextern more practic It rais two problem one technic it one thing learn master contributor these thing pile make harder harder contribut project the second problem mean backword incompat chang bug introduc sphinxgalleri break project use decoupl good thing,N,2015-02-16 12:23:17
7,issue_comment,399,nilearn,nilearn,GaelVaroquaux,2015-02-16 12:23:17,"> Tiny comment: I am wondering whether the joblib import in doc_resolv.py should
> not try to import it from sklearn.externals as a fall-back if joblib is not
> installed.

:+1:. We cannot have a joblib dependency.

I would actually favor not using joblib but a simple shelve, and a test
to see if the URL is already in the shelve.

Here is some pseudo code to implement what I have in mind:

<pre>
import shelve
mem = shelve.open('foo')
if not url in mem:
    data = get_url(url)
    mem[url] = data
    mem.sync()
else:
    data = mem[url]
</pre>
",,,1 We cannot joblib depend I would actual favor use joblib simpl shelv test see url alreadi shelv here pseudo code implement I mind preimport shelv mem shelveopenfoo url mem data geturlurl memurl data memsync els data memurl pre,Y,2015-02-16 16:41:46
11,issue_comment,399,nilearn,nilearn,GaelVaroquaux,2015-04-14 07:36:49,"I agree. Oscar, could you please either address these comments inside sphinx gallery,  or copy them as an issue,  so that they don't get lost. 

Sent from my phone. Please forgive brevity and mis spelling

On Apr 14, 2015, 08:58, at 08:58, ""Loïc Estève"" notifications@github.com wrote:

> > Almost there: only a few cosmetic comments. After these are
> > addressed, we are ready to merge.
> > 
> > Congratulations, this is great!
> 
> I think your comments are related to sphinx-gallery and not nilearn. I
> reckon we should merge this PR. The alternative is for your comments to
> be addressed in sphinx-gallery and a new sphinx-gallery release to be
> made before we can merge this PR. This seems a little bit too much
> overhead for what it is worth IMHO.
> 
> Just for clarity we'll try to keep the sphinx-gallery copy inside
> nilearn in sync with the latest sphinx-gallery release going forward,
> which means that if your comments get addressed in sphinx-gallery they
> will eventually reach the nilearn sphinx-gallery copy.
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/399#issuecomment-92657390
",,,I agre oscar could pleas either address comment insid sphinx gallery  copi issue  dont get lost sent phone pleas forgiv breviti mi spell On apr 14 2015 0858 0858 loïc estèv notificationsgithubcom wrote,N,2015-02-12 10:08:57
12,issue_comment,399,nilearn,nilearn,lesteve,2015-02-12 10:08:57,"@Titan-C you have a tiny merge conflict in one of the examples. Would you mind rebasing on master and fixing it?
",,,titanc tini merg conflict one exampl would mind rebas master fix,N,2015-02-12 10:26:36
13,issue_comment,399,nilearn,nilearn,lesteve,2015-02-12 10:26:36,"Also there is a new example examples/manipulating/visualizing/plot_atlas.py that needs parentheses around its print statement.
",,,also new exampl examplesmanipulatingvisualizingplotatlaspi need parenthes around print statement,N,2015-02-12 13:01:54
14,issue_comment,399,nilearn,nilearn,Titan-C,2015-02-12 13:01:54,"Done
",,,done,N,2015-02-12 14:01:27
15,issue_comment,399,nilearn,nilearn,lesteve,2015-02-12 14:01:27,"Thanks I think you should remove the old gallery generating code, for example gen_rst.py and related css.

Also I think what @GaelVaroquaux had in mind was shipping a version of sphinx-gallery in nilearn/doc/sphinxext rather than requiring to do `pip install sphinx-gallery`.
",,,thank I think remov old galleri gener code exampl genrstpi relat css also I think gaelvaroquaux mind ship version sphinxgalleri nilearndocsphinxext rather requir,N,2015-02-12 22:34:26
16,issue_comment,399,nilearn,nilearn,Titan-C,2015-02-12 22:34:26,"I was also wondering about that. If one keeps a local version of the sphinx-gallery extension, and probably every project will keep its own local copy. What was the aim of keeping the centralized extension? wont all versions end up branching again? Isn't it better to use the git version installed in `develop` mode more practical?
I was having a look at the scikit-learn externals. It is a static set of code that gets updated manually, why? and why the extra install scripts within that module?
",,,I also wonder If one keep local version sphinxgalleri extens probabl everi project keep local copi what aim keep central extens wont version end branch isnt better use git version instal mode practic I look scikitlearn extern It static set code get updat manual extra instal script within modul,N,2015-02-13 08:24:05
17,issue_comment,399,nilearn,nilearn,lesteve,2015-02-13 08:24:05,"> I was also wondering about that. If one keeps a local version of the sphinx-gallery extension, and probably every project will keep its own local copy. What was the aim of keeping the centralized extension? wont all versions end up branching again? Isn't it better to use the git version installed in develop mode more practical?

I guess it's up to each project to make a choice whether they want to ship sphinx-gallery or not. The main point of doing so is pure convenience for people generating the doc.

About sphinx-gallery evolving separately in different projects, there is an implicit agreement that only released versions of sphinx-gallery should be used and that potential changes should be propagated upstream.

> I was having a look at the scikit-learn externals. It is a static set of code that gets updated manually, why? and why the extra install scripts within that module?

I guess convenience again is the main reason. Users are spared having to install a few packages in order to use scikit-learn. I think the technical term is vendorizing, you may want to see what the internet has to say about it. I didn't know about the extra install scripts in external so I can't help on this one.
",,,I guess project make choic whether want ship sphinxgalleri the main point pure conveni peopl gener doc about sphinxgalleri evolv separ differ project implicit agreement releas version sphinxgalleri use potenti chang propag upstream I guess conveni main reason user spare instal packag order use scikitlearn I think technic term vendor may want see internet say I didnt know extra instal script extern I cant help one,N,2015-03-17 23:38:34
18,issue_comment,399,nilearn,nilearn,Titan-C,2015-03-17 23:38:34,"This includes the shelve and is rebased to the current master. There are more examples than in the current nilearn website. In my computer there seems to be 2 examples that don't get executed. I can't figure out why? On the rest it does work.
",,,thi includ shelv rebas current master there exampl current nilearn websit In comput seem 2 exampl dont get execut I cant figur On rest work,N,2015-03-18 07:31:24
19,issue_comment,399,nilearn,nilearn,lesteve,2015-03-18 07:31:24,"Thanks a lot for rebasing on master! The nilearn website hasn't been updated since the latest release so that would explain why it doesn't feature examples that have been added recently.

Ideally what we want is to make a sphinx-gallery release and use it in nilearn. Do you think this is feasible?
",,,thank lot rebas master the nilearn websit hasnt updat sinc latest releas would explain doesnt featur exampl ad recent ideal want make sphinxgalleri releas use nilearn Do think feasibl,N,2015-03-18 08:24:54
20,issue_comment,399,nilearn,nilearn,Titan-C,2015-03-18 08:24:54,"> Ideally what we want is to make a sphinx-gallery release and use it in nilearn. Do you think this is feasible?

Publishing sphinx-gallery as 0.0.7 with the shelve is straight forward, can upload to pypi now. But I wouldn't launch it yet as a stable release. As some to do from @GaelVaroquaux are still missing. https://github.com/sphinx-gallery/sphinx-gallery/issues/20
Moreover I want to test a bit longer on the configuration dictionary key naming, test the nametuple as well. Since after a stable release one shall not change the user interphase.
",,,publish sphinxgalleri 007 shelv straight forward upload pypi but I wouldnt launch yet stabl releas As gaelvaroquaux still miss moreov I want test bit longer configur dictionari key name test nametupl well sinc stabl releas one shall chang user interphas,Y,2015-03-18 09:10:21
32,issue_comment,399,nilearn,nilearn,lesteve,2015-04-14 07:50:36,"OK merging then, thanks a lot for this and hurray for nilearn officially starting to use sphinx-gallery !
",,,OK merg thank lot hurray nilearn offici start use sphinxgalleri,N,2015-02-13 12:39:58
33,issue_comment,399,nilearn,nilearn,lesteve,2015-02-13 12:39:58,"Something I didn't spot right away. We added some additional text at the top of the examples gallery and this was added directly in gen_rst.py

![nilearn_examples_header](https://cloud.githubusercontent.com/assets/1680079/6187300/344c09de-b385-11e4-8809-23f5a6321177.png)

For now a work-around would be to move this text to examples/README.rst.
",,,someth I didnt spot right away We ad addit text top exampl galleri ad directli genrstpi nilearnexampleshead for workaround would move text examplesreadmerst,N,2015-02-16 10:29:51
34,issue_comment,399,nilearn,nilearn,lesteve,2015-02-16 10:29:51,"Great job, this looks pretty close to me! I am regenerating the doc and I'll have a closer look later this afternoon.
",,,great job look pretti close I regener doc ill closer look later afternoon,N,2015-02-16 12:17:17
35,issue_comment,399,nilearn,nilearn,lesteve,2015-02-16 12:17:17,"Tiny comment: I am wondering whether the joblib import in doc_resolv.py should not try to import it from sklearn.externals as a fall-back if joblib is not installed.

The good: no extra package to install to generate the doc for nilearn, scikit-learn, and other packages users that have scikit-learn installed.

The not that great: a tiny bit of scikit-learn specific code for projects that are potentially unrelated. 

I was thinking something along those lines (but with a better error message):

``` python
try:
    import joblib
except ImportError as exc_joblib:
    try:
        from sklearn.externals import joblib
    except ImportError as exc_sklearn_joblib:
        exc_sklearn_joblib.args += ('joblib or scikit-learn needs to be installed',)
        raise
```
",,,tini comment I wonder whether joblib import docresolvpi tri import sklearnextern fallback joblib instal the good extra packag instal gener doc nilearn scikitlearn packag user scikitlearn instal the great tini bit scikitlearn specif code project potenti unrel I think someth along line better error messag,N,2015-02-16 13:30:30
36,issue_comment,399,nilearn,nilearn,lesteve,2015-02-16 13:30:30,"I don't know the code very well so it's hard for me to estimate how easy the shelve solution is and whether it would take some time to get right.

I would be inclined to say let's just use the joblib + sklearn.externals.joblib fall-back for now so that we can merge this PR.

As far as I know, the two projects that are closer to start using sphinx-gallery are nilearn and scikit-learn anyway.
",,,I dont know code well hard estim easi shelv solut whether would take time get right I would inclin say let use joblib sklearnexternalsjoblib fallback merg PR As far I know two project closer start use sphinxgalleri nilearn scikitlearn anyway,N,2015-02-16 16:57:06
37,issue_comment,399,nilearn,nilearn,lesteve,2015-02-16 16:57:06,"> Well, as Oscar is mentionning, it's already posing problems for CI. 

Fair point, let's go for the shelve way then.
",,,fair point let go shelv way,N,2015-02-16 17:02:04
38,issue_comment,399,nilearn,nilearn,lesteve,2015-02-16 17:02:04,"> > Well, as Oscar is mentionning, it's already posing problems for CI. 
> 
> Fair point, let's go for the shelve way then.

Actually not such a fair point, since the import joblib would work for the sphinx-gallery CI but I agree the shelve solution doesn't seem so hard and is the right way to do it.
",,,actual fair point sinc import joblib would work sphinxgalleri CI I agre shelv solut doesnt seem hard right way,N,2015-03-18 07:34:02
39,pull_request_commit_comment,399,nilearn,nilearn,lesteve,2015-03-18 07:34:02,"I think this file should be kept unchanged because this changes are not really related to this PR or are they?
",f733ad2b1521f4474d050a00c89004509f775441,"(1, '', u'examples/decoding/plot_simulated_data.py')",I think file kept unchang chang realli relat PR,N,2015-03-18 08:16:49
40,pull_request_commit_comment,399,nilearn,nilearn,Titan-C,2015-03-18 08:16:49,"This is the only remaining part of the py2 py3 compatibility, as all print functions disapeared on rebase. This is needed because sphinx-gallery imports from future division, so it really requires integers as keys it crashes otherwise.
",f733ad2b1521f4474d050a00c89004509f775441,"(1, '', u'examples/decoding/plot_simulated_data.py')",thi remain part py2 py3 compat print function disapear rebas thi need sphinxgalleri import futur divis realli requir integ key crash otherwis,N,2015-03-18 10:31:43
47,pull_request_commit_comment,399,nilearn,nilearn,GaelVaroquaux,2015-04-14 06:49:20,"PEP8: too many empty lines: there should be only 2.
",f733ad2b1521f4474d050a00c89004509f775441,"(174, '', u'doc/sphinxext/sphinxgallery/gen_rst.py')",pep8 mani empti line 2,N,2015-02-05 10:07:52
48,pull_request_commit,399,nilearn,nilearn,Titan-C,2015-02-05 10:07:52,Config on sphinxgallery,59e23f84e374b5f812fdf5a4999bd6282ecf664d,,config sphinxgalleri,N,2015-02-05 10:08:25
49,pull_request_commit,399,nilearn,nilearn,Titan-C,2015-02-05 10:08:25,Remove gallery specific css,6c2e004c8877193b623397e25f067d5ea04c61a0,,remov galleri specif css,N,2015-02-05 12:47:07
50,pull_request_commit,399,nilearn,nilearn,Titan-C,2015-02-05 12:47:07,Modify examples to be compatible with sphinx-gallery python3 syntax,3e22845630545cd47ee581925b460364c4b07c3b,,modifi exampl compat sphinxgalleri python3 syntax,N,2015-02-05 16:43:09
51,pull_request_commit,399,nilearn,nilearn,Titan-C,2015-02-05 16:43:09,Nilearn configuration for sphinx gallery out of default,b4f8f293625c1c99d9f0ab290e5e7c61ae3c311c,,nilearn configur sphinx galleri default,N,2015-02-15 12:06:16
52,pull_request_commit,399,nilearn,nilearn,Titan-C,2015-02-15 12:06:16,Local sources of sphinxgallery 0.0.6,aca637208dc967a433598d7080458d3e327d38a7,,local sourc sphinxgalleri 006,N,2015-02-15 13:39:34
53,pull_request_commit,399,nilearn,nilearn,Titan-C,2015-02-15 13:39:34,Print function for new example,a1ebff9cac20549ca0d8cbf11aafec21c4ff27e5,,print function new exampl,N,2015-03-17 22:34:39
54,pull_request_commit,399,nilearn,nilearn,Titan-C,2015-03-17 22:34:39,"Update of sphinxgallery, use shelve drop joblib",c5fde838c8ef4ae7b37352057c1f8cbd55e4b30d,,updat sphinxgalleri use shelv drop joblib,N,2015-03-17 23:34:37
1,issue_title,507,nilearn,nilearn,KamalakerDadi,2015-03-19 14:47:08,"Fix #506.
",start issue,Added compatibility packages related to version six,fix 506,N,2015-03-19 15:06:31
2,issue_closed,507,nilearn,nilearn,AlexandreAbraham,2015-03-19 15:06:31,,closed issue,Added compatibility packages related to version six,,N,2015-03-19 14:47:08
3,pull_request_title,507,nilearn,nilearn,KamalakerDadi,2015-03-19 14:47:08,"Fix #506.
",7338a5babe41ec58e282b781091ae1f787093c1e,Added compatibility packages related to version six,fix 506,N,2015-03-19 15:06:31
4,pull_request_merged,507,nilearn,nilearn,AlexandreAbraham,2015-03-19 15:06:31,Added compatibility packages related to version six,2bf7e397f5d27640c3f6f61e9f0c1f598635fbf4,Pull request merge from KamalakerDadi/nilearn:fix_506 to nilearn/nilearn:master,ad compat packag relat version six,N,2015-03-19 14:51:57
5,issue_comment,507,nilearn,nilearn,lesteve,2015-03-19 14:51:57,"Eventually if we agree on a six version it will need to be added to both README.rst and nilearn/version.py.
",,,eventu agre six version need ad readmerst nilearnversionpi,N,2015-03-19 15:05:00
6,issue_comment,507,nilearn,nilearn,AlexandreAbraham,2015-03-19 15:05:00,"After asking the culprits, I learned that version 1.4.1 was chosen because it is the first one with urllib.
",,,after ask culprit I learn version 141 chosen first one urllib,N,2015-03-19 15:06:27
7,issue_comment,507,nilearn,nilearn,AlexandreAbraham,2015-03-19 15:06:27,"Great, thanks!
",,,great thank,N,2015-03-19 15:07:07
8,issue_comment,507,nilearn,nilearn,lesteve,2015-03-19 15:07:07,"> After asking the culprits, I learned that version 1.4.1 was chosen because it is the first one with urllib.

Yeah basically this was the oldest six version that got the test passing on my machine without having to change code.

For completeness:

```
~/dev/scikit-learn $ piprot <(echo six==1.4.1)
six (1.4.1) is 487 days out of date. Latest is 1.9.0
```
",,,yeah basic oldest six version got test pass machin without chang code for complet,Y,2015-03-19 15:15:03
9,issue_comment,507,nilearn,nilearn,lesteve,2015-03-19 15:15:03,"Hmmm actually this comment was forgotten in the process:

> Eventually if we agree on a six version it will need to be added to both README.rst and nilearn/version.py.

@KamalakerDadi can you look at it?
",,,hmmm actual comment forgotten process kamalakerdadi look,N,2015-03-19 14:00:58
10,pull_request_commit,507,nilearn,nilearn,KamalakerDadi,2015-03-19 14:00:58,fix 506,2fa4daeba0be61266f315a6f4d968c7e0ed11206,,fix 506,N,2015-03-19 14:24:19
11,pull_request_commit,507,nilearn,nilearn,KamalakerDadi,2015-03-19 14:24:19,I have removed a new line,3abc7acc9a82a2f172faec2376e411238f56f95f,,I remov new line,N,2015-03-19 14:38:05
1,issue_title,491,nilearn,nilearn,banilo,2015-03-10 13:01:06,"tries to fix #479
",start issue,connectome-plot-bugfix,tri fix 479,N,2015-03-17 10:26:47
2,issue_closed,491,nilearn,nilearn,AlexandreAbraham,2015-03-17 10:26:47,,closed issue,connectome-plot-bugfix,,N,2015-03-10 13:01:06
3,pull_request_title,491,nilearn,nilearn,banilo,2015-03-10 13:01:06,"tries to fix #479
",0641fed903ac3955148abcf15eca51db83c364c7,connectome-plot-bugfix,tri fix 479,N,2015-03-17 10:26:47
4,pull_request_merged,491,nilearn,nilearn,AlexandreAbraham,2015-03-17 10:26:47,connectome-plot-bugfix,6736466d6db8eaef6137473527e575ebb0745a09,Pull request merge from banilo/nilearn:connectome_bug to nilearn/nilearn:master,connectomeplotbugfix,N,2015-03-10 13:22:58
5,issue_comment,491,nilearn,nilearn,GaelVaroquaux,2015-03-10 13:22:58,"Failing tests 
",,,fail test,Y,2015-03-10 15:36:44
6,issue_comment,491,nilearn,nilearn,lesteve,2015-03-10 15:36:44,"Also can you rebase on master so we get the coverage and the python 3 support?
",,,also rebas master get coverag python 3 support,N,2015-03-10 16:47:17
7,issue_comment,491,nilearn,nilearn,GaelVaroquaux,2015-03-10 16:47:17,"LGTM. Thanks.
",,,lgtm thank,N,2015-03-10 16:55:10
8,issue_comment,491,nilearn,nilearn,lesteve,2015-03-10 16:55:10,"Could you add a smoke test too, an adjacency_matrix like:

```
np.array([
    [1., np.nan, 0.],
    [np.nan, 1., 0.],
    [np.nan, 0., 1.]])
```

should be fine.
",,,could add smoke test adjacencymatrix like fine,Y,2015-03-11 15:30:50
9,issue_comment,491,nilearn,nilearn,banilo,2015-03-11 15:30:50,"I added the nan-test. Your suggestion however would be a test for lacking symmetry :-P
",,,I ad nantest your suggest howev would test lack symmetri P,Y,2015-03-11 15:38:31
10,issue_comment,491,nilearn,nilearn,lesteve,2015-03-11 15:38:31,"> Your suggestion however would be a test for lacking symmetry :-P

That was on purpose, since this is a edge case we happen to be supporting...
",,,that purpos sinc edg case happen support,N,2015-03-11 15:40:04
11,issue_comment,491,nilearn,nilearn,banilo,2015-03-11 15:40:04,"It does give a not-symmetric error. Is that intended?

2015-03-11 16:38 GMT+01:00 Loïc Estève notifications@github.com:

> Your suggestion however would be a test for lacking symmetry :-P
> 
> That was on purpose, since this is a edge case we happen to be
> supporting...
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/491#issuecomment-78288309.

## 

Viele Grüße,
Danilo
",,,It give notsymmetr error Is intend 20150311 1638 gmt0100 loïc estèv notificationsgithubcom viel grüße danilo,N,2015-03-11 17:43:42
12,issue_comment,491,nilearn,nilearn,lesteve,2015-03-11 17:43:42,"> It does give a not-symmetric error. Is that intended? 

:confused: I was naively expecting that the nan_to_num conversion would make the adjacency matrix symmetrix. 
",,,confus I naiv expect nantonum convers would make adjac matrix symmetrix,N,2015-03-10 14:21:17
13,pull_request_commit,491,nilearn,nilearn,banilo,2015-03-10 14:21:17,connectome-plot-bugfix,99b79c0be8a99e4d9cdf7b51b2f1b607cb6d8ca8,,connectomeplotbugfix,N,2015-03-11 15:28:23
2,issue_closed,463,nilearn,nilearn,AlexandreAbraham,2015-04-30 08:25:00,,closed issue,concat_niimgs is not iterator friendly (was: check_niimgs eliminates the first 3D image from an iterator),,N,2015-02-26 07:43:07
3,issue_comment,463,nilearn,nilearn,lesteve,2015-02-26 07:43:07,"Looks like a bug to me, a simple fix would be to use itertools.tee to consume the first item but still be able to return the unadulterated iterator. Adding a test would be great too.
",,,look like bug simpl fix would use itertoolste consum first item still abl return unadulter iter ad test would great,Y,2015-02-26 11:54:54
4,issue_comment,463,nilearn,nilearn,AlexandreAbraham,2015-02-26 11:54:54,"@bcipolli thanks for spotting this one. By digging in this code, we found out that there is some unconsistent behavior in both `check_niimg` and `check_niimgs`. We want to release soon so we'll fix this one first but we will open a discussion about image loading later.
",,,bcipolli thank spot one By dig code found unconsist behavior We want releas soon well fix one first open discuss imag load later,N,2015-02-26 14:07:30
5,issue_comment,463,nilearn,nilearn,lesteve,2015-02-26 14:07:30,"Hmmm it looks like the check_niimg(s) function are not very iterator friendly in contrary to what the docstring is saying. 

Note this has been the case for a while, and is not specific to the relatively recent return_iterator=True in check_niimgs. To make matters worse, I wasn't able to find tests with check_niimg(s) and iterators.

A couple of examples I just found:

``` python
import numpy as np
from nibabel import Nifti1Image

from nilearn import _utils

affine = np.eye(4)
img_3d = Nifti1Image(np.ones((10, 10, 10)), affine)

input_iterator = iter([img_3d, img_3d])
img_4d = _utils.check_niimgs(input_iterator)  # Exception in concat_niimgs

input_iterator = iter([img_3d, img_3d])
img_4d = _utils.check_niimg(input_iterator)
img_4d.shape  # (10, 10, 10, 1) instead of (10, 10, 10, 2)
```

The safe way to use check_niimg(s) seems to use lists rather than iterators as arguments and I bet that's the way they are used in our source code.
",,,hmmm look like checkniimg function iter friendli contrari docstr say note case specif rel recent returniteratortru checkniimg To make matter wors I wasnt abl find test checkniimg iter A coupl exampl I found the safe way use checkniimg seem use list rather iter argument I bet that way use sourc code,Y,2015-02-26 14:14:28
6,issue_comment,463,nilearn,nilearn,AlexandreAbraham,2015-02-26 14:14:28,"Since we plan to refactor `check_niimg*`, I suggest that we convert iterators into lists and move on until the code is refactored.
",,,sinc plan refactor I suggest convert iter list move code refactor,N,2015-02-27 08:49:56
1,issue_title,378,nilearn,nilearn,bcipolli,2015-01-31 18:44:21,"This PR depends on two unmerged PRs (#369, #371), but I am opening this PR now for three reasons:
1. Supporting Python 2 and 3 takes creating and following compatibility conventions.  I wanted to list what I've discovered from the code so far, and open discussion to agreeing on such conventions.
2. To get any help (none needed, but appreciated) to solve remaining issues
3. To open early review to anybody who wishes to do so (see https://github.com/bcipolli/nilearn/compare/bcipolli:fix_warnings...python-3.x to view a set of commits specific to Python 2/3 support).
   .

Open issues to solve (see https://travis-ci.org/bcipolli/nilearn/builds for latest branch builds / test errors):
- File-based string operations with numpy are really challenging in Python 3.x, because of changes in defaults (all strings are unicode).

Here's the current list of conventions I'm using so far:

**Python 2 conventions that are now Python 3 requirements**
- All `nilearn` imports should be relative (except, perhaps, in tests)
- Write `except Exception, e` as `except Exception as e`
- Write `isinstance(x, types.ListType)` as `isinstance(x, list)`
- Write `callable(x)` as `isinstance(x, collections.Callable)`
- Write `operator.isSequenceType(x)` as `isinstance(x, collections.Sequence)`
- Write `operator.isNumberType(x)` as `isinstance(x, collections.Number)`
- Write `nose.tools.assert_equals` as `nose.tools.assert_equal`
- Write `nilearn._utils.testing.assert_raises_regexp` as `nilearn._utils.testing.assert_raises_regex` (mirrors nose clarification)
- Write `<Iterable>.next()` as `next(<Iterable>)`
- Write `filename = os.tempnam()` as `(_, filename) = tempfile.mkstemp()`
- Write `not key in dict` as `key not in dict` (this actually warns in Python 3.x!)
- Make sure to use `with open('file') as f' syntax; any file pointers that are not used in a context manager nor explicitly closed throw warnings.

**Python 3 changes that require care to be backwards compatible**
- Non-unicode strings must be prefixed with `b`: `b'string'`(mostly an issue interacting with numpy, but also some low-level operations like gzip code)
- Write `print ""%s"" % (message,)` as `print(""%s"" % (message,))`
- Write integer division `3 / 2 == 1` as `3 // 2 == 1`
- Write `<dict>.iteritems()` as `<dict>.items()` (there is no iteritems in Python 3)
- Write `<dict>.itervalues()` as `<dict>.values()` (there is no itervalues in Python 3)
- Write `itertools.izip()` as `zip()` (there is no `izip` in Python 3)
- Write octal string `0100` `0o100`
- Write `round` as `np.round` (avoids a numpy issue in Python 3)

**Importing things from `six` instead of places you're used to**
- Write `basestring` as `six.string_types` (requires `import six`)
- Use the new urllib object structure instead of ulrllib/urllib2
  - import from `six.moves.urllib`.
  - there are no base-level functions/objects, all are present in subpackages
- Import  `StringIO` and `cPickle from`six.moves`

**Changes in how you design / write code**
- Think carefully about any use of `xrange`.  If you _require_ an iterator, then you must import `past.builtins.xrange`.  Otherwise, just use `range` (which is a list in Python 2, and an interator in Python 3).
- Most things that used to generate lists now generate iterators; any time you need a list, make sure to wrap it in `list()`
  - **THIS WILL GET YOU!**
  - Includes:
    - `dict.keys()`, `dict.values()`
    - `zip`
    - `range`
    - `map`
",start issue,[WIP] Adding Python 3.x support,thi PR depend two unmerg pr 369 371 I open PR three reason 1 support python 2 3 take creat follow compat convent I want list ive discov code far open discuss agre convent 2 To get help none need appreci solv remain issu 3 To open earli review anybodi wish see view set commit specif python 23 support open issu solv see latest branch build test error filebas string oper numpi realli challeng python 3x chang default string unicod here current list convent Im use far python 2 convent python 3 requir all import rel except perhap test write write write write write write write mirror nose clarif write write write actual warn python 3x make sure use b bstring print messag print messag 3 2 1 3 2 1 dict chang design write code think care use If requir iter must import otherwis use list python 2 inter python 3 most thing use gener list gener iter time need list make sure wrap thi will get you includ,N,2015-03-01 22:13:07
2,issue_closed,378,nilearn,nilearn,bcipolli,2015-03-01 22:13:07,,closed issue,[WIP] Adding Python 3.x support,,N,2015-01-31 18:44:21
3,pull_request_title,378,nilearn,nilearn,bcipolli,2015-01-31 18:44:21,"This PR depends on two unmerged PRs (#369, #371), but I am opening this PR now for three reasons:
1. Supporting Python 2 and 3 takes creating and following compatibility conventions.  I wanted to list what I've discovered from the code so far, and open discussion to agreeing on such conventions.
2. To get any help (none needed, but appreciated) to solve remaining issues
3. To open early review to anybody who wishes to do so (see https://github.com/bcipolli/nilearn/compare/bcipolli:fix_warnings...python-3.x to view a set of commits specific to Python 2/3 support).
   .

Open issues to solve (see https://travis-ci.org/bcipolli/nilearn/builds for latest branch builds / test errors):
- File-based string operations with numpy are really challenging in Python 3.x, because of changes in defaults (all strings are unicode).

Here's the current list of conventions I'm using so far:

**Python 2 conventions that are now Python 3 requirements**
- All `nilearn` imports should be relative (except, perhaps, in tests)
- Write `except Exception, e` as `except Exception as e`
- Write `isinstance(x, types.ListType)` as `isinstance(x, list)`
- Write `callable(x)` as `isinstance(x, collections.Callable)`
- Write `operator.isSequenceType(x)` as `isinstance(x, collections.Sequence)`
- Write `operator.isNumberType(x)` as `isinstance(x, collections.Number)`
- Write `nose.tools.assert_equals` as `nose.tools.assert_equal`
- Write `nilearn._utils.testing.assert_raises_regexp` as `nilearn._utils.testing.assert_raises_regex` (mirrors nose clarification)
- Write `<Iterable>.next()` as `next(<Iterable>)`
- Write `filename = os.tempnam()` as `(_, filename) = tempfile.mkstemp()`
- Write `not key in dict` as `key not in dict` (this actually warns in Python 3.x!)
- Make sure to use `with open('file') as f' syntax; any file pointers that are not used in a context manager nor explicitly closed throw warnings.

**Python 3 changes that require care to be backwards compatible**
- Non-unicode strings must be prefixed with `b`: `b'string'`(mostly an issue interacting with numpy, but also some low-level operations like gzip code)
- Write `print ""%s"" % (message,)` as `print(""%s"" % (message,))`
- Write integer division `3 / 2 == 1` as `3 // 2 == 1`
- Write `<dict>.iteritems()` as `<dict>.items()` (there is no iteritems in Python 3)
- Write `<dict>.itervalues()` as `<dict>.values()` (there is no itervalues in Python 3)
- Write `itertools.izip()` as `zip()` (there is no `izip` in Python 3)
- Write octal string `0100` `0o100`
- Write `round` as `np.round` (avoids a numpy issue in Python 3)

**Importing things from `six` instead of places you're used to**
- Write `basestring` as `six.string_types` (requires `import six`)
- Use the new urllib object structure instead of ulrllib/urllib2
  - import from `six.moves.urllib`.
  - there are no base-level functions/objects, all are present in subpackages
- Import  `StringIO` and `cPickle from`six.moves`

**Changes in how you design / write code**
- Think carefully about any use of `xrange`.  If you _require_ an iterator, then you must import `past.builtins.xrange`.  Otherwise, just use `range` (which is a list in Python 2, and an interator in Python 3).
- Most things that used to generate lists now generate iterators; any time you need a list, make sure to wrap it in `list()`
  - **THIS WILL GET YOU!**
  - Includes:
    - `dict.keys()`, `dict.values()`
    - `zip`
    - `range`
    - `map`
",55ccc61f3350fe817400e69aa793761626c67355,[WIP] Adding Python 3.x support,thi PR depend two unmerg pr 369 371 I open PR three reason 1 support python 2 3 take creat follow compat convent I want list ive discov code far open discuss agre convent 2 To get help none need appreci solv remain issu 3 To open earli review anybodi wish see view set commit specif python 23 support open issu solv see latest branch build test error filebas string oper numpi realli challeng python 3x chang default string unicod here current list convent Im use far python 2 convent python 3 requir all import rel except perhap test write write write write write write write mirror nose clarif write write write actual warn python 3x make sure use b bstring print messag print messag 3 2 1 3 2 1 dict chang design write code think care use If requir iter must import otherwis use list python 2 inter python 3 most thing use gener list gener iter time need list make sure wrap thi will get you includ,N,2015-02-01 19:40:38
4,issue_comment,378,nilearn,nilearn,GaelVaroquaux,2015-02-01 19:40:38,"If it's only on the examples, let's punt: the examples won't work out of
the box in Python 3. That's too bad. But given that a very large fraction
of our target users are not in Python 3, it will not affect them. On the
other hand, making the examples harder to read would affect them.
",,,If exampl let punt exampl wont work box python 3 that bad but given larg fraction target user python 3 affect On hand make exampl harder read would affect,N,2015-02-01 19:45:21
5,issue_comment,378,nilearn,nilearn,GaelVaroquaux,2015-02-01 19:45:21,"> I assume with the tests, I can solve that either way (literals or
> through a conversion function).

I'd solve it via the simplest way, which probably does not entail writing
a wrapper function.
",,,Id solv via simplest way probabl entail write wrapper function,N,2015-02-01 21:06:53
6,issue_comment,378,nilearn,nilearn,GaelVaroquaux,2015-02-01 21:06:53,"> If punting, I suggest adding information somewhere (could be at the top of
> relevant examples, could be somewhere on the website) about this issue.

Sounds right. If there aren't too many examples where this is the case, I
would add it there.
",,,sound right If arent mani exampl case I would add,N,2015-02-01 21:25:14
7,issue_comment,378,nilearn,nilearn,lesteve,2015-02-01 21:25:14,"It looks like using conditions == b'face' will work for both Python 2 and 3, i.e.:

``` python
condition_mask = np.logical_or(conditions == b'face', conditions == b'house')
```

and another thing about:

> All nilearn imports should be relative (except, perhaps, in tests)

I seem to remember the scikit-learn policy was to use absolute import in tests. I guess this way you can easily run the test file independently from the package it is coming from, say run a test from your scikit-learn git checkout with an older version of scikit-learn for example.
",,,It look like use condit bface work python 2 3 ie anoth thing I seem rememb scikitlearn polici use absolut import test I guess way easili run test file independ packag come say run test scikitlearn git checkout older version scikitlearn exampl,Y,2015-02-01 19:38:22
8,issue_comment,378,nilearn,nilearn,bcipolli,2015-02-01 19:38:22,"I read up on most of the rest of the test failures--they are due to string handling differences between Python 2 and 3 and relatively heavy usage (compared to `sklearn`) in `nilearn` of numpy's `loadtxt` and `recfromtxt` functions without specifying column dtypes, and `nilearn`.

`numpy` has chosen to always return `loadtxt` and `recfromtxt` strings without types as bytes.  However, string literal defaults in Python are version dependent: Python 2 defaults strings to bytes, and Python 3 defaults to unicode.

This fails when in `nilearn` we explicitly filter based on condition masks using string literals, e.g. 

``` python
haxby_dataset = datasets.fetch_haxby_simple()
conditions = np.recfromtxt(haxby_dataset.conditions_target)['f0']
condition_mask = np.logical_or(conditions == 'face', conditions == 'house')
```

This will succeed in Python 2, but fail in Python 3.  In Python 2, the `'f0'` column is bytes (default), the condition mask `'face'` is bytes, so the comparison succeeds.  In Python 3, the `'f0'` column is bytes (default), the condition mask `'face'` is unicode, so the comparison fails.

One solution could be to specify all string literals as bytes, e.g. `b'face'`.  This is what `sklearn` does, but they don't use `loadtxt` nor `recfromtxt` in user-facing examples.  I think it'd be weird to use these byte literals in examples, especially when most users won't need to know about it (only those using Python 3.x).

Another solution could be to write our own `loadtxt` and `recfromtxt` functions that call `numpy`'s version, then convert any string fields to unicode by calling `decode()` on the strings.  I dislike wrapper functions like this because those familiar with `numpy` may no longer read the examples as clearly (similar, but different function is called....)

A final solution is to repackage the dataset code (where most of this info lies) more carefully, such that the column definitions and datatypes are part of the package.  I think this is the best option--we have that information (we spent the time to curate these datasets), and it would allow better column names (we could use `'condition'` instead of defaults like `'f0'`), but it would take some thinking about how to package that information well.

My suggestion: implement our own wrappers for `loadtxt` and `recfromtxt` and use them in our examples.  If there's interest in the third one, I can open an issue for it.

If no objections, I'll start on solution #2 on Tuesday.  Thanks!
",,,I read rest test failuresthey due string handl differ python 2 3 rel heavi usag compar numpi function without specifi column dtype chosen alway return string without type byte howev string liter default python version depend python 2 default string byte python 3 default unicod thi fail explicitli filter base condit mask use string liter eg thi succeed python 2 fail python 3 In python 2 column byte default condit mask byte comparison succe In python 3 column byte default condit mask unicod comparison fail one solut could specifi string liter byte eg thi dont use userfac exampl I think itd weird use byte liter exampl especi user wont need know use python 3x anoth solut could write function call version convert string field unicod call string I dislik wrapper function like familiar may longer read exampl clearli similar differ function call A final solut repackag dataset code info lie care column definit datatyp part packag I think best optionw inform spent time curat dataset would allow better column name could use instead default like would take think packag inform well My suggest implement wrapper use exampl If there interest third one I open issu If object ill start solut 2 tuesday thank,Y,2015-02-01 19:43:26
9,issue_comment,378,nilearn,nilearn,bcipolli,2015-02-01 19:43:26,"The issue also exists in `test_datasets.py`, but I don't think it's needed for any core code.  I assume with the tests, I can solve that either way (literals or through a conversion function).
",,,the issu also exist I dont think need core code I assum test I solv either way liter convers function,Y,2015-02-01 19:46:32
10,issue_comment,378,nilearn,nilearn,bcipolli,2015-02-01 19:46:32,"If punting, I suggest adding information somewhere (could be at the top of relevant examples, could be somewhere on the website) about this issue.  The examples are a core part of getting people on `nilearn`, and if claiming `python 3` support I think it's important to let users know that the examples won't work for them.
",,,If punt I suggest ad inform somewher could top relev exampl could somewher websit issu the exampl core part get peopl claim support I think import let user know exampl wont work,N,2015-02-02 15:37:56
11,pull_request_commit_comment,378,nilearn,nilearn,lesteve,2015-02-02 15:37:56,"I was thinking we could use the 'six' version that is shipped in sklearn.externals.
",55ccc61f3350fe817400e69aa793761626c67355,"(4, '', u'README.rst')",I think could use six version ship sklearnextern,N,2015-02-02 15:40:38
13,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-25 06:46:22,Make sure all print/stderr output checks verbosity level; add docstring comments re: verbose.,02a938b7d68d576f46c20059fdce33157eaf2007,,make sure printstderr output check verbos level add docstr comment verbos,N,2015-01-29 04:51:20
14,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 04:51:20,Multi_pca should not assume that the masker was created without an explicit mask.,09884c1af5ad1d24c808e0528431aa301578ef06,,multipca assum masker creat without explicit mask,N,2015-01-29 05:01:41
15,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 05:01:41,Treat warnings as errors.,02f962dc16bac2bedca291f6e500747e5800591a,,treat warn error,N,2015-01-29 05:17:58
16,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 05:17:58,Ignore warnings due to numpy/scipy interactions.,20da87a30858bf8c75ecf4dd193f5c549d98af0a,,ignor warn due numpyscipi interact,N,2015-01-29 06:12:07
17,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 06:12:07,Take care of warning due to incorrect comparison of memory objects.,3d633714134ddd21f7104275445988b0b091a1d5,,take care warn due incorrect comparison memori object,N,2015-01-29 06:12:35
18,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 06:12:35,Get rid of warning due to (implicitly) computing mask on garbage data.,73056f8b625b5ad1409685dcddfd12f65c1bf24e,,get rid warn due implicitli comput mask garbag data,N,2015-01-29 06:39:18
19,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 06:39:18,Ignore expected warning re: bad coefficients.,e0cdb39ebe3c6b7e658edd8d56ecabae0545dca8,,ignor expect warn bad coeffici,N,2015-01-29 06:47:54
20,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 06:47:54,Ignore a warning about divide-by-zero for our dummy data; it's not important.,c8914846b756a726fd9ee1dacaa7ca606c6ff194,,ignor warn dividebyzero dummi data import,N,2015-01-29 07:01:44
21,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 07:01:44,Fix warning re: negation of a boolean,54d44b81aebb25cbe195312ec6383ca2947d11d8,,fix warn negat boolean,N,2015-01-29 08:11:27
22,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 08:11:27,"Implement good version of assert_warns, use it in",185054838f2e9ae331bc3dfdd9676ab5660f2cf8,,implement good version assertwarn use,N,2015-01-29 08:30:13
23,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 08:30:13,Expect an 'empty mask' warning.,82169800fde9e6110a530e16044f8ecd5359298a,,expect empti mask warn,N,2015-01-29 08:43:29
24,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 08:43:29,Expect transform warnings.,54b61fca918be7c110d5e550fc010709e123bea4,,expect transform warn,N,2015-01-29 08:46:34
25,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 08:46:34,Ignore non-fatal warnings from old versions of scikit-learn.,9e5925229733fc2227dda27277856aa23bfe74ce,,ignor nonfat warn old version scikitlearn,N,2015-01-29 08:53:07
26,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 08:53:07,Use assert_equal to get better error messages on failures.,cffe825b3ee63636d13b333ea086a372fef4de2a,,use assertequ get better error messag failur,N,2015-01-29 09:00:03
27,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 09:00:03,Slicing cannot be done with floats.,58d62545e374623931745b592b145393525da821,,slice cannot done float,N,2015-01-29 09:13:23
28,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 09:13:23,"Check expected ""Incompatible Cache"" warnings.",650c84af44513d9c3ed350cc7f75b32f293172d3,,check expect incompat cach warn,N,2015-01-29 09:24:19
29,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 09:24:19,Expect the download warning.,4f4326f38a5be60187c12f5b907f383e29996952,,expect download warn,N,2015-01-29 06:38:51
30,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 06:38:51,Ignore import and deprecation warnings while importing Bunch (known numpy/scipy issue),13d7ac72395ca3918fb630eb739c1bcf6753b18f,,ignor import deprec warn import bunch known numpyscipi issu,N,2015-02-02 18:06:46
31,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-02 18:06:46,"Removing redunant code, adding docstring.",b7b7ef3dc4821f5d9da8d9cf95afce4b1e116316,,remov redun code ad docstr,N,2015-02-02 20:44:42
32,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-02 20:44:42,Fix and clean code for Memory special case.,8047dc07557db54da8e30b40e341b578b0e11f5a,,fix clean code memori special case,N,2015-01-31 17:25:07
33,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-31 17:25:07,"Implementing a skip_if decorator, to skip tests conditionally.

Conflicts:
	nilearn/_utils/testing.py",000ed7b1583bd5d10b875915e62a8d2c3c08d46c,,implement skipif decor skip test condit conflict nilearnutilstestingpi,N,2015-01-31 17:25:47
34,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-31 17:25:47,TEMPORARILY disable the CanICA test on neurodebian (see #376),28e862a43fe0ff5e2bf3fc28c4cc6e4efc8ddfb2,,temporarili disabl canica test neurodebian see 376,N,2015-02-05 07:37:15
35,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-05 07:37:15,"Ignore sklearn deprecation warning, as it seems to be out of our control (bad warning design?)",3a03957bb97514d82c34821d94c0b4edb7135c41,,ignor sklearn deprec warn seem control bad warn design,N,2015-02-05 07:51:11
36,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-05 07:51:11,be more specific about expected error.,a524379cf6069c6d7d2be9ba92e61815d594c85c,,specif expect error,N,2015-01-29 06:47:54
37,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 06:47:54,Ignore a warning about divide-by-zero for our dummy data; it's not important.,6e072820dc31febe0e7d550717690b47f5208def,,ignor warn dividebyzero dummi data import,N,2015-01-29 08:11:27
40,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-20 01:37:09,"Changing from `print ""str""` to `print (""str"")`

Conflicts:
	nilearn/_utils/niimg_conversions.py",4cda00124294e9b8152dc504fe10e6deb39da2f4,,chang conflict nilearnutilsniimgconversionspi,N,2015-01-29 09:06:14
41,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 09:06:14,Hack to avoid scipy indexing issue,e7674c903b81b73d281669c58e485e4c9b951961,,hack avoid scipi index issu,N,2015-01-29 09:13:23
53,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-22 05:33:37,Enable Python 3.4 tests.,efaa9bdcef1199a8e0121da75a059fc6674ec445,,enabl python 34 test,N,2015-01-26 07:40:14
54,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-26 07:40:14,"Closing unclosed file pointers; migrating to use 'with open...' syntax.

Conflicts:
	nilearn/datasets.py",1095c65fb695c42309ddb38d9e61b54fd23651db,,close unclos file pointer migrat use open syntax conflict nilearndatasetspi,N,2015-01-26 07:49:30
55,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-26 07:49:30,"Use // for integer division, be explicit when we expect floating point division.",9b8dfa1070fef4e958d4559d1224439d05c1ab55,,use integ divis explicit expect float point divis,N,2015-01-29 03:48:42
56,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 03:48:42,assert_equals => assert_equal,f5712a2d3d080d536411f21d73430352dcb23c45,,assertequ,N,2015-01-29 03:52:14
57,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 03:52:14,assert_raises_regexp => assert_raises_regex,22140f01ab1c7168134aa268e901540c2207bd5c,,assertraisesregexp,N,2015-01-29 03:54:45
58,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 03:54:45,convert 3.4 iterators into lists where lists are required / expected.,45b0d3fd90e503fb8acd39a728d552fa42453a4a,,convert 34 iter list list requir expect,N,2015-01-29 03:56:01
59,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 03:56:01,Non-unicode strings must be prefixed with b'',74c688c1c969b59a9894ee6a5641acef6dc87cd4,,nonunicod string must prefix b,N,2015-01-29 03:57:56
60,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 03:57:56,Linting and taking care of python idiom warnings.,59a088194b11ce772bfaf2d36be46ba1590037b4,,lint take care python idiom warn,N,2015-01-29 13:37:33
61,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 13:37:33,using contextlib again:,ca036e316b7836f5bc5e62b4c7ba879672922172,,use contextlib,N,2015-01-29 13:45:06
62,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 13:45:06,Stop subscripting the Warning object.,878f5f9bccf794e04164f238318539dafb50930b,,stop subscript warn object,N,2015-01-29 13:55:40
63,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 13:55:40,Trying to fix buffer problem,7c8ade8c29ae892e250f613bd78c0bbe9b40307b,,tri fix buffer problem,N,2015-01-29 13:58:31
64,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 13:58:31,stab in the dark to deal with iterator issue.,6d0a4678c9dd32a9d1bd2682eed1682005c2a5da,,stab dark deal iter issu,N,2015-02-02 07:32:10
65,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-02 07:32:10,"Byte / Unicode straigtening out, for Python 2/3 compatibility.",6032aac49c86e3f8f53e6605e8d8e979d0bffeed,,byte unicod straigten python 23 compat,N,2015-02-02 07:40:53
66,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-02 07:40:53,Fixing confusing zip issue.,fb4ed4a5f3bac4f6cf5c94a3cfdfa3018dd290a0,,fix confus zip issu,N,2015-02-02 10:03:39
67,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-02 10:03:39,Convert dataset filtering / string comparison to bytes.,ef0f9ce27845770ff2bfdae53158794f361813f0,,convert dataset filter string comparison byte,N,2015-02-02 10:13:10
68,pull_request_commit,378,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-02 10:13:10,Use list(zip()) to convert iterator to list on assignment.,c4ed72d5c1d622de40280bc30dbe0cca8f1e43ca,,use listzip convert iter list assign,N,2015-02-18 00:22:24
1,issue_title,293,nilearn,nilearn,eickenberg,2014-11-24 10:25:46,"Adding functionality to make colorbar range from 0 to vmax instead of -vmax to +vmax. Which example should I best illustrate this on? @lesteve 
",start issue,[ENH + MRG] added symmetric_range kw to plot_stat_map,ad function make colorbar rang 0 vmax instead vmax vmax which exampl I best illustr lestev,N,2015-02-05 16:55:50
3,pull_request_title,293,nilearn,nilearn,eickenberg,2014-11-24 10:25:46,"Adding functionality to make colorbar range from 0 to vmax instead of -vmax to +vmax. Which example should I best illustrate this on? @lesteve 
",86f3d6b81dcbff8fcd42047eb7e3961d7a43ae08,[ENH + MRG] added symmetric_range kw to plot_stat_map,ad function make colorbar rang 0 vmax instead vmax vmax which exampl I best illustr lestev,N,2015-02-05 16:55:50
35,issue_comment,293,nilearn,nilearn,eickenberg,2015-01-07 11:55:34,"Simply not calling `set_tick_labels` causes the colorbar ticks to be formatted in a reasonable manner automatically.
",,,simpli call caus colorbar tick format reason manner automat,N,2015-01-29 16:41:41
36,issue_comment,293,nilearn,nilearn,eickenberg,2015-01-29 16:41:41,"resolved conflict and squashed commits
",,,resolv conflict squash commit,N,2015-02-01 15:55:02
37,issue_comment,293,nilearn,nilearn,eickenberg,2015-02-01 15:55:02,"Yeah I somehow reverted to an earlier version, all colorbar logic is back in plot_stat_map instead of _plot_img_with_bg.
",,,yeah I somehow revert earlier version colorbar logic back plotstatmap instead plotimgwithbg,N,2015-02-01 19:46:43
38,issue_comment,293,nilearn,nilearn,eickenberg,2015-02-01 19:46:43,"OK this doesn't work for the travis machine with `MATPLOTLIB_VERSION=""1.4.2""`, a newer matplotlib than that which I used to code this feature. I am having troubles installing matplotlib from github right now, so I'll try to fix this on another machine.
",,,OK doesnt work travi machin newer matplotlib I use code featur I troubl instal matplotlib github right ill tri fix anoth machin,Y,2015-02-05 12:34:41
39,issue_comment,293,nilearn,nilearn,eickenberg,2015-02-05 12:34:41,"In matplotlib 1.1.1 we have
`ColorbarBase.outline.get_ydata` and `ColorbarBase.outline.set_ydata`

In matplotlib 1.4.2, that doesn't exist, but there is
`ColorbarBase.outline.get_xy` and `ColorbarBase.outline.set_xy`.

There exists no function to this effect that is shared between versions. One way out of this would be to write helper functions `_get_y, _set_y` that render these differences transparent. Should I do that, or is there something smarter I can do?
",,,In matplotlib 111 In matplotlib 142 doesnt exist there exist function effect share version one way would write helper function render differ transpar should I someth smarter I,N,2015-02-05 14:09:07
40,issue_comment,293,nilearn,nilearn,eickenberg,2015-02-05 14:09:07,"Tests passing on matplotlib 1.4.2 as well now.
",,,test pass matplotlib 142 well,Y,2015-02-05 16:06:45
41,issue_comment,293,nilearn,nilearn,eickenberg,2015-02-05 16:06:45,"Yeah this is/was ready ...
",,,yeah iswa readi,N,2015-02-05 17:05:03
42,issue_comment,293,nilearn,nilearn,eickenberg,2015-02-05 17:05:03,"Thanks!
",,,thank,N,2015-02-06 07:44:12
50,pull_request_commit_comment,293,nilearn,nilearn,GaelVaroquaux,2015-01-07 07:56:14,"Ok

Sent from my phone. Please forgive brevity and mis spelling

On Jan 7, 2015, 08:43, at 08:43, bthirion notifications@github.com wrote:

> > @@ -586,7 +611,15 @@ def plot_stat_map(stat_map_img,
> > bg_img=MNI152TEMPLATE, cut_coords=None,
> >                      np.logical_not(stat_map_data._mask)])
> >          stat_map_max = np.nanmax(stat_map_data)
> >          stat_map_min = np.nanmin(stat_map_data)
> > +
> > -    if symmetric_cbar == 'auto':
> > -        symmetric_cbar = stat_map_min < 0
> 
> To be frank I don't think I have encountered such a use case in the
> past: while positive values van be seen for variance images, I have no
> idea of the equivalent for negative images.
> On the other hand, I thinks that adding this use case could be useful
> in some cases that I can't figure out at the moment, and will not harm.
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/293/files#r22573993
",86f3d6b81dcbff8fcd42047eb7e3961d7a43ae08,"(None, '', u'nilearn/plotting/img_plotting.py')",Ok sent phone pleas forgiv breviti mi spell On jan 7 2015 0843 0843 bthirion notificationsgithubcom wrote,N,2015-02-05 14:34:35
51,pull_request_commit_comment,293,nilearn,nilearn,AlexandreAbraham,2015-02-05 14:34:35,"Thanks for all these details!
",86f3d6b81dcbff8fcd42047eb7e3961d7a43ae08,"(15, '', u'nilearn/_utils/fixes/matplotlib_backports.py')",thank detail,N,2015-02-05 14:36:07
52,pull_request_commit_comment,293,nilearn,nilearn,AlexandreAbraham,2015-02-05 14:36:07,"I prefer to enclose boolean expression in parenthesis `
symmetric_cbar = (stat_map_min < 0 and stat_map_max > 0)`
",86f3d6b81dcbff8fcd42047eb7e3961d7a43ae08,"(None, '', u'nilearn/plotting/img_plotting.py')",I prefer enclos boolean express parenthesi,N,2015-02-05 14:38:20
53,pull_request_commit_comment,293,nilearn,nilearn,AlexandreAbraham,2015-02-05 14:38:20,"Same here.
",86f3d6b81dcbff8fcd42047eb7e3961d7a43ae08,"(None, '', u'nilearn/plotting/img_plotting.py')",same,N,2015-02-05 16:10:52
54,pull_request_commit_comment,293,nilearn,nilearn,GaelVaroquaux,2015-02-05 16:10:52,"Why are why introducing new keywords: could we use 'vmax' and 'threshold'?
",86f3d6b81dcbff8fcd42047eb7e3961d7a43ae08,"(13, '', u'nilearn/plotting/img_plotting.py')",whi introduc new keyword could use vmax threshold,N,2015-02-05 16:13:12
55,pull_request_commit_comment,293,nilearn,nilearn,GaelVaroquaux,2015-02-05 16:13:12,"@eickenberg convinced.
",86f3d6b81dcbff8fcd42047eb7e3961d7a43ae08,"(13, '', u'nilearn/plotting/img_plotting.py')",eickenberg convinc,N,2015-02-05 16:14:26
56,pull_request_commit_comment,293,nilearn,nilearn,GaelVaroquaux,2015-02-05 16:14:26,"I meant: @eickenberg convinced me.
",86f3d6b81dcbff8fcd42047eb7e3961d7a43ae08,"(13, '', u'nilearn/plotting/img_plotting.py')",I meant eickenberg convinc,N,2015-02-05 16:14:44
58,pull_request_commit,293,nilearn,nilearn,eickenberg,2014-11-24 10:15:52,ENH added symmetric_cbar keyword to plot_stat_map,ab614e7e052c6a06d0ea2771de4dc59b0965fd8d,,enh ad symmetriccbar keyword plotstatmap,N,2015-02-05 14:00:56
59,pull_request_commit,293,nilearn,nilearn,eickenberg,2015-02-05 14:00:56,FIX matplotlib 1.4.2 issue,31ca37307275982f0b4013e790ef97ad4390f917,,fix matplotlib 142 issu,N,2015-02-05 14:52:49
60,pull_request_commit,293,nilearn,nilearn,eickenberg,2015-02-05 14:52:49,COS parentheses around boolean expressions,c50184d3e1e49af910153b66ce4531cd145d3063,,co parenthes around boolean express,N,2015-02-05 15:10:13
1,issue_title,462,nilearn,nilearn,bcipolli,2015-02-25 16:04:12,"``` python
from nilearn import datasets
from nilearn.image import iter_img, index_img

haxby_dataset = datasets.fetch_haxby_simple()
func_img_1 = index_img(haxby_dataset.func, 0)
print list(iter_img([func_img_1]))
```

**Expected:**
a list of one image.

**Current Behavior:**
The image is duplicated.
`[<nibabel.nifti1.Nifti1Image object at 0x10bcf4f90>, <nibabel.nifti1.Nifti1Image object at 0x10bcf4f90>]`

**Notes:**
I believe this problem may be deeper rooted (and more severe than just this example).  I found this while debugging `check_niimgs`, which I believe has a bug with how it deals with iterators.  But I don't have time to dig deeper into this.
",start issue,iter_img on a list of 3D images duplicates the first image,expect list one imag current behavior the imag duplic note I believ problem may deeper root sever exampl I found debug I believ bug deal iter but I dont time dig deeper,N,2015-02-25 16:10:34
2,issue_closed,462,nilearn,nilearn,bcipolli,2015-02-25 16:10:34,,closed issue,iter_img on a list of 3D images duplicates the first image,,N,2015-02-25 16:10:05
3,issue_comment,462,nilearn,nilearn,AlexandreAbraham,2015-02-25 16:10:05,"Works for me on nilearn/master: 

```
In [7]: print list(iter_img([func_img_1]))
[<nibabel.nifti1.Nifti1Image object at 0x7fe511a81890>]
```
",,,work nilearnmast,N,2015-02-25 16:10:34
4,issue_comment,462,nilearn,nilearn,bcipolli,2015-02-25 16:10:34,"Lemme try that again :)
",,,lemm tri,N,2015-02-25 16:14:00
5,issue_comment,462,nilearn,nilearn,AlexandreAbraham,2015-02-25 16:14:00,"I would have waited for somebody else to try before closing (since we all have different software environments) but if you think you can check by yourself, it's fine!
",,,I would wait somebodi els tri close sinc differ softwar environ think check fine,N,2015-02-25 16:26:40
1,issue_title,366,nilearn,nilearn,bcipolli,2015-01-22 18:18:08,"Another developer-focused code change that I found I needed when doing Python 2.6 / Python 3.x support.

**Expectation:**
- It is possible to completely turn off output.

**Current behavior:**
- A number of dataset download functions print, even at `verbosity=0`

**Notes:**
Currently, the tests print a lot of output during testing.  This makes viewing test output very challenging--I have to search/scroll for error information, and even getting to the final output requires a lot of scrolling.

**Proposed solutions:**
Either:
- Define a schema for what verbosity means (0=silent, 1=errors, 2=warnings, 3=standard user output, 4=debug info, etc.), and use it

or
- Instead of passing a verbosity, pass a logger from the `logging` module.
- Create a `nilearn._utils.logger` object in the `nilearn._utils.__init__' file, that will be the default logger.

I would prefer the second solution; I think anyone wanting to actually manipulate the logging would either know the `logging` module, or would ""get"" it pretty quickly (it's not hard)

Again, this is a developer-side feature that I'm happy to implement in order to make my own life easier.
",start issue,Verbosity=0 should mean silent,anoth developerfocus code chang I found I need python 26 python 3x support expect It possibl complet turn output current behavior A number dataset download function print even note current test print lot output test thi make view test output challengingi searchscrol error inform even get final output requir lot scroll propos solut either defin schema verbos mean 0silent 1error 2warn 3standard user output 4debug info etc use instead pass verbos pass logger modul creat object log,N,2015-02-02 08:23:02
6,issue_comment,366,nilearn,nilearn,GaelVaroquaux,2015-01-24 18:43:59,"> ```
> My guess: print statements :)
> ```
> 
> Sure but what I don't understand is why Python 3 support would be dependent on
> this issue.

Granted. It just requires touching the same lines, and thus would raise
conflicts in version control if dealt with in parallel.
",,,grant It requir touch line thu would rais conflict version control dealt parallel,N,2015-01-26 08:43:10
11,issue_comment,366,nilearn,nilearn,bcipolli,2015-01-24 21:17:17,"Debugging test failures with all the print statements is laborious.
",,,debug test failur print statement labori,Y,2015-01-26 08:22:54
12,issue_comment,366,nilearn,nilearn,lesteve,2015-01-26 08:22:54,"> Debugging test failures with all the print statements is laborious.

Removing the `-s` flag from the nosetests command should revert to the default nosetests behaviour which is to capture stdout, maybe it does help a bit.
",,,remov flag nosetest command revert default nosetest behaviour captur stdout mayb help bit,N,2015-01-26 08:47:38
1,issue_title,398,nilearn,nilearn,GaelVaroquaux,2015-02-05 13:40:47,"Tentative fix for #340 

For now, it is only implemented for NiftiLabelsMasker. I will work on NiftiMapsMasker, but I welcome feedback eg from @AlexandreAbraham  and @lesteve 
",start issue,"ENH: resample_data=""data"" for LabelsMasker",tent fix 340 for implement niftilabelsmask I work niftimapsmask I welcom feedback eg alexandreabraham lestev,N,2015-02-05 16:06:09
2,issue_closed,398,nilearn,nilearn,GaelVaroquaux,2015-02-05 16:06:09,,closed issue,"ENH: resample_data=""data"" for LabelsMasker",,N,2015-02-05 13:40:47
3,pull_request_title,398,nilearn,nilearn,GaelVaroquaux,2015-02-05 13:40:47,"Tentative fix for #340 

For now, it is only implemented for NiftiLabelsMasker. I will work on NiftiMapsMasker, but I welcome feedback eg from @AlexandreAbraham  and @lesteve 
",abe01ebd63395442d3263a3f5462a6d9837b6f2d,"ENH: resample_data=""data"" for LabelsMasker",tent fix 340 for implement niftilabelsmask I work niftimapsmask I welcom feedback eg alexandreabraham lestev,N,2015-02-05 16:06:09
4,pull_request_merged,398,nilearn,nilearn,GaelVaroquaux,2015-02-05 16:06:09,"ENH: resample_data=""data"" for LabelsMasker",119d25f117f197ffe0767f78b0ff5834a2dc6bf1,Pull request merge from GaelVaroquaux/nilearn:resample_data to nilearn/nilearn:master,enh resampledatadata labelsmask,N,2015-02-05 15:39:57
5,issue_comment,398,nilearn,nilearn,GaelVaroquaux,2015-02-05 15:39:57,"Any more reviews, I think this is mergeable.
",,,ani review I think mergeabl,N,2015-02-05 16:06:04
6,issue_comment,398,nilearn,nilearn,GaelVaroquaux,2015-02-05 16:06:04,"Tests pass. I am merging.
",,,test pass I merg,Y,2015-02-05 15:44:17
7,issue_comment,398,nilearn,nilearn,lesteve,2015-02-05 15:44:17,"LGTM
",,,lgtm,N,2015-02-05 14:18:21
8,pull_request_commit_comment,398,nilearn,nilearn,AlexandreAbraham,2015-02-05 14:18:21,"Use `get_affine()`.
",abe01ebd63395442d3263a3f5462a6d9837b6f2d,"(None, '', u'nilearn/_utils/niimg_conversions.py')",use,N,2015-02-05 14:21:18
9,pull_request_commit_comment,398,nilearn,nilearn,AlexandreAbraham,2015-02-05 14:21:18,"`interpolation=""nearest""`
",abe01ebd63395442d3263a3f5462a6d9837b6f2d,"(None, '', u'nilearn/input_data/nifti_region.py')",,N,2015-02-05 15:10:01
10,pull_request_commit_comment,398,nilearn,nilearn,lesteve,2015-02-05 15:10:01,"Do we want a test that uses an explicit resampling_target=""data"" to check that it is the same as not specifying resampling_target?
",abe01ebd63395442d3263a3f5462a6d9837b6f2d,"(36, '', u'nilearn/input_data/tests/test_nifti_region.py')",Do want test use explicit resamplingtargetdata check specifi resamplingtarget,Y,2015-02-05 15:39:24
11,pull_request_commit_comment,398,nilearn,nilearn,GaelVaroquaux,2015-02-05 15:39:24,"I think that it is not necessary, as long as we keep an eye on the coverage.
",abe01ebd63395442d3263a3f5462a6d9837b6f2d,"(36, '', u'nilearn/input_data/tests/test_nifti_region.py')",I think necessari long keep eye coverag,N,2015-02-05 13:38:57
12,pull_request_commit,398,nilearn,nilearn,GaelVaroquaux,2015-02-05 13:38:57,"ENH: resample_data=""data"" for LabelsMasker",586b3aa7d26b55a0ab929269afb2b2f6c3d355ec,,enh resampledatadata labelsmask,N,2015-02-05 14:55:40
13,pull_request_commit,398,nilearn,nilearn,GaelVaroquaux,2015-02-05 14:55:40,BUG: fix issues noted by @AlexAbraham,8db091343e21756d5770467c910584669c786306,,bug fix issu note alexabraham,N,2015-02-05 15:13:08
14,pull_request_commit,398,nilearn,nilearn,GaelVaroquaux,2015-02-05 15:13:08,ENH: resampling_target='data' on MapsMasker,67bacdede21b9e720dc497b618050c9cb16422ce,,enh resamplingtargetdata mapsmask,N,2015-02-05 15:54:12
1,issue_title,456,nilearn,nilearn,banilo,2015-02-23 10:30:30,,start issue,img_plotting: simplify NaN check,,N,2015-02-27 00:17:04
2,issue_closed,456,nilearn,nilearn,AlexandreAbraham,2015-02-27 00:17:04,,closed issue,img_plotting: simplify NaN check,,N,2015-02-23 10:30:30
3,pull_request_title,456,nilearn,nilearn,banilo,2015-02-23 10:30:30,,d28e215aac31a8aa97748472f25fcc0a8099d97f,img_plotting: simplify NaN check,,N,2015-02-27 00:17:04
4,pull_request_merged,456,nilearn,nilearn,AlexandreAbraham,2015-02-27 00:17:04,img_plotting: simplify NaN check,2dd4bcf53821a126796f57f7aa2eb7fd2bbfb343,Pull request merge from banilo/nilearn:nanfix to nilearn/nilearn:master,imgplot simplifi nan check,N,2015-02-23 12:04:24
5,issue_comment,456,nilearn,nilearn,banilo,2015-02-23 12:04:24,"Patched.
",,,patch,N,2015-02-23 10:37:43
6,pull_request_commit_comment,456,nilearn,nilearn,AlexandreAbraham,2015-02-23 10:37:43,"I haven't done any bench but my gut feeling is that this:

```
if np.any(np.isnan(data)):
 data = np.nan_to_num(data)
```

is slower than:

```
data = np.nan_to_num(data)
```
",d28e215aac31a8aa97748472f25fcc0a8099d97f,"(None, '', u'nilearn/plotting/img_plotting.py')",I havent done bench gut feel slower,N,2015-02-23 10:39:12
7,pull_request_commit_comment,456,nilearn,nilearn,banilo,2015-02-23 10:39:12,"Rationale: if there is an established numpy-version of the operation, why not use this one, rather than redo by hand?
",d28e215aac31a8aa97748472f25fcc0a8099d97f,"(None, '', u'nilearn/plotting/img_plotting.py')",rational establish numpyvers oper use one rather redo hand,N,2015-02-23 10:42:15
8,pull_request_commit_comment,456,nilearn,nilearn,GaelVaroquaux,2015-02-23 10:42:15,"To test if there are nans, this is actually quite slow. The fast way of
doing it is ""np.isnan(np.sum(array))"".
",d28e215aac31a8aa97748472f25fcc0a8099d97f,"(None, '', u'nilearn/plotting/img_plotting.py')",To test nan actual quit slow the fast way npisnannpsumarray,Y,2015-02-23 11:53:57
9,pull_request_commit_comment,456,nilearn,nilearn,lesteve,2015-02-23 11:53:57,"An additional tiny remark there is a slight difference vs the previous version of the code because you are not using np.asarray any more.

This can make a difference for masked or memapped arrays. Whether this actually matters in practice I am not sure.
",d28e215aac31a8aa97748472f25fcc0a8099d97f,"(None, '', u'nilearn/plotting/img_plotting.py')",An addit tini remark slight differ vs previou version code use npasarray thi make differ mask memap array whether actual matter practic I sure,N,2015-02-23 11:58:24
10,pull_request_commit_comment,456,nilearn,nilearn,banilo,2015-02-23 11:58:24,"img.get_data() does already give a numpy array and np.isnan() can handle non-1D...
",d28e215aac31a8aa97748472f25fcc0a8099d97f,"(None, '', u'nilearn/plotting/img_plotting.py')",imggetdata alreadi give numpi array npisnan handl non1d,N,2015-02-23 10:29:06
11,pull_request_commit,456,nilearn,nilearn,banilo,2015-02-23 10:29:06,simplify NaN check,936d4ace3e840ca7eedb022cb85052129dd75f1d,,simplifi nan check,N,2015-02-23 12:03:59
1,issue_title,502,nilearn,nilearn,lesteve,2015-03-18 13:41:04,"Supersedes #397.

The main rationale was for the versions to be roughly 2 years old and
to support neurodebian on Ubuntu 12.04.

As part of this change, implemented a minimum required version check for
matplotlib in `nilearn/plotting/__init__.py`.

The ubuntu and ubuntu-no-matplotlib travis distribs have been replaced by conda based ones using the same package versions available as in Ubuntu 14.04.
",start issue,Bump up nilearn required dependencies versions,supersed 397 the main rational version roughli 2 year old support neurodebian ubuntu 1204 As part chang implement minimum requir version check matplotlib the ubuntu ubuntunomatplotlib travi distrib replac conda base one use packag version avail ubuntu 1404,N,2015-03-19 11:47:58
2,issue_closed,502,nilearn,nilearn,lesteve,2015-03-19 11:47:58,,closed issue,Bump up nilearn required dependencies versions,,N,2015-03-18 13:41:04
3,pull_request_title,502,nilearn,nilearn,lesteve,2015-03-18 13:41:04,"Supersedes #397.

The main rationale was for the versions to be roughly 2 years old and
to support neurodebian on Ubuntu 12.04.

As part of this change, implemented a minimum required version check for
matplotlib in `nilearn/plotting/__init__.py`.

The ubuntu and ubuntu-no-matplotlib travis distribs have been replaced by conda based ones using the same package versions available as in Ubuntu 14.04.
",62c86d407f84117f5ae0965f204ed798bf013541,Bump up nilearn required dependencies versions,supersed 397 the main rational version roughli 2 year old support neurodebian ubuntu 1204 As part chang implement minimum requir version check matplotlib the ubuntu ubuntunomatplotlib travi distrib replac conda base one use packag version avail ubuntu 1404,N,2015-03-19 11:47:58
4,pull_request_merged,502,nilearn,nilearn,lesteve,2015-03-19 11:47:58,Bump up nilearn required dependencies versions,0482fb5517a432ea7d35c50fa2bddfe1a9487537,Pull request merge from lesteve/nilearn:bump-up-required-versions to nilearn/nilearn:master,bump nilearn requir depend version,N,2015-03-18 13:53:28
5,pull_request_commit_comment,502,nilearn,nilearn,lesteve,2015-03-18 13:53:28,"I had to shuffle things around a little bit here. Basically I both wanted
- the matplotlib minimum version should be always checked 
- Agg backend should only be used for posix platforms when the DISPLAY environment variable is not defined (e.g. on Travis)
",62c86d407f84117f5ae0965f204ed798bf013541,"(39, '', u'nilearn/plotting/__init__.py')",I shuffl thing around littl bit basic I want matplotlib minimum version alway check agg backend use posix platform display environ variabl defin eg travi,Y,2015-03-18 15:02:03
6,pull_request_commit_comment,502,nilearn,nilearn,GaelVaroquaux,2015-03-18 15:02:03,"Why?
",62c86d407f84117f5ae0965f204ed798bf013541,"(None, '', u'README.rst')",whi,N,2015-03-18 15:04:00
7,pull_request_commit_comment,502,nilearn,nilearn,GaelVaroquaux,2015-03-18 15:04:00,"Did you check that the version on Ubuntu 12.04 passes the test? It seems to be an 1.1.1rc1 from what I can see here:
http://packages.ubuntu.com/search?suite=precise&searchon=names&keywords=matplotlib
",62c86d407f84117f5ae0965f204ed798bf013541,"(39, '', u'nilearn/plotting/__init__.py')",did check version ubuntu 1204 pass test It seem 111rc1 I see,Y,2015-03-18 15:17:01
8,pull_request_commit_comment,502,nilearn,nilearn,lesteve,2015-03-18 15:17:01,"1.3.0 is quite old according to piprot:

```
~/dev/nilearn $ piprot <(echo nibabel==1.3.0)
nibabel (1.3.0) is 819 days out of date. Latest is 2.0.0
Your requirements are 819 days out of date
```

Also this is the version that neurodebian on Ubuntu 12.04 comes with.
",62c86d407f84117f5ae0965f204ed798bf013541,"(None, '', u'README.rst')",130 quit old accord piprot also version neurodebian ubuntu 1204 come,N,2015-03-18 15:18:13
9,pull_request_commit_comment,502,nilearn,nilearn,AlexandreAbraham,2015-03-18 15:18:13,"Note: we don't support 12.04 anymore (because of numpy / scipy). We only support 12.04 neurodebian. This way, we can upgrade most of packages.
From 1.1.0 to 1.3.0, a lot of significant bugs were fixed. Also, some code to handle affine transformations was added. We can rely on it and thus simplify nilearn's code.
",62c86d407f84117f5ae0965f204ed798bf013541,"(None, '', u'README.rst')",note dont support 1204 anymor numpi scipi We support 1204 neurodebian thi way upgrad packag from 110 130 lot signific bug fix also code handl affin transform ad We reli thu simplifi nilearn code,N,2015-03-18 15:20:43
10,pull_request_commit_comment,502,nilearn,nilearn,lesteve,2015-03-18 15:20:43,"Yeah LooseVersion doesn't seem to be very knowledgeable about rc, alpha, et al. versions ...

```
In [1]: from distutils.version import LooseVersion

In [2]: LooseVersion('1.1.1rc') > LooseVersion('1.1.1')
Out[2]: True

In [3]: LooseVersion('1.1.1a1') > LooseVersion('1.1.1')
Out[3]: True
```

Also we decided to drop support for bog-standard Ubuntu 12.04 versions long ago in #397 by requiring sklearn >= 0.12.1.
",62c86d407f84117f5ae0965f204ed798bf013541,"(39, '', u'nilearn/plotting/__init__.py')",yeah loosevers doesnt seem knowledg rc alpha et al version also decid drop support bogstandard ubuntu 1204 version long ago 397 requir sklearn,N,2015-03-18 15:22:12
11,pull_request_commit_comment,502,nilearn,nilearn,GaelVaroquaux,2015-03-18 15:22:12,"> From 1.1.0 to 1.3.0, a lot of significant bugs were fixed. Also, some code to
> handle affine transformations was added. We can rely on it and thus simplify
> nilearn's code.

OK, these are good arguments.
",62c86d407f84117f5ae0965f204ed798bf013541,"(None, '', u'README.rst')",OK good argument,N,2015-03-18 17:39:55
12,pull_request_commit_comment,502,nilearn,nilearn,AlexandreAbraham,2015-03-18 17:39:55,"However, I think we should do that in a separate PR where we actually use these new features. In the meantime, if the code works with 1.1.0, I see no (good enough) reason to ask for a more recnt one.
",62c86d407f84117f5ae0965f204ed798bf013541,"(None, '', u'README.rst')",howev I think separ PR actual use new featur In meantim code work 110 I see good enough reason ask recnt one,N,2015-03-18 18:34:40
13,pull_request_commit_comment,502,nilearn,nilearn,lesteve,2015-03-18 18:34:40,"> In the meantime, if the code works with 1.1.0, I see no (good enough) reason to ask for a more recnt one.

What about finding some middle ground and going for 1.2.2, which is the version the version of [python-nibabel](http://packages.ubuntu.com/trusty/python-nibabel) in Ubuntu 14.04?
",62c86d407f84117f5ae0965f204ed798bf013541,"(None, '', u'README.rst')",what find middl ground go 122 version version pythonnibabel ubuntu 1404,N,2015-03-18 18:45:11
14,pull_request_commit_comment,502,nilearn,nilearn,GaelVaroquaux,2015-03-18 18:45:11,"> What about finding some middle ground and going for 1.2.2, which is the
> version the version of python-nibabel in Ubuntu 14.04?

We certainly should not go above that.

But what is the argument in favor of bumping the version? What is the
logic? What does it gain us and the user?
",62c86d407f84117f5ae0965f204ed798bf013541,"(None, '', u'README.rst')",We certainli go but argument favor bump version what logic what gain us user,N,2015-03-18 19:21:32
15,pull_request_commit_comment,502,nilearn,nilearn,lesteve,2015-03-18 19:21:32,"Citing from the original PR #397.

> > In particular does scikit-learn 0.12.1 have a special meaning?
> 
> No. It's a configuration that's 2 years old, and we felt that 2 years old was a good time.

I guess I assumed that updating all dependencies in a reasonably uniform manner was the sensible thing to do.

Side comment, it seems that with our installation instructions (pip install nilearn -U --user) nibabel will always been updated to the latest version anyway (I tried both with nibabel is install via apt-get and in a conda environment).
",62c86d407f84117f5ae0965f204ed798bf013541,"(None, '', u'README.rst')",cite origin PR 397 I guess I assum updat depend reason uniform manner sensibl thing side comment seem instal instruct pip instal nilearn U user nibabel alway updat latest version anyway I tri nibabel instal via aptget conda environ,N,2015-03-18 21:33:57
16,pull_request_commit_comment,502,nilearn,nilearn,GaelVaroquaux,2015-03-18 21:33:57,"> Citing from the original PR #397.
> 
> ```
>     In particular does scikit-learn 0.12.1 have a special meaning?
>     No. It's a configuration that's 2 years old, and we felt that 2 years
>     old was a good time.
> ```
> 
> I guess I assumed that updating all dependencies in a reasonably
> uniform manner was the sensible thing to do.

That means that you are forcing all your users to upgrade their system
every two year, when you decide that it's time (like now). These people
want to use nilearn to solve their problem as fast as possible, and
probably don't fancy having an update to do. We need to bump dependencies
only if there is an argument for it. The old scikit-learn was a big
problem, with accumulating backports. I don't see a strong argument for
the nilearn dependency bump, but maybe there is one.

> Side comment, it seems that with our installation instructions (pip install
> nilearn -U --user) nibabel will always been updated to the latest version
> anyway (I tried both with nibabel is install via apt-get and in a conda
> environment).

Don't get me started on how the semantics of pip are broken. It's the
only thing that we have unfortunately.
",62c86d407f84117f5ae0965f204ed798bf013541,"(None, '', u'README.rst')",that mean forc user upgrad system everi two year decid time like these peopl want use nilearn solv problem fast possibl probabl dont fanci updat We need bump depend argument the old scikitlearn big problem accumul backport I dont see strong argument nilearn depend bump mayb one dont get start semant pip broken it thing unfortun,N,2015-03-18 21:49:56
17,pull_request_commit_comment,502,nilearn,nilearn,lesteve,2015-03-18 21:49:56,"OK I reverted nibabel required version to 1.1.0.
",62c86d407f84117f5ae0965f204ed798bf013541,"(None, '', u'README.rst')",OK I revert nibabel requir version 110,N,2015-03-18 12:06:22
18,pull_request_commit,502,nilearn,nilearn,lesteve,2015-03-18 12:06:22,"Bump up nilearn required dependencies versions

The main rationale was for the versions to be roughly 2 years old and
to support neurodebian on Ubuntu 12.04.

As part of this change, implemented a minimum required version check for
matplotlib in nilearn/plotting/__init__.py.",1cb7d7c9e2978ee19d0e782945d57420a2055840,,bump nilearn requir depend version the main rational version roughli 2 year old support neurodebian ubuntu 1204 As part chang implement minimum requir version check matplotlib nilearnplottinginitpi,N,2015-03-18 13:55:06
19,pull_request_commit,502,nilearn,nilearn,lesteve,2015-03-18 13:55:06,"Fix required versions in README.rst

to match the ones required in nilearn/version.py",083b7284a3e4f64a19127f4a71fe0ecf762e2b5f,,fix requir version readmerst match one requir nilearnversionpi,N,2015-03-18 21:48:43
1,issue_title,414,nilearn,nilearn,eickenberg,2015-02-06 12:09:21,"Adds test cases that run the scenarios where #410 and #409 ran into bugs.
",start issue,TST smoke tests for bugfixes for issues 409 and 410,add test case run scenario 410 409 ran bug,N,2015-02-06 13:54:55
2,issue_closed,414,nilearn,nilearn,lesteve,2015-02-06 13:54:55,,closed issue,TST smoke tests for bugfixes for issues 409 and 410,,N,2015-02-06 12:09:21
3,pull_request_title,414,nilearn,nilearn,eickenberg,2015-02-06 12:09:21,"Adds test cases that run the scenarios where #410 and #409 ran into bugs.
",94ed0aa814f813d507873b18fd1c0ad84fbe385f,TST smoke tests for bugfixes for issues 409 and 410,add test case run scenario 410 409 ran bug,N,2015-02-06 13:54:55
4,pull_request_merged,414,nilearn,nilearn,lesteve,2015-02-06 13:54:55,TST smoke tests for bugfixes for issues 409 and 410,c800ea07b0b61eb0ffa1fca8b43b89a196ff8bb4,Pull request merge from eickenberg/nilearn:test_issues_409_410 to nilearn/nilearn:master,tst smoke test bugfix issu 409 410,N,2015-02-06 13:10:18
5,issue_comment,414,nilearn,nilearn,GaelVaroquaux,2015-02-06 13:10:18,"Can we make the array a bit smaller: right now it is 20x20x20. I am a bit afraid at the cumulated time that this test is taking.
",,,can make array bit smaller right 20x20x20 I bit afraid cumul time test take,Y,2015-02-06 14:10:54
6,issue_comment,414,nilearn,nilearn,GaelVaroquaux,2015-02-06 14:10:54,"55s is really nasty. We'll have to reduce this. We are accumulating
technical debt here.
",,,55 realli nasti well reduc We accumul technic debt,N,2015-02-06 13:33:58
7,issue_comment,414,nilearn,nilearn,lesteve,2015-02-06 13:33:58,"There is an issue for speeding up the plotting tests #408. I'd be in favour of merging this and tackling the plotting tests slowness after the release.
",,,there issu speed plot test 408 Id favour merg tackl plot test slow releas,Y,2015-02-06 13:43:23
8,issue_comment,414,nilearn,nilearn,AlexandreAbraham,2015-02-06 13:43:23,"If plotting is the bottleneck, you can use the backend `template` (I have seen that currently the tests use `svg`). `template` is an empty backend that doesn't draw anything. But I don' t think that the speed up will be significant.
",,,If plot bottleneck use backend I seen current test use empti backend doesnt draw anyth but I think speed signific,Y,2015-02-06 13:54:51
9,issue_comment,414,nilearn,nilearn,lesteve,2015-02-06 13:54:51,"OK merging this one. @AlexandreAbraham can you add your suggestion of using the `template` bottleneck in #408 so that we don't forget about it?
",,,OK merg one alexandreabraham add suggest use bottleneck 408 dont forget,N,2015-02-06 13:23:37
10,issue_comment,414,nilearn,nilearn,eickenberg,2015-02-06 13:23:37,"Gladly, but I cannot go lower than 7 on axes x and y because of the axis slicer who seems to expect at least this. So now I am running all the previous tests for positive, negative and mixed data, that means I am doing 3 \* 10 = 30 plots. In total this takes around 55 seconds.

The only way to reduce this significantly is by doing less test cases, not by reducing the image size - we are almost in pure plotting overhead here. I could do positive/negative/mixed only for plot_stat_map for instance.
",,,gladli I cannot go lower 7 axe x axi slicer seem expect least So I run previou test posit neg mix data mean I 3 10 30 plot In total take around 55 second the way reduc significantli less test case reduc imag size almost pure plot overhead I could positivenegativemix plotstatmap instanc,Y,2015-02-06 12:58:32
11,pull_request_commit_comment,414,nilearn,nilearn,lesteve,2015-02-06 12:58:32,"Should we try to add similar tests for plot_stat_map where the data has both positive and negative values?
",94ed0aa814f813d507873b18fd1c0ad84fbe385f,"(None, '', u'nilearn/plotting/tests/test_img_plotting.py')",should tri add similar test plotstatmap data posit neg valu,Y,2015-02-06 12:08:13
12,pull_request_commit,414,nilearn,nilearn,eickenberg,2015-02-06 12:08:13,TST smoke tests for bugfixes for issues 409 and 410,d33ac49c7f3627b72a40103f974fe70227fb2569,,tst smoke test bugfix issu 409 410,N,2015-02-06 13:20:22
1,issue_title,444,nilearn,nilearn,bcipolli,2015-02-19 16:55:38,"Current code and error message:

``` python
                 if self.n_components > subject_pca.shape[0]:
                    raise ValueError('You asked for %i components.'
                                     'This is smaller than single-subject '
                                     'data size.' % self.n_components)
```

Two fixes, one suggestion:
- `smaller` should be `larger`.
- Whitespace is missing between the two sentences.
- Suggest: also output the single-subject data size, to help the user debug.

I coded this on my machine as:

``` python
                 if self.n_components > subject_pca.shape[0]:
                    raise ValueError('You asked for %i components. '
                                     'This is larger than the single-subject '
                                     'data size (%d).' % (self.n_components,
                                                          subject_pca.shape[0]))
```
",start issue,Incorrect error message with missing whitespace in MultiPCA,current code error messag two fix one suggest whitespac miss two sentenc suggest also output singlesubject data size help user debug I code machin,N,2015-02-21 00:18:11
2,issue_closed,444,nilearn,nilearn,bcipolli,2015-02-21 00:18:11,,closed issue,Incorrect error message with missing whitespace in MultiPCA,,N,2015-02-21 00:18:10
3,issue_comment,444,nilearn,nilearn,bcipolli,2015-02-21 00:18:10,"lol :)  Fixed in #447.
",,,lol fix 447,N,2015-02-19 17:45:48
4,issue_comment,444,nilearn,nilearn,lesteve,2015-02-19 17:45:48,"Good catch and I agree on all your points! For small fixes like this don't hesitate to do a PR directly, it does reduce the overhead a little bit.

Bonus message if you add a test where you check the error message if there is none already.
",,,good catch I agre point for small fix like dont hesit PR directli reduc overhead littl bit bonu messag add test check error messag none alreadi,Y,2015-02-19 21:48:17
5,issue_comment,444,nilearn,nilearn,lesteve,2015-02-19 21:48:17,"> Or just push it into master :P (private joke for @lesteve).

:laughing: 
",,,laugh,N,2015-02-19 18:14:42
2,issue_closed,449,nilearn,nilearn,AlexandreAbraham,2016-06-07 22:03:04,,closed issue,Background color not painted when using subplot.,,N,2015-02-20 07:49:42
3,issue_comment,449,nilearn,nilearn,lesteve,2015-02-20 07:49:42,"In my mind passing an axes to plot_\* functions is an advanced usage and as a consequence you need to know a little bit more what you are doing.

Changing the background of the figure would be fine provided we check that the figure facecolor is not different than the default from rcParams. I may want to create a figure with a green background for my plot and I would be pretty annoyed if the color was overriden by the black_bg argument of the plot_ function.
",,,In mind pass axe plot function advanc usag consequ need know littl bit chang background figur would fine provid check figur facecolor differ default rcparam I may want creat figur green background plot I would pretti annoy color overriden blackbg argument plot function,N,2015-02-20 07:59:38
4,issue_comment,449,nilearn,nilearn,bcipolli,2015-02-20 07:59:38,"Looking at the code, the background color of the ""L"" and ""R"" text is hard-coded to black or white.  My preference would be to make that code a bit smarter (to use black if `black_bg` is set, otherwise, pull the figure face color and use that).

https://github.com/nilearn/nilearn/blob/master/nilearn/plotting/displays.py#L583

I have a change on my machine that does this, but I'm not sure it generalizes to all object types that the `axes` parameter could accept.  Note that the label actually has a grey background (i.e. it isn't transparent)

![image](https://cloud.githubusercontent.com/assets/4072455/6283028/45d0319a-b893-11e4-8bc4-a7f6017c9b31.png)
",,,look code background color L R text hardcod black white My prefer would make code bit smarter use black set otherwis pull figur face color use I chang machin Im sure gener object type paramet could accept note label actual grey background ie isnt transpar imag,N,2015-02-20 09:02:05
5,issue_comment,449,nilearn,nilearn,AlexandreAbraham,2015-02-20 09:02:05,"> In my mind passing an axes to plot_\* functions is an advanced usage and as a consequence you need to know a little bit more what you are doing.

Not so advanced. People may copy-paste from the internets.
Why not setting the background of the _axis_ only to white or black? Advanced users will know how to revert it to another color if needed.

I honestly don't think that not handling figures with green background is a big drawback. But the rendering should be correct for default parameters at least.
",,,not advanc peopl may copypast internet whi set background axi white black advanc user know revert anoth color need I honestli dont think handl figur green background big drawback but render correct default paramet least,N,2015-02-20 16:05:51
6,issue_comment,449,nilearn,nilearn,bcipolli,2015-02-20 16:05:51,"I disagree that subplotting is advanced.  I always do subplotting and I have never touched face colors.  There's also an example that uses subplotting (and I think that's good!), so using axes should be available to all users.

Another compromise, different than the one above, is to remove the colored bounding box and move the labels a bit farther away from the brains, to avoid overlap in all reasonable cases.  

Indeed, I noticed that the padding of the bounding box is not very good above (note how the ""L"" touches the border of the brain), and in playing with that last night I settled this (bounding box still colored):

![image](https://cloud.githubusercontent.com/assets/4072455/6289681/9ef29978-b8d6-11e4-91bf-40c3fee3997e.png)
![image](https://cloud.githubusercontent.com/assets/4072455/6289679/95a5cbce-b8d6-11e4-8e2a-f4881ef77b9e.png)
![image](https://cloud.githubusercontent.com/assets/4072455/6289688/adb7e63e-b8d6-11e4-98a2-a073ecbbae0c.png)
![image](https://cloud.githubusercontent.com/assets/4072455/6289716/efd978b6-b8d6-11e4-9c9d-b1303d548aeb.png)

For me, that positioning looks better, and there is only label overlap with the brain at the very smallest (to me, unreasonable) sizes.  In that case, removing the colored bounding box seems reasonable to me.  Thoughts?
",,,I disagre subplot advanc I alway subplot I never touch face color there also exampl use subplot I think that good use axe avail user anoth compromis differ one remov color bound box move label bit farther away brain avoid overlap reason case inde I notic pad bound box good note L touch border brain play last night I settl bound box still color imag imag imag imag for posit look better label overlap brain smallest unreason size In case remov color bound box seem reason thought,N,2015-02-20 16:55:24
7,issue_comment,449,nilearn,nilearn,bcipolli,2015-02-20 16:55:24,"Note that this issue is also present for the slice position.  I've made a similar change.

From

![image](https://cloud.githubusercontent.com/assets/4072455/6304906/889cdaa2-b8dc-11e4-8fe8-a59c28131066.png)
and
![screen shot 2015-02-20 at 8 44 04 am](https://cloud.githubusercontent.com/assets/4072455/6304949/c4941f02-b8dc-11e4-9d92-bc0dab7f67f2.png)

To
![image](https://cloud.githubusercontent.com/assets/4072455/6305166/00196eaa-b8de-11e4-9667-fe242890719e.png)
and
![screen shot 2015-02-20 at 8 54 29 am](https://cloud.githubusercontent.com/assets/4072455/6305195/2e736bf2-b8de-11e4-9533-4b6f6f8cac5a.png)

Note that in this final cases, I had to tweak the logic such that if `position` is set, the background color is pulled from the figure, to avoid intersection of the ""L"" label and the cut localization lines.
",,,note issu also present slice posit ive made similar chang from imag screen shot 20150220 8 44 04 To imag screen shot 20150220 8 54 29 note final case I tweak logic set background color pull figur avoid intersect L label cut local line,N,2015-02-20 16:56:57
8,issue_comment,449,nilearn,nilearn,bcipolli,2015-02-20 16:56:57,"One more suggestion: having a set of plotting tests that are intended for visual inspection (so, local-only, skipped on Travis) and are annotated (through the title, perhaps) with what's being tested, would be great for testing changes to plotting code (and feeling more confident about it!)
",,,one suggest set plot test intend visual inspect localonli skip travi annot titl perhap what test would great test chang plot code feel confid,Y,2015-02-20 17:15:23
9,issue_comment,449,nilearn,nilearn,lesteve,2015-02-20 17:15:23,"How does it look like in terms of code changes?

If I am completely honest, my preference would be to tackle #212 i.e. provide a high-level construct to create the kind of plots you are showing rather than just having tiny improvements that make our plotting functions play a little bit nicer with figure suplots. 
",,,how look like term code chang If I complet honest prefer would tackl 212 ie provid highlevel construct creat kind plot show rather tini improv make plot function play littl bit nicer figur suplot,N,2015-02-20 17:27:05
10,issue_comment,449,nilearn,nilearn,lesteve,2015-02-20 17:27:05,"> One more suggestion: having a set of plotting tests that are intended for visual inspection (so, local-only, skipped on Travis) and are annotated (through the title, perhaps) with what's being tested, would be great for testing changes to plotting code (and feeling more confident about it!)

I agree it'd be nice to have better tests for plotting since at the moment we only have very limited smoke tests. I don't have a great suggestion for how to do that though. I meant to look at what matplotlib and seaborn was doing a while ago but I haven't got around to do it.
",,,I agre itd nice better test plot sinc moment limit smoke test I dont great suggest though I meant look matplotlib seaborn ago I havent got around,Y,2015-02-20 17:35:39
11,issue_comment,449,nilearn,nilearn,GaelVaroquaux,2015-02-20 17:35:39,"> Indeed, I noticed that the padding of the bounding box is not very good above
> (note how the ""L"" touches the border of the brain), and in playing with that
> last night I settled this (bounding box still colored):

can you show us the lines of code that you changed.
",,,show us line code chang,N,2015-02-20 17:36:19
12,issue_comment,449,nilearn,nilearn,bcipolli,2015-02-20 17:36:19,"I've done it in two ways in the past.
1. Use the `TRAVIS` environment variable to select / skip tests (i.e. skip plotting tests in Travis, leave it to local testing).  It just looks like `@skip_if(os.environ('TRAVIS'))`.
2. Implement a light-weight test runner that accepts command-line flags, where you can choose the types of tests (and again, set environment variables that are detected by the `@skip_if` decorator).

Regardless of which case (or any other), this kind of code can be abstracted into a set of simple decorators in the `testing` utils, so we can say `@skip_if_travis` or `@skip_if_not_plotting` or whatever abstractions are desired.
",,,ive done two way past 1 use environ variabl select skip test ie skip plot test travi leav local test It look like 2 implement lightweight test runner accept commandlin flag choos type test set environ variabl detect decor regardless case kind code abstract set simpl decor util say whatev abstract desir,Y,2015-02-20 17:39:17
13,issue_comment,449,nilearn,nilearn,bcipolli,2015-02-20 17:39:17,"> can you show us the lines of code that you changed.

@lesteve @GaelVaroquaux It's embedded in a change where I was trying to allow users to easily override any of the defaults.  Here's the code I'm running:
https://github.com/bcipolli/nilearn/compare/nilearn:master...bcipolli:issue-449?expand=1

Things looked relatively clean to me, except the last change to deal with the position/label conflict:
https://github.com/bcipolli/nilearn/blob/issue-449/nilearn/plotting/displays.py#L588
",,,lestev gaelvaroquaux it embed chang I tri allow user easili overrid default here code Im run thing look rel clean except last chang deal positionlabel conflict,N,2015-02-20 19:22:07
14,issue_comment,449,nilearn,nilearn,GaelVaroquaux,2015-02-20 19:22:07,"> 1. Use the TRAVIS environment variable to select / skip tests (i.e. skip
>    plotting tests in Travis, leave it to local testing). It just looks like
>    @skip_if(os.environ('TRAVIS')).
> 2. Implement a light-weight test runner that accepts command-line flags, where
>    you can choose the types of tests (and again, set environment variables
>    that are detected by the @skip_if decorator).

Hum, why would you need this? Why do you want to skip tests on travis? We
have never had to do it in the past.
",,,hum would need whi want skip test travi We never past,Y,2015-02-20 19:26:03
15,issue_comment,449,nilearn,nilearn,bcipolli,2015-02-20 19:26:03,"> Why do you want to skip tests on travis? 
> It would allow adding tests that don't increase coverage, can't be auto-verified and would take substantial time... but would be important tests to have.

All of the plotting edge cases I'm looking at now, and things like print-to-PDF concerns, seems like important regression tests to verify before changing plotting code, but would slow down the Travis run.

There are other designs possible; for example, these types of tests could be implemented outside the `nosetests` framework.  That's just the way I've dealt with it in the past.  Very open to suggestions, but I do feel quite nervous changing plotting code without good regression tests to check that I'm not overlooking anything.
",,,all plot edg case Im look thing like printtopdf concern seem like import regress test verifi chang plot code would slow travi run there design possibl exampl type test could implement outsid framework that way ive dealt past veri open suggest I feel quit nervou chang plot code without good regress test check Im overlook anyth,Y,2015-02-20 19:27:54
16,issue_comment,449,nilearn,nilearn,GaelVaroquaux,2015-02-20 19:27:54,"> All of the plotting edge cases I'm looking at now, and things like
> print-to-PDF concerns, seems like important regression tests to verify
> before changing plotting code, but would slow down the Travis run.

If they are not run on Travis, they will go under our radar when merging
pull request. So we need to find a way to have both good code coverage
and fast test suite. In my experience, it has always been possible,
though it sometime required work.
",,,If run travi go radar merg pull request So need find way good code coverag fast test suit In experi alway possibl though sometim requir work,Y,2015-02-20 19:33:29
17,issue_comment,449,nilearn,nilearn,GaelVaroquaux,2015-02-20 19:33:29,"> @lesteve @GaelVaroquaux It's embedded in a change where I was trying to allow
> users to easily override any of the defaults. Here's the code I'm running:
> https://github.com/bcipolli/nilearn/compare/
> nilearn:master...bcipolli:issue-449?expand=1

I am very worried that adding the option to override defaults is going
overboard in terms of complexity for little benefits. This is going to be
of interest to a absolutely tiny fraction of users and it brings more
code lines, and more ways of putting the plotting code in corner cases,
and thus forcing us to add even more complexity. I think that we must
limit the amount of customization: after all, it doesn't bring that much
to the average user, who wants to do simple analysis and plotting of
data.
",,,I worri ad option overrid default go overboard term complex littl benefit thi go interest absolut tini fraction user bring code line way put plot code corner case thu forc us add even complex I think must limit amount custom doesnt bring much averag user want simpl analysi plot data,N,2015-02-20 19:35:23
18,issue_comment,449,nilearn,nilearn,bcipolli,2015-02-20 19:35:23,"> If they are not run on Travis, they will go under our radar when merging pull request.

Unless I'm misunderstanding, even if they're run on Travis, and somehow we can show the image output, we'd have to remember to manually check that they ""look good"".  At least, I can't think of any automatic verification for the tests I'm thinking of (like, does the ""L"" label look good when the selected slice lines are nearby / intersecting?)
",,,unless Im misunderstand even theyr run travi somehow show imag output wed rememb manual check look good At least I cant think automat verif test Im think like L label look good select slice line nearbi intersect,Y,2015-02-20 19:41:25
19,issue_comment,449,nilearn,nilearn,bcipolli,2015-02-20 19:41:25,"> I am very worried that adding the option to override defaults is going overboard in terms of complexity for little benefits.

I agree, but this capability is already there--all of these functions take `kwargs`.  In my (admittedly uncertain) testing, this didn't work well for the existing functionality.

My real reason for doing this was that the args passed to the `ax.text` function was duplicated for `L` and `R` labels, and they got out of sync (one was passed with `alpha`, the other was not).  In refactoring that code, I noticed that switching the order of where `kwargs` was added gave the opportunity to override.  No need to even mention it, but it's there.

> it brings more code lines

I believe it actually reduced the number of lines and chances for real bugs, as the parameters passed for setting text are consistent between ""L"" and ""R"" labels.  Duplicating that logic elsewhere for consistency added 1-2 lines in 2 other places, but it's either a wash or slightly shorter overall.

No biggie either way to me.
",,,I agre capabl alreadi thereal function take In admittedli uncertain test didnt work well exist function My real reason arg pass function duplic label got sync one pass In refactor code I notic switch order ad gave opportun overrid No need even mention I believ actual reduc number line chanc real bug paramet pass set text consist L R label duplic logic elsewher consist ad 12 line 2 place either wash slightli shorter overal No biggi either way,Y,2015-02-22 14:45:14
20,issue_comment,449,nilearn,nilearn,AlexandreAbraham,2015-02-22 14:45:14,"I'm a bit lost in this PR. Putting aside the story of ""visual only"" tests, what do we do about the original problem?
",,,Im bit lost PR put asid stori visual test origin problem,Y,2015-02-23 20:52:59
21,issue_comment,449,nilearn,nilearn,bcipolli,2015-02-23 20:52:59,"How about I submit a PR with what I have? All I did is tweak the spacing and eliminate the coloring of the bounding box.

I think the spacing of hemisphere labels is better, and it simplifies changing the background color.  See https://github.com/nilearn/nilearn/issues/449#issuecomment-75272574 for the current result.
",,,how I submit PR I all I tweak space elimin color bound box I think space hemispher label better simplifi chang background color see current result,N,2015-02-24 15:48:05
22,issue_comment,449,nilearn,nilearn,GaelVaroquaux,2015-02-24 15:48:05,"> How about I submit a PR with what I have? All I did is tweak the spacing and
> eliminate the coloring of the bounding box.

Can you submit a PR with only these lines. When I looked at the diff
earlier, it was confusing.

Also typically, what we use as regression testing for visual aspect of
things is simply the examples. Can you check that the plotting examples
still look nice?
",,,can submit PR line when I look diff earlier confus also typic use regress test visual aspect thing simpli exampl can check plot exampl still look nice,Y,2015-02-24 19:16:21
24,issue_comment,449,nilearn,nilearn,AlexandreAbraham,2015-04-09 08:37:23,"Any volunteer to take useful code from this issue and submit a PR?
",,,ani volunt take use code issu submit PR,N,2015-02-20 07:28:31
2,issue_closed,430,nilearn,nilearn,lesteve,2015-06-08 12:50:02,,closed issue,[MRG] Nifti spheres masker,,N,2015-02-15 17:59:01
4,pull_request_merged,430,nilearn,nilearn,lesteve,2015-06-08 12:50:02,[MRG] Nifti spheres masker,c5192cce95b5c43ba45d2479e38d59c30ac00bea,Pull request merge from AlexandreAbraham/nilearn:nifti_spheres_masker to nilearn/nilearn:master,mrg nifti sphere masker,N,2015-02-25 20:10:20
5,issue_comment,430,nilearn,nilearn,bcipolli,2015-02-25 20:10:20,"I just started to try and work with this, and I found it has a very limited function.  It would be much more useful to me (and perhaps others?) if the masker accepted a transformation function.  You extract the voxels within the sphere and you pass them to me; I have a function to create a value from it.

Is it something to consider here, in #353, or to open a new issue about?
Edit: Here's my code for having a generic `xfer_fn`: https://github.com/bcipolli/nilearn/commit/d085fcd934a48bc65ffb2557c388c0788ecb1e58

Edit: Turns out, the algorithm is fixed to loop over seeds (vs. image slices).  I actually want the latter.  Since this is a bigger generalization of the idea, I'll open up a new issue for this to discuss.
",,,I start tri work I found limit function It would much use perhap other masker accept transform function you extract voxel within sphere pass I function creat valu Is someth consid 353 open new issu edit here code gener edit turn algorithm fix loop seed vs imag slice I actual want latter sinc bigger gener idea ill open new issu discuss,N,2015-02-25 21:50:33
6,issue_comment,430,nilearn,nilearn,bcipolli,2015-02-25 21:50:33,"How about an `inverse_transform` method, that outputs the vector values at each seed location?  At the very least it's good for visualization.

Edit: this would require a `seeds_img`.  Allowing input of a `seeds_img` instead of `seeds` in the constructor would be a nice feature as well.
",,,how method output vector valu seed locat At least good visual edit would requir allow input instead constructor would nice featur well,N,2015-02-26 00:17:37
7,issue_comment,430,nilearn,nilearn,bcipolli,2015-02-26 00:17:37,"Since I needed both of these suggestions today, I did my best to do them myself.
- Allow a user-defined transform function: https://github.com/bcipolli/nilearn/commit/deea263ad72419dc407339b3aa2ccf2e508c5ef3
- Allow seed specification via a mask image, and implement `inverse_transform`: https://github.com/bcipolli/nilearn/commit/9f17287f48db575400cd339adcde78cf6a6e8bb8

I didn't add tests for either, as I'm in a rush and not sure if y'all will like the above.  Either way, here's a sample script (yes, I know it does some things unnecessarily.. it's my base script for playing :) ):

``` python
import matplotlib.pyplot as plt

import nibabel

from nilearn import datasets
from nilearn.input_data import NiftiSpheresMasker
from nilearn.plotting import plot_stat_map, plot_roi
from nilearn.image import index_img

# Defs
subj_idx = 0
cut_coords = (28, -34, -22)

# Get data
print(""Loading data..."")
haxby_dataset = datasets.fetch_haxby(n_subjects=subj_idx + 1)
func_img = index_img(nibabel.load(haxby_dataset.func[subj_idx]),
                     range(100))  # remove most slices for speed
mask_img = nibabel.load(haxby_dataset.mask_vt[subj_idx])


def my_xform(sphere_data):
    return sphere_data.mean(axis=0)

# Create mask
print(""Fit the SphereMasker..."")
sphere_masker = NiftiSpheresMasker(seeds=mask_img, radius=5,
                                   xform_fn=my_xform,
                                   mask_img=mask_img,
                                   memory=None, memory_level=10,
                                   verbose=10)
sphere_masker.fit()
plot_roi(sphere_masker.seeds_img_, title='seed img', cut_coords=cut_coords)
plot_roi(sphere_masker.mask_img_, title='mask img', cut_coords=cut_coords)

# Compute the mean image.
print(""Transforming the image..."")
vecs = sphere_masker.transform(func_img)
mean_img = sphere_masker.inverse_transform(vecs)
plot_stat_map(index_img(mean_img, 0), cut_coords=cut_coords)

plt.show()
```
",,,sinc I need suggest today I best allow userdefin transform function allow seed specif via mask imag implement I didnt add test either Im rush sure yall like either way here sampl script ye I know thing unnecessarili base script play,Y,2015-02-26 01:21:41
8,issue_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-26 01:21:41,"The initial implementation contained `mask_img` but I removed it after discussions.
",,,the initi implement contain I remov discuss,N,2015-02-26 03:36:44
9,issue_comment,430,nilearn,nilearn,bcipolli,2015-02-26 03:36:44,"@AlexandreAbraham OK, well, you have my vote for it being essential. :)
",,,alexandreabraham OK well vote essenti,N,2015-02-26 10:21:41
10,issue_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-26 10:21:41,"> @AlexandreAbraham OK, well, you have my vote for it being essential. :)

Do you have a usecase? We removed it precisely because we couldn't find anybody using a seed mask and there is no available atlas available online to my knowledge.

> Allow a user-defined transform function: bcipolli@deea263

What function do you want to use apart from `mean`? We don't offer that choice either in NiftiLabelsMasker. We could add it but I want to check that it's not YAGNI.

> How about an inverse_transform method, that outputs the vector values at each seed location? At the very least it's good for visualization.
> Edit: this would require a seeds_img. Allowing input of a seeds_img instead of seeds in the constructor would be a nice feature as well.

An `inverse_transform` would rise a lot of other problems, like the shape to use. Plus, I don't see why anybody would want to visualize that. We definitely need visualization for seed based experiences but correlation matrix plot is much more fit than brains in that specific case.
",,,Do usecas We remov precis couldnt find anybodi use seed mask avail atla avail onlin knowledg what function want use apart We dont offer choic either niftilabelsmask We could add I want check yagni An would rise lot problem like shape use plu I dont see anybodi would want visual We definit need visual seed base experi correl matrix plot much fit brain specif case,N,2015-02-26 10:35:56
11,issue_comment,430,nilearn,nilearn,eickenberg,2015-02-26 10:35:56,"> What function do you want to use apart from mean?

I have seen `mean`, `std`, `min` and `max` used. Cannot judge on whether that is advisable or not.
",,,I seen use cannot judg whether advis,N,2015-02-26 11:51:44
12,issue_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-26 11:51:44,"I suggest that we focus on simple behavior for the moment. Since this question is common to spheres and labels masker, we can open an issue about that and discuss it. How does it sound?
",,,I suggest focu simpl behavior moment sinc question common sphere label masker open issu discuss how sound,N,2015-02-26 15:26:02
13,issue_comment,430,nilearn,nilearn,bcipolli,2015-02-26 15:26:02,"> > @AlexandreAbraham OK, well, you have my vote for it being essential. :)
> > Do you have a usecase? We removed it precisely because we couldn't find anybody using a seed mask and there is no available atlas available online to my knowledge.

For my analysis, I have a mask of ventral-temporal (VT) cortex.  For each voxel in that mask, I want a ball of nearby voxels.  I will use them to compute something (right now, a similarity matrix... but could be mean, std, etc.) that I then store as the value at that voxel position. I need to do that for every voxel in that VT mask.

> > Allow a user-defined transform function: bcipolli@deea263
> > What function do you want to use apart from mean? We don't offer that choice either in NiftiLabelsMasker. We could add it but I want to check that it's not YAGNI.

It is very powerful to have a vector of voxels for each slice simultaneously.  Again, this is exactly what I need for RSA, but if you have a callback function, you can do whatever you want (using global variables).  It's very powerful.

> > How about an inverse_transform method, that outputs the vector values at each seed location? At the very least it's good for visualization.
> > An inverse_transform would rise a lot of other problems, like the shape to use. Plus, I don't see why anybody would want to visualize that. We definitely need visualization for seed based experiences but correlation matrix plot is much more fit than brains in that specific case.

My seeds are very dense.  I want to visualize the values coming out in brain space. 

As far as the input, I also don't want to have to specify seed locations in template space, but rather through voxel indices.  Otherwise, I'll have to do the `np.tensordot` logic myself, and that is not simple at all.

> I suggest that we focus on simple behavior for the moment. Since this question is common to spheres and labels masker, we can open an issue about that and discuss it. How does it sound?

I'm absolutely all for that, in all of these cases. :)  I think there are two things to discuss (allow specification of an `xform_fn`, allow specifying a `seed_img` as input / inverse_transform on output), would be glad to open two issues.  

Note that in my RSA project, I'm already using both of the above.  For me, it's just a question of whether it's potentially useful to others, to in `nilearn`.
",,,for analysi I mask ventraltempor VT cortex for voxel mask I want ball nearbi voxel I use comput someth right similar matrix could mean std etc I store valu voxel posit I need everi voxel VT mask It power vector voxel slice simultan again exactli I need rsa callback function whatev want use global variabl it power My seed dens I want visual valu come brain space As far input I also dont want specifi seed locat templat space rather voxel indic otherwis ill logic simpl Im absolut case I think two thing discuss allow specif allow specifi input inversetransform output would glad open two issu note rsa project Im alreadi use for question whether potenti use other,N,2015-02-26 15:39:19
14,issue_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-26 15:39:19,"> For my analysis [...]

Sounds like your usage corresponds more to SearchLight than NiftiSpheresMasker. Both are very close and I was thinking of sharing some code between the two. Could you take a look at SearchLight and tell me if you can achieve what you want by changing the estimator?
",,,sound like usag correspond searchlight niftispheresmask both close I think share code two could take look searchlight tell achiev want chang estim,N,2015-02-26 17:20:28
15,issue_comment,430,nilearn,nilearn,bcipolli,2015-02-26 17:20:28,"> Sounds like your usage corresponds more to SearchLight than NiftiSpheresMasker. Both are very close and I was thinking of sharing some code between the two. Could you take a look at SearchLight and tell me if you can achieve what you want by changing the estimator?

I'm not sure, I'm having a tough time understanding the code well, or how to use the more complex features.  I don't want to stop things here at all, so let's discuss in a new issue (and when I'm not on a deadline, like today :) )
",,,Im sure Im tough time understand code well use complex featur I dont want stop thing let discuss new issu Im deadlin like today,N,2015-02-28 18:42:00
16,issue_comment,430,nilearn,nilearn,bcipolli,2015-02-28 18:42:00,"After using this class for a poster I just presented (on RSA searchlight) and then reviewing the documentation, I wonder if this class isn't better implemented as a `Transformer` built on top of a more generalized `Masker`?

From my understanding, a masker is for selecting subsets of voxels.
http://nilearn.github.io/building_blocks/pipeline_introduction.html#masking
I believe this fits how all the current maskers work.

Transformers are about filtering and/or modifying the data:
http://scikit-learn.org/stable/developers/#apis-of-scikit-learn-objects

I would expect a `NiftiSpheresMasker` to mask the data without transforming it, while a `NiftiSpheresTransformer` to mask the data, then transform it.

Generalizing the `NiftiSpheresMasker` could form the basis of the searchlight procedure, the `NiftiSpheresTransformer`, and could easily be the basis of my RSA searchlight code (which is different from the classification-focused searchlight code).

Alternately, keeping this class as implemented, but changing the name to `NiftiSpheresTransformer`, would match the existing `nilearn` and `scikit-learn` object model schema better (and make future refactoring, if needed, avoid renaming objects).
",,,after use class poster I present rsa searchlight review document I wonder class isnt better implement built top gener from understand masker select subset voxel I believ fit current masker work transform filter andor modifi data I would expect mask data without transform mask data transform gener could form basi searchlight procedur could easili basi rsa searchlight code differ classificationfocus searchlight code altern keep class implement chang name would match exist object model schema better make futur refactor need avoid renam object,N,2015-02-28 18:48:48
17,issue_comment,430,nilearn,nilearn,GaelVaroquaux,2015-02-28 18:48:48,"From a user perspectice, the 99% usecases of this class are going to be
extracting signals for an ROI analysis. I can see that from a coding
perspective there is a very interesting link to RSA. However, it is
important to have a very simple story to tell to the user on what this
class is doing and what it is for, so I fear that making it more general,
or changing its name is dangerous.

That said, I agree that there could be value, in a later PR, to extract
part of the logic of this class in a set of reusable functions, that
could be later combined in a different class, eg for RSA, relying on
similar operations. From a software design principle, the idea would be
that the high-level classes exposed to the user are different, to give a
simple picture of the package to the user, but they share some underlying
code. That's one of the strong values of externalizing the core
numerical functionality in functions rather than classes.

What do you think?
",,,from user perspectic 99 usecas class go extract signal roi analysi I see code perspect interest link rsa howev import simpl stori tell user class I fear make gener chang name danger that said I agre could valu later PR extract part logic class set reusabl function could later combin differ class eg rsa reli similar oper from softwar design principl idea would highlevel class expos user differ give simpl pictur packag user share underli code that one strong valu extern core numer function function rather class what think,N,2015-02-28 18:54:59
18,issue_comment,430,nilearn,nilearn,banilo,2015-02-28 18:54:59,"Agreed.

> Generalizing the NiftiSpheresMasker could form the basis of the searchlight procedure, the NiftiSpheresTransformer, and could easily be the basis of my RSA searchlight code (which is different from the classification-focused searchlight code).

In general, once the NiftiSpheresMasker is merged, one could simply derive new, more targeted classes from it.
",,,agre In gener niftispheresmask merg one could simpli deriv new target class,N,2015-02-28 19:02:39
19,issue_comment,430,nilearn,nilearn,bcipolli,2015-02-28 19:02:39,"> I can see that from a coding perspective there is a very interesting link to RSA. However, it is
> important to have a very simple story to tell to the user on what this class is doing and what it is for, so I fear that making it more general, or changing its name is dangerous.

I should probably have separated it into two parts.  One is that I think calling this a `Masker` is confusing for users; it doesn't fit with the other maskers (it transforms data, not just extracting it).   The other is about how to go about doing the abstractions.

> In general, once the NiftiSpheresMasker is merged, one could simply derive new, more targeted classes from it.

I agree, but I think it's really a `Transformer`, not a `Masker`.  I think it's best to get names right first, so good to discuss before merging.  So to repeat: I think making it a pure masker, or calling it something else (my suggestion was `NiftiSpheresTransformer`) would fit the schema of what masks are, what transforms are, and therefore much clearer for users.
",,,I probabl separ two part one I think call confus user doesnt fit masker transform data extract the go abstract I agre I think realli I think best get name right first good discuss merg So repeat I think make pure masker call someth els suggest would fit schema mask transform therefor much clearer user,N,2015-02-28 19:09:32
20,issue_comment,430,nilearn,nilearn,GaelVaroquaux,2015-02-28 19:09:32,"> I agree, but I think it's really a Transformer, not a Masker.

All maskers are transformers (I feel that this sentence feel like it has
a deep meaning and should be said with the voice of Mr Spock :} ).

> I think it's best to get names right first, so good to discuss before
> merging.

OK. But I do claim that this object belong to the same family of concepts
as our other ""masker"" objects, it is very close to the NiftiLabelsMasker
of the NiftiMapsMasker.

Maybe all the ""Masker"" objects should be renamed to ""Loader"" objects.
That said, I don't see something horribly wrong with using the names
""masker"" for what we doing with them. But I admit that I can be convinced
otherwise.
",,,all masker transform I feel sentenc feel like deep mean said voic Mr spock OK but I claim object belong famili concept masker object close niftilabelsmask niftimapsmask mayb masker object renam loader object that said I dont see someth horribl wrong use name masker but I admit I convinc otherwis,N,2015-02-28 19:17:57
21,issue_comment,430,nilearn,nilearn,eickenberg,2015-02-28 19:17:57,"On Sat, Feb 28, 2015 at 8:09 PM, Gael Varoquaux notifications@github.com
wrote:

> > I agree, but I think it's really a Transformer, not a Masker.
> 
> All maskers are transformers (I feel that this sentence feel like it has
> a deep meaning and should be said with the voice of Mr Spock :} ).

+1

> > I think it's best to get names right first, so good to discuss before
> > merging.
> 
> OK. But I do claim that this object belong to the same family of concepts
> as our other ""masker"" objects, it is very close to the NiftiLabelsMasker
> of the NiftiMapsMasker.
> 
> +1
> 
> Maybe all the ""Masker"" objects should be renamed to ""Loader"" objects.

-1

> That said, I don't see something horribly wrong with using the names
> ""masker"" for what we doing with them. But I admit that I can be convinced
> otherwise.
> 
> I understand Ben's distinction in that a masker is perceived to extract,
> but not change, data and that a transformer necessarily applies some
> non-trivial change to the data.

The name ""Transformer"" comes from the nomenclature of scikit-learn, by
which any object is one if it exposes the method ""transform"" and thus can
be used as a pipeline step. Evidently such an informatics concept may not
overlap 1000% with the intuitions of users, but: a) The maskers DO change
the data, e.g. by detrending/standardizing and b) you can see them as the
beginning of a pipeline even if the way it acts upon data is not always
compatible with the checks performed in the scikit-learn pipeline object.

> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/430#issuecomment-76540627.
",,,On sat feb 28 2015 809 PM gael varoquaux notificationsgithubcom wrote 1 1 the name transform come nomenclatur scikitlearn object one expos method transform thu use pipelin step evid informat concept may overlap 1000 intuit user the masker DO chang data eg detrendingstandard b see begin pipelin even way act upon data alway compat check perform scikitlearn pipelin object,N,2015-02-28 19:25:30
22,issue_comment,430,nilearn,nilearn,bcipolli,2015-02-28 19:25:30,"I think I'm understanding this better, thanks for the feedback.  I think my intuitions come from the naming and documentation of `NiftiMasker`, which does more extraction/filtering than recombination.  I expected similar things from other maskers, as the naming is so similar (`NiftiXXMasker`) and the documentation from `NiftiMasker` implied to me that it represents all `Masker` objects.
http://nilearn.github.io/building_blocks/pipeline_introduction.html#masking

I will open an issue for discussion of those ideas (suggesting tweaking the docs, asking about the naming) as they're separate from my question related to this PR (whether this is best called `NiftiSpheresTransformer`).  

Thanks again! 
",,,I think Im understand better thank feedback I think intuit come name document extractionfilt recombin I expect similar thing masker name similar document impli repres object I open issu discuss idea suggest tweak doc ask name theyr separ question relat PR whether best call thank,N,2015-02-28 19:41:07
23,issue_comment,430,nilearn,nilearn,GaelVaroquaux,2015-02-28 19:41:07,"> the documentation from NiftiMasker implied to me that it represents all
> Masker objects.
> http://nilearn.github.io/building_blocks/pipeline_introduction.html#masking

Yes, the documentation is crap. I am working on a massive rewrite in the
branch
https://github.com/GaelVaroquaux/nilearn/tree/doc_rework

The corresponding issue is https://github.com/nilearn/nilearn/issues/428
",,,ye document crap I work massiv rewrit branch the correspond issu,N,2015-03-01 10:07:41
24,issue_comment,430,nilearn,nilearn,AlexandreAbraham,2015-03-01 10:07:41,"We all agree that there is a common logic behind Nifti{Labels,Maps,Speheres}Masker, and Searchlight. So, I have a proposition. What if I finish up the work on this one as-is and merge it. Then, we refactor the code to use a ""magic"" iterator behind the scenes, for all these classes. Something like:
`_mask_iter_img(niimgs, iter_element, mask_img=none)`
where `iter_element` is to be defined (I have ideas, but I don't want to explain all of this here as I'm not yet sure it will be feasible).

After that, advanced users like @bcipolli could directly import the iterator for their advanced code. This would factorize the code inside and the masker, and provide a useful object for methods people. However, this magic iterator being private, we don't guarantee any backward compatibility, which should not be a problem as it will only be used by advanced people (well, only by Ben and maybe Mehdi in our team I think ;)). An inspiration could be `numpy.nditer`.

Does that sound reasonable?
",,,We agre common logic behind niftilabelsmapsspeheresmask searchlight So I proposit what I finish work one asi merg then refactor code use magic iter behind scene class someth like defin I idea I dont want explain Im yet sure feasibl after advanc user like bcipolli could directli import iter advanc code thi would factor code insid masker provid use object method peopl howev magic iter privat dont guarante backward compat problem use advanc peopl well ben mayb mehdi team I think An inspir could doe sound reason,N,2015-03-01 10:24:23
25,issue_comment,430,nilearn,nilearn,eickenberg,2015-03-01 10:24:23,"definitely advancing here

+1 for finishing this up.

Looking forward to a proposal for `_mask_iter_img` by advanced persons for advanced persons. Not sure if it is a good idea if it has to be kept private due to conceptual fragility, though.
",,,definit advanc 1 finish look forward propos advanc person advanc person not sure good idea kept privat due conceptu fragil though,N,2015-03-01 10:52:52
26,issue_comment,430,nilearn,nilearn,GaelVaroquaux,2015-03-01 10:52:52,"> Then, we refactor the code to use a ""magic""
> iterator behind the scenes,

""magic"" in software is never a good thing :)
",,,magic softwar never good thing,N,2015-03-01 15:16:02
27,issue_comment,430,nilearn,nilearn,bcipolli,2015-03-01 15:16:02,"+1 for merging and discussing further as well.  My concerns have been addressed, and I'll look forward to  hearing your ideas @AlexandreAbraham !
",,,1 merg discuss well My concern address ill look forward hear idea alexandreabraham,N,2015-03-01 20:36:20
28,issue_comment,430,nilearn,nilearn,bthirion,2015-03-01 20:36:20,"LGTM otherwise
",,,lgtm otherwis,N,2015-03-12 08:50:14
40,issue_comment,430,nilearn,nilearn,banilo,2015-06-08 16:03:21,"+1 +1 +1

2015-06-08 18:02 GMT+02:00 Ben Cipollini notifications@github.com:

> Good work @AlexandreAbraham https://github.com/AlexandreAbraham ! [image:
> :+1:]
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/430#issuecomment-110053581.

## 

Viele Grüße,
Danilo
",,,1 1 1 20150608 1802 gmt0200 ben cipollini notificationsgithubcom viel grüße danilo,N,2015-02-15 18:19:52
41,issue_comment,430,nilearn,nilearn,eickenberg,2015-02-15 18:19:52,"fyi I did some benchmarks and `tensordot` is just fine. Compared to my proposed alternatives it is also readable.
",,,fyi I benchmark fine compar propos altern also readabl,N,2015-02-19 04:34:25
42,issue_comment,430,nilearn,nilearn,banilo,2015-02-19 04:34:25,"My naive view would be: If the goal is really spheres, and spheres only, then We can restrain ourselves to coordinates as input. Special overlapping or non-overlapping cases can be handled by NiftiMapsMasker and NiftiLabelsMasker.

Sent from my iPhone

> On 19 Feb 2015, at 00:29, Alexandre Abraham notifications@github.com wrote:
> 
> Absolutely no problem. I was just trying to consider all the edge cases. I thought of this particular case because depending on the post treatment applied to the data, it may be a problem to have identical features.
> 
> —
> Reply to this email directly or view it on GitHub.
",,,My naiv view would If goal realli sphere sphere We restrain coordin input special overlap nonoverlap case handl niftimapsmask niftilabelsmask sent iphon,N,2015-02-15 18:14:27
43,pull_request_commit_comment,430,nilearn,nilearn,eickenberg,2015-02-15 18:14:27,"Maybe: the seeds are taken to be the locations indicated by all voxels with non-zero values
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",mayb seed taken locat indic voxel nonzero valu,N,2015-02-15 18:14:36
44,pull_request_commit_comment,430,nilearn,nilearn,eickenberg,2015-02-15 18:14:36,"for
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",,N,2015-02-15 18:15:22
45,pull_request_commit_comment,430,nilearn,nilearn,eickenberg,2015-02-15 18:15:22,"set to 0
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",set 0,N,2015-02-15 18:15:48
46,pull_request_commit_comment,430,nilearn,nilearn,eickenberg,2015-02-15 18:15:48,".
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",,N,2015-02-15 18:27:52
47,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 18:27:52,"I like it!
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",I like,N,2015-02-15 18:29:02
48,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 18:29:02,"Fixed.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",fix,N,2015-02-15 18:31:10
49,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 18:31:10,"This part was taken from the doc NiftiLabelsMasker. We should propagate the fix to other classes (I won't do it here given that a modification is pending in PR #426).
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",thi part taken doc niftilabelsmask We propag fix class I wont given modif pend PR 426,N,2015-02-15 18:32:45
50,pull_request_commit_comment,430,nilearn,nilearn,eickenberg,2015-02-15 18:32:45,"Don't worry - ``put'' is  not wrong, my comment is purely cosmetic
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",dont worri put wrong comment pure cosmet,N,2015-02-15 20:43:00
51,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-15 20:43:00,"Might not strike as a crisp description. Perhaps ""Mask nifti images by spherical volumes for seed-region analyses""
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(2, '', u'nilearn/input_data/nifti_spheres_masker.py')",might strike crisp descript perhap mask nifti imag spheric volum seedregion analys,N,2015-02-15 20:52:09
52,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-15 20:52:09,"Rather throw NotImplemented exception?

Regarding the message: would it not be a seed's time series data, the user would, if existing, pass o to inverse_transform()? -> If yes, ""Inverse transformation does not make sense for seed-derived data.""?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",rather throw notimpl except regard messag would seed time seri data user would exist pass inversetransform,N,2015-02-15 20:52:37
53,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-15 20:52:37,"""images"" -> ""Nifti-like objects""
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",imag,N,2015-02-15 21:17:10
54,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-15 21:17:10,"From experience with coordinate-based meta-analysis: many people appear to get confused about when TAL versus MNI coordinates make a difference. Perhaps include something related here.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",from experi coordinatebas metaanalysi mani peopl appear get confus tal versu mni coordin make differ perhap includ someth relat,N,2015-02-15 21:44:34
55,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-15 21:44:34,"Same as

``` python
mask = np.zeros((3, 3, 3), dtype=np.bool)
mask[1, :, 1] = True
```
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/tests/test_nifti_spheres_masker.py')",same,N,2015-02-15 21:49:33
56,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-15 21:49:33,"The nature of the seed nifti is not verified (many zero, and a few non-zero indicator voxels).
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",the natur seed nifti verifi mani zero nonzero indic voxel,N,2015-02-15 21:52:25
57,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-15 21:52:25,"Nift1Image.get_data() automatically makes sure that time dimension comes last. Not sure the related part in the imgs-explanation is necessary.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(220, '', u'nilearn/input_data/nifti_spheres_masker.py')",nift1imagegetdata automat make sure time dimens come last not sure relat part imgsexplan necessari,N,2015-02-15 22:05:31
58,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-15 22:05:31,"in ""voxel space""
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",voxel space,N,2015-02-15 22:07:41
59,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-15 22:07:41,"Why do we actually not have an `is_niimg` function?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",whi actual function,N,2015-02-15 22:18:28
60,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 22:18:28,"Actually, I was waiting for your PR to be finalized and merged to have a common description across all maskers ;).
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(2, '', u'nilearn/input_data/nifti_spheres_masker.py')",actual I wait PR final merg common descript across masker,N,2015-02-15 22:19:29
61,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 22:19:29,"Because finding out if an object is a niimg is the same as loading it.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",becaus find object niimg load,N,2015-02-15 22:20:04
62,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-15 22:20:04,"Good to mention that, I was wondering about the optimal order of masker-related merges.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",good mention I wonder optim order maskerrel merg,N,2015-02-15 22:20:40
63,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 22:20:40,"fixed.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",fix,N,2015-02-15 22:22:26
64,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 22:22:26,"It seems obvious to me that the given coordinates must ""live"" in the same space as the images. What do you suggest?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",It seem obviou given coordin must live space imag what suggest,N,2015-02-15 22:30:00
65,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-02-15 22:30:00,"Is there a strong usecase for that type of input? I am a bit bit weary of functions that are very polymorphous in their inputs. They can make errors hard to track.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",Is strong usecas type input I bit bit weari function polymorph input they make error hard track,N,2015-02-15 22:31:16
66,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 22:31:16,"No. Do you think that using `masking._load_mask_img` is enough or should we specifically count the number of seeds and raise an error if there are too many?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",No Do think use enough specif count number seed rais error mani,N,2015-02-15 22:31:22
67,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-02-15 22:31:22,"I'd rather have the method simply not present. That way it is possible to test if an object implements inverse_transform or not using hasattr.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",Id rather method simpli present that way possibl test object implement inversetransform use hasattr,Y,2015-02-15 22:33:43
68,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 22:33:43,"Fixed.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",fix,N,2015-02-15 22:34:54
69,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 22:34:54,"This part comes from NiftiLabelsMasker.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(220, '', u'nilearn/input_data/nifti_spheres_masker.py')",thi part come niftilabelsmask,N,2015-02-15 22:35:47
70,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 22:35:47,"Yes, I prefer Gael's option, I didn't think of `hasattr`.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",ye I prefer gael option I didnt think,N,2015-02-15 23:06:59
71,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 23:06:59,"There is not and I will remove it. In fact, by writing the tests, I realized that there is no simple way to specify the order in which the voxels must be loaded. I think that it's better to rely on coordinates.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",there I remov In fact write test I realiz simpl way specifi order voxel must load I think better reli coordin,Y,2015-02-17 21:26:17
72,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-17 21:26:17,"I wanted to keep explicit matrices to be clearer but maybe I was wrong.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/tests/test_nifti_spheres_masker.py')",I want keep explicit matric clearer mayb I wrong,N,2015-02-25 15:36:48
73,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-25 15:36:48,"points at end of explanation missing here and in some subsequent arguments.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",point end explan miss subsequ argument,N,2015-02-25 23:03:28
74,pull_request_commit_comment,430,nilearn,nilearn,bcipolli,2015-02-25 23:03:28,"`coords` is 4d; worth mentioning that fact, and the 4th (constant) dimension here?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",4d worth mention fact 4th constant dimens,N,2015-02-26 03:39:07
75,pull_request_commit_comment,430,nilearn,nilearn,bcipolli,2015-02-26 03:39:07,"This looks highly parallelizable; perhaps create a nested function of the code in this loop and parallelize it?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",thi look highli paralleliz perhap creat nest function code loop parallel,N,2015-02-26 06:49:19
76,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-26 06:49:19,"This is indeed but it would require more memory. For maskers, I prefer to lower memory consumption as much as possible since this usually is the bottleneck here. Also people usually mask once and then use cached data so the time overhead only happens once.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",thi inde would requir memori for masker I prefer lower memori consumpt much possibl sinc usual bottleneck also peopl usual mask use cach data time overhead happen,N,2015-02-26 10:22:58
77,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-26 10:22:58,"I don't get your remark. Can you elaborate?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",I dont get remark can elabor,N,2015-02-26 10:23:30
78,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-26 10:23:30,"This has been copied from NiftiLabelsMasker, we should open another issue about that and fix it afterward.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",thi copi niftilabelsmask open anoth issu fix afterward,N,2015-02-26 15:28:47
79,pull_request_commit_comment,430,nilearn,nilearn,bcipolli,2015-02-26 15:28:47,"The comment `Create an array of shape (3, array.shape)` is above the definition of `coords`.  `Coords` actually has a 4th row of all ones, so the comment isn't strictly true.  I thought it might be worth mentioning that 4th (constant) row in the comment.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",the comment definit actual 4th row one comment isnt strictli true I thought might worth mention 4th constant row comment,N,2015-02-26 15:40:37
80,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-26 15:40:37,"OK. My comment describes the two lines below, not the first one, but I'll make it clearer ;).
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",OK My comment describ two line first one ill make clearer,N,2015-03-01 20:32:22
81,pull_request_commit_comment,430,nilearn,nilearn,bthirion,2015-03-01 20:32:22,"Shouldn't this be elsewhere ?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",shouldnt elsewher,N,2015-03-01 20:36:34
82,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-03-01 20:36:34,"> Shouldn't this be elsewhere ?

We have moved compose_err_msg() to _utils/logger.py. This probably happened in parallel to this PR.

https://github.com/nilearn/nilearn/blob/master/nilearn/_utils/logger.py#L76
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",We move composeerrmsg utilsloggerpi thi probabl happen parallel PR,N,2015-03-01 20:37:02
83,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-03-01 20:37:02,"Indeed, this code was replicated in NiftiLabelsMasker and NiftiMapsMasker. @banilo moved it in the utils. I will fix that when I'll rebase.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",inde code replic niftilabelsmask niftimapsmask banilo move util I fix ill rebas,N,2015-03-13 15:22:41
84,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-03-13 15:22:41,"typo in ""store"" it appears
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",typo store appear,N,2015-03-13 15:32:22
85,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-03-13 15:32:22,"Suggestions: ""List of coordinate triplets...""
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(90, '', u'nilearn/input_data/nifti_spheres_masker.py')",suggest list coordin triplet,N,2015-03-13 15:33:58
159,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-06-08 11:56:18,"I was mistaken. There is a function available outside of the object but it is less optimized as it computes the whole distance matrix, not just for the seeds.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')",I mistaken there function avail outsid object less optim comput whole distanc matrix seed,N,2015-02-15 15:18:39
160,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 15:18:39,Add the NiftiSeedsMasker.,75c67bdd56d2f254fac9d61a1dc03ad5ea3ac426,,add niftiseedsmask,N,2015-02-15 15:18:39
161,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 15:18:39,Add the NiftiSeedsMasker.,c14428e2351ef1838e7eb58f3faf6f3eb391518a,,add niftiseedsmask,N,2015-02-15 16:35:59
162,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 16:35:59,Add test file. Minor fixes.,6ecfe53d12d3f577412336f219e6059fddc10b8b,,add test file minor fix,N,2015-02-15 16:35:59
163,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 16:35:59,Add test file. Minor fixes.,3913c622d9509af83c87d98efdfbb2d857eeacf3,,add test file minor fix,N,2015-02-15 17:19:42
164,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 17:19:42,Add tests. Minor fixes.,4fa7330b2c5c0c267e7182784e18498767cbe24d,,add test minor fix,N,2015-02-15 17:50:08
165,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 17:50:08,Add test. Minor fixes.,b13f7a9c928fdbb6fe433ffd0714a106235b53fb,,add test minor fix,N,2015-02-15 18:42:41
166,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 18:42:41,Address Michael's comments.,424bab2f31904abd2e3450f43f8bcfb97b05633d,,address michael comment,N,2015-02-15 23:01:57
167,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 23:01:57,Address banilo and Gael's comments.,c834d7b92116fe5dad3fc12cc949a31113cc5f14,,address banilo gael comment,N,2015-02-15 23:13:26
168,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 23:13:26,Do not take nifti as seeds anymore.,6f4141589af793f029c195b6436445300a2ee061,,Do take nifti seed anymor,N,2015-02-17 21:18:44
169,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-17 21:18:44,Add mask handling,6710ad4074cfc8db5a668da2f0c3365aece9f8f0,,add mask handl,N,2015-02-17 21:35:18
170,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-17 21:35:18,Add test with mask_img,4b50eb041ce3a84e9ffdc37232a99f91133dbd2c,,add test maskimg,N,2015-02-17 22:35:26
171,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-17 22:35:26,Add more test for mask_img in nifti_spheres_masker.,d61db54392b0fe65333142268c3e2db3757324f7,,add test maskimg niftispheresmask,N,2015-03-06 00:29:50
172,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-03-06 00:29:50,Remove obsolete code,4cca55393df6a75178da56a690c2092520010d97,,remov obsolet code,N,2015-03-07 10:05:10
177,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-05-07 09:32:12,Fix minor bug,2af73aa967b93dcad2063600634bcae45794f0e1,,fix minor bug,N,2015-02-15 15:18:39
178,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 15:18:39,Add the NiftiSeedsMasker.,e4ca4e9f3f3ee1c8586f7aab079dfb9abe224ad9,,add niftiseedsmask,N,2015-02-15 15:18:39
179,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 15:18:39,Add the NiftiSeedsMasker.,53df02fe33ec8ab63fcaeab5d4681b64d575a14f,,add niftiseedsmask,N,2015-02-15 16:35:59
180,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 16:35:59,Add test file. Minor fixes.,5bbc59dcbab7aac152224ff710ec3fa22bd2ea27,,add test file minor fix,N,2015-02-15 17:19:42
181,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 17:19:42,Add tests. Minor fixes.,8ec3d7669130e4aabb845d0d57e806f843a12422,,add test minor fix,N,2015-02-15 17:50:08
182,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 17:50:08,Add test. Minor fixes.,1cdcd29662be9747929cc30c723cfddd7b3162d1,,add test minor fix,N,2015-02-15 18:42:41
183,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 18:42:41,Address Michael's comments.,5f334bf91f9396ab88e6cd28b03e14f87365ffdd,,address michael comment,N,2015-02-15 23:01:57
184,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 23:01:57,Address banilo and Gael's comments.,433f7ed94bcc5ed8ee2502f1812dce96dbbf69cb,,address banilo gael comment,N,2015-02-15 23:13:26
185,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 23:13:26,Do not take nifti as seeds anymore.,93379a302b78cfffde01057a89b2c2e357f09d96,,Do take nifti seed anymor,N,2015-02-17 21:18:44
186,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-17 21:18:44,Add mask handling,baf68c13f63c0743174df15241f8b60526b5dade,,add mask handl,N,2015-02-17 21:35:18
187,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-17 21:35:18,Add test with mask_img,958eeaaa462b1c7f8f98dea8ba2cec5cf6ab32d8,,add test maskimg,N,2015-02-17 22:35:26
188,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-17 22:35:26,Add more test for mask_img in nifti_spheres_masker.,9fd91029445d9a10c92da0c53a31bdf38ffcde89,,add test maskimg niftispheresmask,N,2015-02-15 16:35:59
189,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 16:35:59,Add test file. Minor fixes.,946495cfc00b83d4e59f56e7fad320291794ab8b,,add test file minor fix,N,2015-03-06 00:29:50
190,pull_request_commit,430,nilearn,nilearn,AlexandreAbraham,2015-03-06 00:29:50,Remove obsolete code,379da8383a21672c4f78e3918f70204442de04e1,,remov obsolet code,N,2015-03-07 10:05:10
1,issue_title,356,nilearn,nilearn,lesteve,2015-01-19 10:32:50,"Fixes #335.
",start issue,Add functions to slice and iterate over a 4D image,fix 335,N,2015-01-29 09:09:41
3,pull_request_title,356,nilearn,nilearn,lesteve,2015-01-19 10:32:50,"Fixes #335.
",3071c38abaab4dd0013500a085d83f0d9a305dfb,Add functions to slice and iterate over a 4D image,fix 335,N,2015-01-29 09:09:40
5,issue_comment,356,nilearn,nilearn,GaelVaroquaux,2015-01-22 17:42:29,"General design seems absolutely right to me.

I have this quirk about the conversion to 4D in-memory NiftiImage object that I think should be addressed. With data like the HCP data, people are really running into memory problems.
",,,gener design seem absolut right I quirk convers 4D inmemori niftiimag object I think address with data like hcp data peopl realli run memori problem,N,2015-01-29 09:29:39
12,issue_comment,356,nilearn,nilearn,lesteve,2015-01-22 15:28:58,"> ... but we just concluded that inside was better! Or am I wrong?

I think the outcome was that nested classes wasn't good practice, and we found a case where pickability was broken. Good enough for me to drop it. Also adding an underscore in front of the class name, namely using _Checked4DImageIterator makes me happy enough about the whole thing.
",,,I think outcom nest class wasnt good practic found case pickabl broken good enough drop also ad underscor front class name name use checked4dimageiter make happi enough whole thing,N,2015-01-27 10:44:52
13,issue_comment,356,nilearn,nilearn,lesteve,2015-01-27 10:44:52,"> What I find is somewhat a pity here is that if I am giving a list of strings (3D nifti files), the full data gets loaded.

OK I added a `return_iterator` optional argument to `check_niimgs` which I am now using in `iter_img` in order to address this problem.

Also just a heads up, I had to rebase to solve merge conflicts with upstream master.
",,,OK I ad option argument I use order address problem also head I rebas solv merg conflict upstream master,N,2015-01-29 09:22:53
14,issue_comment,356,nilearn,nilearn,AlexandreAbraham,2015-01-29 09:22:53,"Great!
",,,great,N,2015-01-29 09:35:22
70,pull_request_commit_comment,356,nilearn,nilearn,GaelVaroquaux,2015-01-22 19:02:00,"> ```
> Aside from making the code simpler, I don't see a benefit of the greedy
> loading.
> ```
> 
> I don't get this remark. You mean that we should be able to give an index
> parameter to check_niimg?

Ah! Your remark applied to check_niimg and not to index_niimg? Then I
mostly agree with it that two modes could be useful. My remark does apply
here, as it is a developer-oriented function.
",3071c38abaab4dd0013500a085d83f0d9a305dfb,"(39, '', u'nilearn/image/image.py')",Ah your remark appli checkniimg indexniimg then I mostli agre two mode could use My remark appli developerori function,N,2015-01-27 15:04:25
71,pull_request_commit_comment,356,nilearn,nilearn,AlexandreAbraham,2015-01-27 15:04:25,"Isn't that suboptimal if niimgs is a 4d nifti?
",3071c38abaab4dd0013500a085d83f0d9a305dfb,"(40, '', u'nilearn/_utils/niimg_conversions.py')",isnt suboptim niimg 4d nifti,N,2015-01-29 07:36:23
72,pull_request_commit_comment,356,nilearn,nilearn,lesteve,2015-01-29 07:36:23,"> Isn't that suboptimal if niimgs is a 4d nifti?

Remind me what did you mean by suboptimal? I seem to remember that you were concerned that `check_niimg` will be called on individual 3d images but that's not the case because `_index_niimgs` doesn't include checks and only does the data slicing + 3d image creation.
",3071c38abaab4dd0013500a085d83f0d9a305dfb,"(40, '', u'nilearn/_utils/niimg_conversions.py')",remind mean suboptim I seem rememb concern call individu 3d imag that case doesnt includ check data slice 3d imag creation,N,2015-01-29 08:30:58
73,pull_request_commit_comment,356,nilearn,nilearn,AlexandreAbraham,2015-01-29 08:30:58,"That was just a question ;). Forget it I was wrong.
",3071c38abaab4dd0013500a085d83f0d9a305dfb,"(40, '', u'nilearn/_utils/niimg_conversions.py')",that question forget I wrong,N,2015-01-29 09:09:21
87,pull_request_commit,356,nilearn,nilearn,lesteve,2015-01-22 15:11:48,"Move helper class outside function.

Mostly for pickability of the iterator returned by iter_img. Use an underscore in class name
to discourage its direct usage.
Also a docstring tweak",0e6b58ef7446180bc004cd0560b9557247ba65a4,,move helper class outsid function mostli pickabl iter return iterimg use underscor class name discourag direct usag also docstr tweak,N,2015-01-27 10:29:32
1,issue_title,518,nilearn,nilearn,AlexandreAbraham,2015-03-23 09:34:12,"A recent change (python3?) have broken the support of resuming. Also, the code can fail if server does not support resuming, like `craddock_2012` for example.

We have to:
- Fix the code
- Add more security check to rely on classical download if resuming fails without error
",start issue,Resuming is broken,A recent chang python3 broken support resum also code fail server support resum like exampl We fix code add secur check reli classic download resum fail without error,N,2015-03-25 14:54:46
2,issue_closed,518,nilearn,nilearn,AlexandreAbraham,2015-03-25 14:54:46,,closed issue,Resuming is broken,,N,2015-03-23 09:37:24
3,issue_comment,518,nilearn,nilearn,GaelVaroquaux,2015-03-23 09:37:24,"> The question is: do we add tests for that? I think that this would not
> be trivial at all

If it's really nasty to test, let's not test it.
",,,If realli nasti test let test,Y,2015-03-23 09:36:02
4,issue_comment,518,nilearn,nilearn,AlexandreAbraham,2015-03-23 09:36:02,"I may have ran into this problem this week-end when I was not supposed to work and I may have already fixed it. The question is: do we add tests for that? I think that this would not be trivial at all (due to the fact that we have to basically mock everything).
",,,I may ran problem weekend I suppos work I may alreadi fix the question add test I think would trivial due fact basic mock everyth,Y,2015-03-23 09:58:48
5,issue_comment,518,nilearn,nilearn,AlexandreAbraham,2015-03-23 09:58:48,"OK, let's add details for the record.

For `fetch_craddock_2012` and `fetch_localizer_calculations`, resuming is not supported. But, instead of raising error 206 saying that they do not support it, they just resend the whole file. The problem is that, on our side, we are unaware of the original size of the file and just trust the server.

Luckily, server who support resuming add a ""Content-range"" header with the size already downloaded and the total size of the file. We now rely on that header.

A good thing would be to behave like browsers : pre-allocate the size of the file and keep track of total size and already downloaded file. But that would mean to create a metadata file and a layer of complexity over the fetcher so I won't do it.
",,,OK let add detail record for resum support but instead rais error 206 say support resend whole file the problem side unawar origin size file trust server luckili server support resum add contentrang header size alreadi download total size file We reli header A good thing would behav like browser prealloc size file keep track total size alreadi download file but would mean creat metadata file layer complex fetcher I wont,N,2015-03-25 14:54:46
1,issue_title,371,nilearn,nilearn,bcipolli,2015-01-29 17:18:40,"Here, I've made the tests run with `UserWarning` causing errors.  I've debugged each of the warnings to find the root cause, and made one of three changes in every case:
- Tweaked the test to ignore that warning, if it's out of our control.
- Tweaked the test to expect that warning, if the test is designed to cause the warning
- Made small changes to the `nilearn` code to compensate for external bugs (there were 1 or 2 instances of this)
- Changed the `nilearn` code because of what I believe was a bug.

I have already gone through the commits once to try and make them clear; I will go through again to try and label what type of change I believe each one represents.

This makes the test output completely clean--warnings are either known to be ignored, expected (and tested), or fixed.  I think this is the best way to proceed to identify changes in the behavior of `nilearn` moving forward.

![image](https://cloud.githubusercontent.com/assets/4072455/5962296/c27d2390-a797-11e4-96a2-7b41ef12548f.png)
",start issue,Fix warnings thrown during tests,here ive made test run caus error ive debug warn find root caus made one three chang everi case tweak test ignor warn control tweak test expect warn test design caus warn made small chang code compens extern bug 1 2 instanc chang code I believ bug I alreadi gone commit tri make clear I go tri label type chang I believ one repres thi make test output complet cleanwarn either known ignor expect test fix I think best way proceed identifi chang behavior move forward imag,N,2015-03-18 18:30:02
2,issue_closed,371,nilearn,nilearn,bcipolli,2015-03-18 18:30:02,,closed issue,Fix warnings thrown during tests,,N,2015-01-29 17:18:40
3,pull_request_title,371,nilearn,nilearn,bcipolli,2015-01-29 17:18:40,"Here, I've made the tests run with `UserWarning` causing errors.  I've debugged each of the warnings to find the root cause, and made one of three changes in every case:
- Tweaked the test to ignore that warning, if it's out of our control.
- Tweaked the test to expect that warning, if the test is designed to cause the warning
- Made small changes to the `nilearn` code to compensate for external bugs (there were 1 or 2 instances of this)
- Changed the `nilearn` code because of what I believe was a bug.

I have already gone through the commits once to try and make them clear; I will go through again to try and label what type of change I believe each one represents.

This makes the test output completely clean--warnings are either known to be ignored, expected (and tested), or fixed.  I think this is the best way to proceed to identify changes in the behavior of `nilearn` moving forward.

![image](https://cloud.githubusercontent.com/assets/4072455/5962296/c27d2390-a797-11e4-96a2-7b41ef12548f.png)
",f6f73951f754bec79a57e804b7a507932de59100,Fix warnings thrown during tests,here ive made test run caus error ive debug warn find root caus made one three chang everi case tweak test ignor warn control tweak test expect warn test design caus warn made small chang code compens extern bug 1 2 instanc chang code I believ bug I alreadi gone commit tri make clear I go tri label type chang I believ one repres thi make test output complet cleanwarn either known ignor expect test fix I think best way proceed identifi chang behavior move forward imag,N,2015-01-29 19:02:54
4,issue_comment,371,nilearn,nilearn,GaelVaroquaux,2015-01-29 19:02:54,"> OK, happy to close this one until that is merged. Then I'll rebase and
> we can go from there!

Don't close it. Let us just no touch it.
",,,dont close let us touch,N,2015-02-02 22:16:00
5,issue_comment,371,nilearn,nilearn,GaelVaroquaux,2015-02-02 22:16:00,">   • I am -1 on the UserWarning (or any kind of warnings for that matter)

Same thing here: I think that it is a useful tool to debug/develop, but
shouldn't be on by default in the codebase.

> I put together a hack to silence warnings within nose,

Nice hack! I am -1 on using it in the codebase.
",,,same thing I think use tool debugdevelop shouldnt default codebas nice hack I 1 use codebas,N,2015-02-09 12:57:58
6,issue_comment,371,nilearn,nilearn,AlexandreAbraham,2015-02-09 12:57:58,"I realized that I haven't answered to this one. I am also -1 on removing warning for now. Reasons:
1. we are at version 0.1, not 1.0. We are doing our best to provide high quality code but things are not fixed and we can't impose such high requirements on quality for now.
2. spurious warning may rise depending on versions of packages. For exemple, using an old sklearn with newest numpy/scipy raises a lot of DeprecationWarning. Not sure how robust it is to catch'em all.

So, maybe some warning may legitimately be slienced, but a lot of them are natural and are not bugging more than that.
",,,I realiz I havent answer one I also 1 remov warn reason 1 version 01 10 We best provid high qualiti code thing fix cant impos high requir qualiti 2 spuriou warn may rise depend version packag for exempl use old sklearn newest numpyscipi rais lot deprecationwarn not sure robust catchem So mayb warn may legitim slienc lot natur bug,N,2015-02-10 19:12:06
7,issue_comment,371,nilearn,nilearn,bcipolli,2015-02-10 19:12:06,"OK.  In this case, shall we abandon this PR?  Despite the fact that I've done the work to make things ""high quality"", that no recent changes have added any new warnings, and that I've carefully described why I think it's important, there's clearly resistance from the team to follow through on it.

Just let me know where to go from here, and will do.  I'm fine even to abandon what's here, but some clear guidance on moving forward would be appreciated.
",,,OK In case shall abandon PR despit fact ive done work make thing high qualiti recent chang ad new warn ive care describ I think import there clearli resist team follow just let know go Im fine even abandon what clear guidanc move forward would appreci,N,2015-02-10 23:14:12
8,issue_comment,371,nilearn,nilearn,lesteve,2015-02-10 23:14:12,"I haven't looked at this one for a while, but when I did I thought that most of the commits reducing the warnings were fine to merge (I had some reservations about some of them, let me look at it more closely tomorrow). I think the main contention is about turning warnings into errors.
",,,I havent look one I I thought commit reduc warn fine merg I reserv let look close tomorrow I think main content turn warn error,N,2015-02-11 14:46:23
9,issue_comment,371,nilearn,nilearn,lesteve,2015-02-11 14:46:23,"Also before I forget, there are merge conflicts to fix.
",,,also I forget merg conflict fix,N,2015-02-28 21:05:21
10,issue_comment,371,nilearn,nilearn,bcipolli,2015-02-28 21:05:21,"I am back to this one.  I may cherry-pick some of the bugfixes here into separate, small PRs.  I also will review each PR to re-assess design of warning suppression, now that I'm much more familiar with numpy.
",,,I back one I may cherrypick bugfix separ small pr I also review PR reassess design warn suppress Im much familiar numpi,N,2015-03-01 05:37:26
11,issue_comment,371,nilearn,nilearn,bcipolli,2015-03-01 05:37:26,"I made the requested changes.  This included pulling about 10 commits and tweaking a couple of others.

I tested this code with https://github.com/nilearn/nilearn/pull/397 (minver of sklearn as 0.12.1) and with  https://github.com/nilearn/nilearn/pull/470 (mutipca / masker interaction), to make sure these changes worked with them.  They do.  I then pulled those commits from this branch, so that this can be merged independently.

The last commit is the one I'm least confident about.  I think the goal is the right one (users shouldn't see warnings for using our functions, it's confusing), but the implementation is not happy (suppressing all of those warnings after nilearn is loaded).  I would prefer to be less broad, but that would require more distributed code, and ... this is my current proposed compromise.

I've also opened up https://github.com/nilearn/nilearn/issues/471 for one final issue that I have been investigating.  I think that can be dealt with separately, so this should be ready for review.

I am removing ""WIP"", as I think this is much closer to being ready now.
",,,I made request chang thi includ pull 10 commit tweak coupl other I test code minver sklearn 0121 mutipca masker interact make sure chang work they I pull commit branch merg independ the last commit one Im least confid I think goal right one user shouldnt see warn use function confus implement happi suppress warn nilearn load I would prefer less broad would requir distribut code current propos compromis ive also open one final issu I investig I think dealt separ readi review I remov wip I think much closer readi,Y,2015-03-17 10:35:48
12,issue_comment,371,nilearn,nilearn,AlexandreAbraham,2015-03-17 10:35:48,"@lesteve are we merging this one or not?
",,,lestev merg one,N,2015-03-17 11:59:38
13,issue_comment,371,nilearn,nilearn,lesteve,2015-03-17 11:59:38,"> @lesteve are we merging this one or not?

Not sure I haven't looked at it for a while I have to say. I think there are some changes that are completely fine (e.g. replace `-mask` by `np.logical_not(mask)` and some that are more controversial (e.g. I am not convinced we should mess with warnings settings in `nilearn/__init__.py`).

I'll try to take a closer look in the upcoming days.
",,,not sure I havent look I say I think chang complet fine eg replac controversi eg I convinc mess warn set ill tri take closer look upcom day,N,2015-03-19 07:56:44
14,issue_comment,371,nilearn,nilearn,lesteve,2015-03-19 07:56:44,"@bcipolli did you mean to close this one? 

Maybe you were planning to introduce these changes by cutting this PR in smaller chunks, which I would be very much in favour of.
",,,bcipolli mean close one mayb plan introduc chang cut PR smaller chunk I would much favour,N,2015-03-19 11:50:27
15,issue_comment,371,nilearn,nilearn,AlexandreAbraham,2015-03-19 11:50:27,"Yeah there is a lot of great stuff in this PR. Please let us know if you drop it so that we take care of cherry picking the non-ambiguous ones ;)
",,,yeah lot great stuff PR pleas let us know drop take care cherri pick nonambigu one,N,2015-03-19 12:12:49
16,issue_comment,371,nilearn,nilearn,bcipolli,2015-03-19 12:12:49,"Feel free to cherry-pick!  I got tired of fixing merge conflicts while rebasing this, and fixing new warnings / the removal of old warnings as the code changed but warning-related things weren't checked carefully by tests.
",,,feel free cherrypick I got tire fix merg conflict rebas fix new warn remov old warn code chang warningrel thing werent check care test,Y,2015-02-02 22:10:16
17,issue_comment,371,nilearn,nilearn,lesteve,2015-02-02 22:10:16,"Before I start looking at the details of this PR, here are a few general comments:
- I am -1 on the UserWarning (or any kind of warnings for that matter) promoted to errors. It just seems to much of a burden on us to make sure that no warnings are issued for a wide range of numpy, scipy and scikit-learn versions for very little benefit IMHO. It makes sense every once in a while to look at the nosetests output and try to reduce the warnings coming from within the nilearn code but that's where I would stop. Maybe @GaelVaroquaux and @AlexandreAbraham can give their opinion too.
- it would be very nice if a few commits were removed in order to make this PR only about warnings. I am thinking mostly about cache_mixin.py -> cache.py renaming and ref_memory_level vs memory_level. Both of them deserve their own issue and/or PR.

I put together a hack to silence warnings within nose, if that can make people happier by reducing the noise when running the tests locally. Trust me it wasn't easy as I hoped and I tried a few dead-ends before getting something that actually worked. Put the following code in a script somewhere in your PATH and use it rather than nosetests:

``` python
#!/path/to/your/python

from nose import main
import warnings

if __name__ == '__main__':
    with warnings.catch_warnings(record=True):
        # catch_warnings with record=True is going to silence the warnings
        # by actually redefining warnings.showwarnings.
        # Depending on your use case you may want to uncomment the following line
        # warnings.simplefilter('ignore')
        main()
```

By the way I didn't know about the PYTHONWARNINGS environment variable. Definitely something to remember when trying to figure out where some pesky warnings come from (turn them into errors and look at the stacktrace).
",,,befor I start look detail PR gener comment I 1 userwarn kind warn matter promot error It seem much burden us make sure warn issu wide rang numpi scipi scikitlearn version littl benefit imho It make sens everi look nosetest output tri reduc warn come within nilearn code that I would stop mayb gaelvaroquaux alexandreabraham give opinion would nice commit remov order make PR warn I think mostli cachemixinpi I put togeth hack silenc warn within nose make peopl happier reduc nois run test local trust wasnt easi I hope I tri deadend get someth actual work put follow code script somewher path use rather nosetest By way I didnt know pythonwarn environ variabl definit someth rememb tri figur peski warn come turn error look stacktrac,Y,2015-02-03 08:50:33
18,issue_comment,371,nilearn,nilearn,lesteve,2015-02-03 08:50:33,"> > I put together a hack to silence warnings within nose,
> 
> Nice hack! I am -1 on using it in the codebase.

Goes without saying but given that it took me a while to get something that was fulfilling its promise of removing all the warnings, I thought I would share for people who want a quick and dirty way to have nice and tidy nosetests outputs.
",,,goe without say given took get someth fulfil promis remov warn I thought I would share peopl want quick dirti way nice tidi nosetest output,N,2015-01-29 19:01:25
19,issue_comment,371,nilearn,nilearn,bcipolli,2015-01-29 19:01:25,"OK, happy to close this one until that is merged.  Then I'll rebase and we can go from there!
",,,OK happi close one merg then ill rebas go,N,2015-02-01 15:45:13
20,issue_comment,371,nilearn,nilearn,bcipolli,2015-02-01 15:45:13,"Hmmm, I see that rebasing and force-pushing eliminated my per-commit comment explaining why I did what I did ... :(
",,,hmmm I see rebas forcepush elimin percommit comment explain I I,N,2015-02-01 15:46:11
21,issue_comment,371,nilearn,nilearn,bcipolli,2015-02-01 15:46:11,"also note that the test failure is due to #376 
",,,also note test failur due 376,Y,2015-02-02 22:21:58
22,issue_comment,371,nilearn,nilearn,bcipolli,2015-02-02 22:21:58,"Thanks for the thoughts, @lesteve !  I'm busy today, so will take time to respond tomorrow.

> Same thing here: I think that it is a useful tool to debug/develop, but
> shouldn't be on by default in the codebase.

Just to be clear: it is not on by default in the production code.  It is turned on during testing only.
",,,thank thought lestev Im busi today take time respond tomorrow just clear default product code It turn test,Y,2015-02-05 06:35:58
23,issue_comment,371,nilearn,nilearn,bcipolli,2015-02-05 06:35:58,"@lesteve @GaelVaroquaux A bit about my thinking here, and why I support throwing errors IN TESTS if unexpected warnings are thrown.

The goal here isn't just to clean up the output of tests.  It's that warnings hide potential bugs, and debugging warnings (and potential bugs) is much more laborious after the fact than it is at the time the warning is introduced.

If the goal is to eventually look into warnings, throwing on new warnings will make debugging things much easier.  Deferring will make the debugging harder, and will hide bugs--I found about 5 bugs in nilearn that I fixed in this PR that were hidden by warnings (including the caching issue that @AlexandreAbraham worked up properly).  I don't see any benefit of deferring here... to me it's the same benefit as having automated builds run through Travis.

In addition, it's my personal principle that warning output to the user should be carefully controlled.  Having strong expectations that tests either intentionally trigger warnings and validate them (lack of validation was causing some of the output), or do not trigger warnings at all (the default for tests), helps make this happen. It's a useful tool.  That doesn't have to be the principle here, but it's how I approached things in this PR.

Lastly, if the concern is that `sklearn` or others will throw lots of unexpected warnings... two responses: (1) We should all really hope that's not the case, that would suck for `nilearn`'s users.  If it is the case, however, I think we have some responsibility to see it ahead of time and mitigate it where possible. (2) It's so easy to turn the code to throw with warnings in the tests, if it becomes a problem... turn it off!

As of now, I've done the work to clean things up.  I think there's big benefits to keeping it that way, and not a lot of downside.  It's about avoiding bugs, keeping on top of potential issues, and making sure that users only get warnings when we really want them to.
",,,lestev gaelvaroquaux A bit think I support throw error IN test unexpect warn thrown the goal isnt clean output test it warn hide potenti bug debug warn potenti bug much labori fact time warn introduc If goal eventu look warn throw new warn make debug thing much easier defer make debug harder hide bugsi found 5 bug nilearn I fix PR hidden warn includ cach issu alexandreabraham work properli I dont see benefit defer benefit autom build run travi In addit person principl warn output user care control have strong expect test either intent trigger warn valid lack valid caus output trigger warn default test help make happen it use tool that doesnt principl I approach thing PR lastli concern other throw lot unexpect warn two respons 1 We realli hope that case would suck user If case howev I think respons see ahead time mitig possibl 2 it easi turn code throw warn test becom problem turn As ive done work clean thing I think there big benefit keep way lot downsid it avoid bug keep top potenti issu make sure user get warn realli want,Y,2015-02-05 06:40:38
24,issue_comment,371,nilearn,nilearn,bcipolli,2015-02-05 06:40:38,"@lesteve I will separate the commits as requested, will review the code myself, and then will post here when things look good from my vantage point.  Thanks!
",,,lestev I separ commit request review code post thing look good vantag point thank,N,2015-02-05 08:27:10
25,issue_comment,371,nilearn,nilearn,bcipolli,2015-02-05 08:27:10,"OK, I cleaned up the code and documented things a bit more.  After removing the changes here to the caching code, the 3 warnings-as-errors that indicated the bugs in the caching code came back.  So, I merged #386 to resolve those errors.  Let me know if a different approach is preferred.
",,,OK I clean code document thing bit after remov chang cach code 3 warningsaserror indic bug cach code came back So I merg 386 resolv error let know differ approach prefer,N,2015-02-19 17:20:21
26,issue_comment,371,nilearn,nilearn,bcipolli,2015-02-19 17:20:21,"Just a note: this is still on my radar, but I think some of the changes here are not the best.  Specifically, I'm looking closer at the numpy casting warnings, trying to figure out what's going on there, and whether there are recommended solutions (e.g. calling `.astype` to be careful about casting issues when doing `-=` / `+=`).
",,,just note still radar I think chang best specif Im look closer numpi cast warn tri figur what go whether recommend solut eg call care cast issu,N,2015-01-29 17:44:14
27,pull_request_commit_comment,371,nilearn,nilearn,AlexandreAbraham,2015-01-29 17:44:14,"This change is wrong. If it doesn't make a test fail, then a test is missing.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/_utils/cache.py')",thi chang wrong If doesnt make test fail test miss,Y,2015-01-29 17:45:48
28,pull_request_commit_comment,371,nilearn,nilearn,bcipolli,2015-01-29 17:45:48,"OK.  Can you help me understand why it's wrong?
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/_utils/cache.py')",OK can help understand wrong,N,2015-01-29 17:47:29
29,pull_request_commit_comment,371,nilearn,nilearn,AlexandreAbraham,2015-01-29 17:47:29,"Why did you increase the verbosity level here?
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/datasets.py')",whi increas verbos level,N,2015-01-29 17:51:43
30,pull_request_commit_comment,371,nilearn,nilearn,AlexandreAbraham,2015-01-29 17:51:43,"cosmit: I prefer using parenthesis rather than backspace.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/decomposition/multi_pca.py')",cosmit I prefer use parenthesi rather backspac,N,2015-01-29 17:53:01
31,pull_request_commit_comment,371,nilearn,nilearn,bcipolli,2015-01-29 17:53:01,"This is from the ""silencing"" PR... I suggest reviewing that one before this one, otherwise the two issues will be intertwined and hard to complete.

`verbose=0` was outputting here, so I upped everything (including the default) to keep everything on separate `verbose` levels, but to make `verbose=0` be silent.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/datasets.py')",thi silenc PR I suggest review one one otherwis two issu intertwin hard complet output I up everyth includ default keep everyth separ level make silent,N,2015-01-29 17:53:49
32,pull_request_commit_comment,371,nilearn,nilearn,AlexandreAbraham,2015-01-29 17:53:49,"Won't it be ugly in practice to show both values?
Also, you don't override `memory_level` anymore.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/decomposition/multi_pca.py')",wont ugli practic show valu also dont overrid anymor,N,2015-01-29 17:57:41
33,pull_request_commit_comment,371,nilearn,nilearn,AlexandreAbraham,2015-01-29 17:57:41,"Negative verbose should not be a problem.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/group_sparse_covariance.py')",neg verbos problem,N,2015-01-29 18:07:32
34,pull_request_commit_comment,371,nilearn,nilearn,lesteve,2015-01-29 18:07:32,"Not sure what's the best way to do it but @bcipolli could you remove the commits that are already in the #366 PR?

I believe you'll need to do that eventually when we want to merge into master.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/group_sparse_covariance.py')",not sure what best way bcipolli could remov commit alreadi 366 PR I believ youll need eventu want merg master,N,2015-01-29 18:07:55
35,pull_request_commit_comment,371,nilearn,nilearn,lesteve,2015-01-29 18:07:55,"I meant to say this particular change is in the #366 PR.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/group_sparse_covariance.py')",I meant say particular chang 366 PR,N,2015-01-29 18:11:15
36,pull_request_commit_comment,371,nilearn,nilearn,bcipolli,2015-01-29 18:11:15,"I'd prefer not to--I believe the two overlap a bit, and so I'd need to de-merge, then re-merge.  If I leave things as they are, if / when #366 is merged to master, I will be able to rebase much more smoothly (even if changes occur there).

In other projects, we dealt with this by looking at the changes on a commit-by-commit basis.  I think that's useful here; the commits break down pretty cleanly.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/group_sparse_covariance.py')",Id prefer toi believ two overlap bit Id need demerg remerg If I leav thing 366 merg master I abl rebas much smoothli even chang occur In project dealt look chang commitbycommit basi I think that use commit break pretti cleanli,N,2015-01-29 18:43:35
37,pull_request_commit_comment,371,nilearn,nilearn,GaelVaroquaux,2015-01-29 18:43:35,"> Negative verbose should not be a problem.

I think that they are a problem:

<pre>
In [1]: if -1: print 1
1
</pre>
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/group_sparse_covariance.py')",I think problem prein 1 1 print 1 1 pre,N,2015-01-29 18:44:39
38,pull_request_commit_comment,371,nilearn,nilearn,lesteve,2015-01-29 18:44:39,"Disclaimer I am not a git/github veteran but this seems to me a very strange way for me to proceed. What if you change something in #366, would you add the commit in this branch too so that the diff you mentioned above (https://github.com/bcipolli/nilearn/compare/bcipolli:allow_silence...fix_warnings) still makes sense?

Maybe somebody with more git/github experience than me can share his opninions.

Also I feel that linking the two PRs is not that great because while the stdout clean-up is a great thing (especially let's be honest for the dataset download mocking which was outputting thousands of lines or so) I am less convinced about trying to get rid of _all_ the warnings. Sure the warnings that we can fix in our code should be fixed but it seems too much a burden to go and catch all the warnings across a variety of numpy and scipy versions.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/group_sparse_covariance.py')",disclaim I gitgithub veteran seem strang way proceed what chang someth 366 would add commit branch diff mention still make sens mayb somebodi gitgithub experi share opninion also I feel link two pr great stdout cleanup great thing especi let honest dataset download mock output thousand line I less convinc tri get rid warn sure warn fix code fix seem much burden go catch warn across varieti numpi scipi version,N,2015-01-29 18:46:01
39,pull_request_commit_comment,371,nilearn,nilearn,GaelVaroquaux,2015-01-29 18:46:01,"> I'd prefer not to--I believe the two overlap a bit, and so I'd need to
> de-merge, then re-merge. If I leave things as they are, if / when #366
> is merged to master, I will be able to rebase much more smoothly (even
> if changes occur there).

Then I suggest that we stop reviewing this PR till #366 is merged.

> In other projects, we dealt with this by looking at the changes on a
> commit-by-commit basis.

That's not our workflow. We like to work based on PR. The github
interface makes this very easy to do. The benefit is that looking at the
whole PR makes it harder to miss something like the introduction of a
bug.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/group_sparse_covariance.py')",then I suggest stop review PR till 366 merg that workflow We like work base PR the github interfac make easi the benefit look whole PR make harder miss someth like introduct bug,N,2015-01-29 18:57:14
40,pull_request_commit_comment,371,nilearn,nilearn,lesteve,2015-01-29 18:57:14,"> Then I suggest that we stop reviewing this PR till #366 is merged.

That's probably the best way to do it while saving time and hassle for everybody involved. I don't think #366 is that far away from being merged anyway.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/group_sparse_covariance.py')",that probabl best way save time hassl everybodi involv I dont think 366 far away merg anyway,N,2015-01-29 18:58:58
41,pull_request_commit_comment,371,nilearn,nilearn,lesteve,2015-01-29 18:58:58,"Oops the PR is actually #369 (#366 is the issue), sorry about that.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/group_sparse_covariance.py')",oop PR actual 369 366 issu sorri,N,2015-02-02 17:05:08
42,pull_request_commit_comment,371,nilearn,nilearn,bcipolli,2015-02-02 17:05:08,"@AlexandreAbraham can you help me with this one?  The docstring says:

```
    ref_memory_level: int
        The reference memory_level used to determine if function call must
        be cached or not (if memory_level is larger than ref_memory_level
        the function is cached)
```

I believe this first check is for the not-caching condition, which means the code should be entered (according to the docstring) if `memory_level` is not larger than `ref_memory_level`.

Seems I should do  `ref_memory_level >= memory_level` on that reading...
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/_utils/cache.py')",alexandreabraham help one the docstr say I believ first check notcach condit mean code enter accord docstr larger seem I read,N,2015-02-02 17:07:03
43,pull_request_commit_comment,371,nilearn,nilearn,bcipolli,2015-02-02 17:07:03,"I believe this is a bug; I think it specifically suppresses `warning_class`, rather than forcing it to show (which is what I think we want.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/_utils/testing.py')",I believ bug I think specif suppress rather forc show I think want,N,2015-02-02 18:05:23
44,pull_request_commit_comment,371,nilearn,nilearn,AlexandreAbraham,2015-02-02 18:05:23,"This is weird. Are these parameters used somewhere? My impression is that the logic is in the mixin and that this function is always called with the default parameters.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/_utils/cache.py')",thi weird are paramet use somewher My impress logic mixin function alway call default paramet,N,2015-02-02 18:14:43
45,pull_request_commit_comment,371,nilearn,nilearn,bcipolli,2015-02-02 18:14:43,"As far as I can see, they're simply passed through (so could be user-specified), except here: https://github.com/nilearn/nilearn/blob/master/nilearn/input_data/base_masker.py#L170

Seems weird to set the `ref_memory_level` to `self.memory_level`, given the docstring--this would disable memory usage, in my understanding.  Which is admittedly very weak :)
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/_utils/cache.py')",As far I see theyr simpli pass could userspecifi except seem weird set given docstringthi would disabl memori usag understand which admittedli weak,N,2015-02-11 14:01:05
46,pull_request_commit_comment,371,nilearn,nilearn,lesteve,2015-02-11 14:01:05,"This is the main point of contention and should be removed.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'Makefile')",thi main point content remov,N,2015-02-11 14:01:21
47,pull_request_commit_comment,371,nilearn,nilearn,lesteve,2015-02-11 14:01:21,"inspect is already imported a few lines below
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/_utils/testing.py')",inspect alreadi import line,N,2015-02-11 14:07:08
48,pull_request_commit_comment,371,nilearn,nilearn,lesteve,2015-02-11 14:07:08,"From what I could see this was only used for the Neurodebian-specific warning. I think we can live without for now.

Quite annoying though, that there is no way to have a unittest.skipIf in python 2.6 ...
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/_utils/testing.py')",from I could see use neurodebianspecif warn I think live without quit annoy though way unittestskipif python 26,N,2015-02-11 14:12:59
49,pull_request_commit_comment,371,nilearn,nilearn,lesteve,2015-02-11 14:12:59,"I didn't manage to get a warning from this import and tried a few different numpy/scipy/sklearn versions. Do you remember how to get warnings from this import?
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/datasets.py')",I didnt manag get warn import tri differ numpyscipysklearn version Do rememb get warn import,N,2015-02-11 14:30:45
50,pull_request_commit_comment,371,nilearn,nilearn,lesteve,2015-02-11 14:30:45,"I would give up on this one as mentioned above.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/decomposition/tests/test_canica.py')",I would give one mention,N,2015-02-11 14:31:23
51,pull_request_commit_comment,371,nilearn,nilearn,lesteve,2015-02-11 14:31:23,"import probably not needed anymore if we give up on skipping the test for Neurodebian
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/decomposition/tests/test_canica.py')",import probabl need anymor give skip test neurodebian,Y,2015-02-11 14:33:10
52,pull_request_commit_comment,371,nilearn,nilearn,lesteve,2015-02-11 14:33:10,"I am not too sure about this one but we can probably live with the warning you get from `MultiPCA()`
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/decomposition/tests/test_multi_pca.py')",I sure one probabl live warn get,N,2015-02-11 14:33:16
53,pull_request_commit_comment,371,nilearn,nilearn,lesteve,2015-02-11 14:33:16,"This is probably a change from an old commit. I don't think we want it.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/input_data/nifti_masker.py')",thi probabl chang old commit I dont think want,N,2015-02-11 14:34:58
54,pull_request_commit_comment,371,nilearn,nilearn,lesteve,2015-02-11 14:34:58,"Can you motivate this one? It seems like you are changing the warning policy significantly but maybe you have a good reason for doing so.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/masking.py')",can motiv one It seem like chang warn polici significantli mayb good reason,N,2015-02-11 14:37:37
55,pull_request_commit_comment,371,nilearn,nilearn,lesteve,2015-02-11 14:37:37,"Is there no meaningful string you could use here for the warning message? In case there is none, you could consider using assert_warns instead.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/tests/test_region.py')",Is meaning string could use warn messag In case none could consid use assertwarn instead,N,2015-02-11 14:58:16
56,pull_request_commit_comment,371,nilearn,nilearn,AlexandreAbraham,2015-02-11 14:58:16,"I still don't understand why you are making a special case of `memory_level`. Here you silently change it which is, for me, not a behavior that we want. Could you elaborate on that?
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/decomposition/multi_pca.py')",I still dont understand make special case here silent chang behavior want could elabor,N,2015-02-11 15:16:58
57,pull_request_commit_comment,371,nilearn,nilearn,AlexandreAbraham,2015-02-11 15:16:58,"I'm fine with this modification.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/decomposition/tests/test_multi_pca.py')",Im fine modif,N,2015-02-11 15:17:12
58,pull_request_commit_comment,371,nilearn,nilearn,AlexandreAbraham,2015-02-11 15:17:12,":+1:
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/input_data/nifti_masker.py')",1,N,2015-02-11 15:17:54
59,pull_request_commit_comment,371,nilearn,nilearn,AlexandreAbraham,2015-02-11 15:17:54,"Good catch but dependant of the internal code of the masker. I think that this code should go in the masker anyway.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/decomposition/multi_pca.py')",good catch depend intern code masker I think code go masker anyway,N,2015-02-11 15:28:55
60,pull_request_commit_comment,371,nilearn,nilearn,AlexandreAbraham,2015-02-11 15:28:55,"It may be just me but I'm a bit worried about these catchs. I have the impression that we're putting a very high standard on tests that may frighten potential contributors. @lesteve sees no problem so this is a matter of taste.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/decoding/tests/test_searchlight.py')",It may Im bit worri catch I impress put high standard test may frighten potenti contributor lestev see problem matter tast,Y,2015-02-11 16:58:02
61,pull_request_commit_comment,371,nilearn,nilearn,GaelVaroquaux,2015-02-11 16:58:02,"> > -        if self.masker_.mask_img:

Should be 'is None', or something like this, as some objects (like
arrays) raise errors when tested with an 'if'.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/decomposition/multi_pca.py')",should none someth like object like array rais error test,Y,2015-03-01 00:03:18
62,pull_request_commit_comment,371,nilearn,nilearn,bcipolli,2015-03-01 00:03:18,"It used to be necessary, from the old caching code--no longer is.  I've also made a smaller set of changes for this, here: https://github.com/bcipolli/nilearn/commit/448c69154e3cff1c41ae9d44b42d891950f19255
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/decomposition/multi_pca.py')",It use necessari old cach codeno longer ive also made smaller set chang,N,2015-03-01 00:13:44
63,pull_request_commit_comment,371,nilearn,nilearn,bcipolli,2015-03-01 00:13:44,"Done.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'Makefile')",done,N,2015-03-01 00:18:03
64,pull_request_commit_comment,371,nilearn,nilearn,bcipolli,2015-03-01 00:18:03,"Done.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/_utils/testing.py')",done,N,2015-03-01 00:18:55
65,pull_request_commit_comment,371,nilearn,nilearn,bcipolli,2015-03-01 00:18:55,"I removed all the commits related to this, and opted for a more simple fix (ignore the warning), with a comment explaining.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/_utils/testing.py')",I remov commit relat opt simpl fix ignor warn comment explain,N,2015-03-01 00:22:21
66,pull_request_commit_comment,371,nilearn,nilearn,bcipolli,2015-03-01 00:22:21,"I have done this with the idea that tests should either: use things as intended (and get no warnings), or use things as not intended (and verify that warnings are emitted).
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/decomposition/tests/test_multi_pca.py')",I done idea test either use thing intend get warn use thing intend verifi warn emit,Y,2015-03-01 00:26:15
67,pull_request_commit_comment,371,nilearn,nilearn,bcipolli,2015-03-01 00:26:15,"I reverted this to the orginal `> 10` setting.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/input_data/nifti_masker.py')",I revert orgin set,N,2015-03-01 00:33:43
68,pull_request_commit_comment,371,nilearn,nilearn,bcipolli,2015-03-01 00:33:43,"This was my mistake, fixed.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/masking.py')",thi mistak fix,N,2015-03-01 00:33:50
69,pull_request_commit_comment,371,nilearn,nilearn,bcipolli,2015-03-01 00:33:50,"Fixed.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/tests/test_region.py')",fix,N,2015-03-01 00:34:12
70,pull_request_commit_comment,371,nilearn,nilearn,bcipolli,2015-03-01 00:34:12,"I created a separate PR for this.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/decomposition/multi_pca.py')",I creat separ PR,N,2015-03-01 05:07:00
71,pull_request_commit_comment,371,nilearn,nilearn,bcipolli,2015-03-01 05:07:00,"I removed this, and no longer see it; perhaps it was in one of the configs we removed?  I think keeping it out until we can find a config where the issue pops up, is for the best.
",f6f73951f754bec79a57e804b7a507932de59100,"(None, '', u'nilearn/datasets.py')",I remov longer see perhap one config remov I think keep find config issu pop best,N,2015-03-01 08:21:12
72,pull_request_commit_comment,371,nilearn,nilearn,GaelVaroquaux,2015-03-01 08:21:12,"Is the regexp at the end of the message desired? ('.' in regexp matches anything).
",f6f73951f754bec79a57e804b7a507932de59100,"(26, '', u'nilearn/__init__.py')",Is regexp end messag desir regexp match anyth,N,2015-03-01 15:14:21
73,pull_request_commit_comment,371,nilearn,nilearn,bcipolli,2015-03-01 15:14:21,"> Is the regexp at the end of the message desired? ('.' in regexp matches anything).

For me, not particularly desired or undesired.  With a match of this length and specificity, I didn't feel the need to be careful about the presence of `.`.  I would be happy to remove it if you'd like.
",f6f73951f754bec79a57e804b7a507932de59100,"(26, '', u'nilearn/__init__.py')",for particularli desir undesir with match length specif I didnt feel need care presenc I would happi remov youd like,N,2015-03-06 13:24:22
74,pull_request_commit_comment,371,nilearn,nilearn,banilo,2015-03-06 13:24:22,"necessary?
",f6f73951f754bec79a57e804b7a507932de59100,"(12, '', u'nilearn/_utils/testing.py')",necessari,N,2015-01-29 06:12:35
75,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 06:12:35,Get rid of warning due to (implicitly) computing mask on garbage data.,db2a3c65eca7997f187a26c523825bb5b3b9e3c6,,get rid warn due implicitli comput mask garbag data,N,2015-01-29 06:47:54
76,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 06:47:54,Ignore a warning about divide-by-zero for our dummy data; it's not important.,e7b8a3656df8d8142925f43df299697000b04157,,ignor warn dividebyzero dummi data import,N,2015-01-29 07:01:44
77,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 07:01:44,Fix warning re: negation of a boolean,a2525a5715c4a2e2fa86bde8a503da4134903736,,fix warn negat boolean,N,2015-01-29 08:11:27
78,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 08:11:27,"Implement good version of assert_warns, use it in",7d11d9d565b3999656f23a95952fa56dfb39a507,,implement good version assertwarn use,N,2015-01-29 08:30:13
79,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 08:30:13,Expect an 'empty mask' warning.,f00a09e203420b11bf45777d43d53d05aa8ef5e1,,expect empti mask warn,N,2015-01-29 08:43:29
80,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 08:43:29,Expect transform warnings.,dd0a771c6a6bae34d2760d326739f833b535720e,,expect transform warn,N,2015-01-29 08:53:07
81,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 08:53:07,Use assert_equal to get better error messages on failures.,a3be46f35458250f6253d69d0d7f1afb3a74a053,,use assertequ get better error messag failur,N,2015-01-29 09:00:03
82,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 09:00:03,Slicing cannot be done with floats.,2aecf5d5df6900cc8c29ec579de9e5bcb9d0328a,,slice cannot done float,N,2015-01-29 09:13:23
83,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 09:13:23,"Check expected ""Incompatible Cache"" warnings.",c0fe641d858c377f5a32ab3e7cff33a11eda66ea,,check expect incompat cach warn,N,2015-01-29 09:24:19
84,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 09:24:19,Expect the download warning.,ae79768476b8172bd5df6ced693feaf0fc8451a6,,expect download warn,N,2015-02-02 18:06:46
85,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-02 18:06:46,"Removing redunant code, adding docstring.",0b89d92f7100f54ebae3e1efbc8c36517bd6cb63,,remov redun code ad docstr,N,2015-02-05 07:51:11
86,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-05 07:51:11,be more specific about expected error.,30475ee5c7b0e9525d7b27ac7558bd455acb6ef7,,specif expect error,N,2015-02-18 00:36:35
87,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-18 00:36:35,Fix broken import introduced during conflict resolution.,72f0b81e22245faf694af271664d603687828c14,,fix broken import introduc conflict resolut,N,2015-01-29 13:45:06
88,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-01-29 13:45:06,Stop subscripting the Warning object.,66f06da1abdaef98a0eebace6f6abfb318ff9ec4,,stop subscript warn object,N,2015-02-18 00:45:02
89,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-18 00:45:02,Avoid divide-by-zero errors.,210625b5113c2679fa196e0efd8d08f00adbb131,,avoid dividebyzero error,N,2015-02-28 21:42:53
90,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-28 21:42:53,Ignore failure for FastICA to converge; it doesn't matter.,5f40122b6365921297c7c383c66e463cc7a32d3f,,ignor failur fastica converg doesnt matter,N,2015-02-28 21:46:44
91,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-28 21:46:44,Suppress Ward Agglomeration cluster complaint.,c5d0d39a82de6533df3eac20bdee503e2411ebcd,,suppress ward agglomer cluster complaint,N,2015-02-28 22:27:51
92,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-28 22:27:51,Expect a warning when signal clean parameters are not quite right.,9e3a1af0062eccfeed40c379a4fcad61dfc7a5a3,,expect warn signal clean paramet quit right,N,2015-02-28 23:38:26
93,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-02-28 23:38:26,Be smart enough to avoid warnings with default parameters.  'memory' is the tricky case.,b869cb2864918fbf20b1f4ebf134faefcdf6fa55,,Be smart enough avoid warn default paramet memori tricki case,N,2015-03-01 00:12:03
94,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-03-01 00:12:03,Change assert_warns_regex with empty string to assert_warns.,f6cb15cab6ed4bfccf0c519c6aba711a55102059,,chang assertwarnsregex empti string assertwarn,N,2015-03-01 04:55:12
95,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-03-01 04:55:12,"[int] -= [float] doesn't do what you think it does (it implicitly casts the float to int).  We need to weed these out.
https://github.com/numpy/numpy/issues/4704",de46a14aa5987ff2c89b60919c37f0f4fc07fa0b,,int float doesnt think implicitli cast float int We need weed,N,2015-03-01 04:56:07
96,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-03-01 04:56:07,Suppress user warnings that we internally trigger.  Otherwise the user may think something may be going wrong.,9f7f229b715b46c73b420f1aa3f8b05439344184,,suppress user warn intern trigger otherwis user may think someth may go wrong,N,2015-03-01 05:43:11
97,pull_request_commit,371,nilearn,nilearn,bcipolli@ucsd.edu,2015-03-01 05:43:11,"Remove specific checks from old sklearn, check_cv.",766b53b3dd1f1b838b6c8e3f4c18af2b142cadae,,remov specif check old sklearn checkcv,N,2015-03-18 18:01:23
1,issue_title,405,nilearn,nilearn,mrahim,2015-02-05 16:00:34,"Fix #368 
",start issue,[MRG] adding resampling parameter when plotting,fix 368,N,2015-02-06 09:19:27
2,issue_closed,405,nilearn,nilearn,lesteve,2015-02-06 09:19:27,,closed issue,[MRG] adding resampling parameter when plotting,,N,2015-02-05 16:00:34
3,pull_request_title,405,nilearn,nilearn,mrahim,2015-02-05 16:00:34,"Fix #368 
",fe455526e5e10bcd319d27ae3adff07a4944ee0b,[MRG] adding resampling parameter when plotting,fix 368,N,2015-02-06 09:19:27
4,pull_request_merged,405,nilearn,nilearn,lesteve,2015-02-06 09:19:27,[MRG] adding resampling parameter when plotting,967200fd33d3f5ca3e58ba3d10ddd8c472772d63,Pull request merge from mrahim/nilearn:plot_img to nilearn/nilearn:master,mrg ad resampl paramet plot,N,2015-02-05 17:07:52
5,issue_comment,405,nilearn,nilearn,GaelVaroquaux,2015-02-05 17:07:52,"LGTM. Merging as soon as travis passes. Thanks!
",,,lgtm merg soon travi pass thank,Y,2015-02-06 09:19:24
6,issue_comment,405,nilearn,nilearn,lesteve,2015-02-06 09:19:24,"OK merging this one, thanks a lot. There are still a few grey areas but that's not critical and we can look at it after the release.
",,,OK merg one thank lot there still grey area that critic look releas,N,2015-02-05 15:31:23
7,pull_request_commit,405,nilearn,nilearn,mrahim,2015-02-05 15:31:23,"adding resampling parameter when plotting

Conflicts:
	nilearn/plotting/img_plotting.py",82283bccc665c6abff6ce137012021c92418eb9b,,ad resampl paramet plot conflict nilearnplottingimgplottingpi,N,2015-02-05 16:07:40
8,pull_request_commit,405,nilearn,nilearn,mrahim,2015-02-05 16:07:40,cosmit,ed8bdb37acabcbb33461976747b5034cfe8a973b,,cosmit,N,2015-02-05 16:35:35
9,pull_request_commit,405,nilearn,nilearn,mrahim,2015-02-05 16:35:35,fixed argument multiple values,3a2829bc24b8299444796131256a9a0cfb7b3da8,,fix argument multipl valu,N,2015-02-05 16:42:11
10,pull_request_commit,405,nilearn,nilearn,mrahim,2015-02-05 16:42:11,fixed argument multiple values,c6deb4321816e88fb6c0db05bb6b0b61ea1e0009,,fix argument multipl valu,N,2015-02-05 17:01:04
11,pull_request_commit,405,nilearn,nilearn,mrahim,2015-02-05 17:01:04,test_img_plotting: reduced niimg size,346f1b45971903e74b9584094c7348f671fe8438,,testimgplot reduc niimg size,N,2015-02-06 09:11:21
1,issue_title,478,nilearn,nilearn,AlexandreAbraham,2015-03-03 12:54:41,"This PR is a first step toward fixing #380. I have simply moved all nibabel related code (except for test code and a special hack in MultiPCA) to an indenpendant module. Since this code is already tested by most of nilearn functions, I simply added a test for a special case that wasn't covered.

I think that the discussion will mostly focus on the naming conventions. I'd like to merge it fast as it will massively impact further PR. We should also be careful for the upcoming PR: nibabel must never be imported except for test (because nilearn input are nibabel objects) and specific Nifti1Image manipulation (in the latter case, the code should be in the dedicated module).
",start issue,Put specific nibabel code in a separate module,thi PR first step toward fix 380 I simpli move nibabel relat code except test code special hack multipca indenpend modul sinc code alreadi test nilearn function I simpli ad test special case wasnt cover I think discuss mostli focu name convent Id like merg fast massiv impact PR We also care upcom PR nibabel must never import except test nilearn input nibabel object specif nifti1imag manipul latter case code dedic modul,N,2015-03-18 14:53:09
2,issue_closed,478,nilearn,nilearn,AlexandreAbraham,2015-03-18 14:53:09,,closed issue,Put specific nibabel code in a separate module,,N,2015-03-03 12:54:41
3,pull_request_title,478,nilearn,nilearn,AlexandreAbraham,2015-03-03 12:54:41,"This PR is a first step toward fixing #380. I have simply moved all nibabel related code (except for test code and a special hack in MultiPCA) to an indenpendant module. Since this code is already tested by most of nilearn functions, I simply added a test for a special case that wasn't covered.

I think that the discussion will mostly focus on the naming conventions. I'd like to merge it fast as it will massively impact further PR. We should also be careful for the upcoming PR: nibabel must never be imported except for test (because nilearn input are nibabel objects) and specific Nifti1Image manipulation (in the latter case, the code should be in the dedicated module).
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,Put specific nibabel code in a separate module,thi PR first step toward fix 380 I simpli move nibabel relat code except test code special hack multipca indenpend modul sinc code alreadi test nilearn function I simpli ad test special case wasnt cover I think discuss mostli focu name convent Id like merg fast massiv impact PR We also care upcom PR nibabel must never import except test nilearn input nibabel object specif nifti1imag manipul latter case code dedic modul,N,2015-03-18 14:53:09
4,pull_request_merged,478,nilearn,nilearn,AlexandreAbraham,2015-03-18 14:53:09,Put specific nibabel code in a separate module,f79dd6e2aa61274e94854b43278f0d5a48bae3e0,Pull request merge from AlexandreAbraham/nilearn:isolate_nibabel to nilearn/nilearn:master,put specif nibabel code separ modul,N,2015-03-03 18:30:19
5,issue_comment,478,nilearn,nilearn,bcipolli,2015-03-03 18:30:19,"I would suggest to name it `_new_img`, if it's an internal-only / hidden API.  Or, if it's planned to recommend users to use this function, I suggest adding a docstring to `new_img` about what object type is returned.
",,,I would suggest name internalonli hidden api Or plan recommend user use function I suggest ad docstr object type return,N,2015-03-03 19:02:07
6,issue_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-03 19:02:07,"It is already located in `utils` which is hidden. However, I must admit that I didn't get the naming conventions in there (for example `_get_shape`).
",,,It alreadi locat hidden howev I must admit I didnt get name convent exampl,N,2015-03-03 21:50:56
7,issue_comment,478,nilearn,nilearn,bthirion,2015-03-03 21:50:56,"Looks good otherwise. I don't see any travis output ?
",,,look good otherwis I dont see travi output,Y,2015-03-03 21:54:33
8,issue_comment,478,nilearn,nilearn,bthirion,2015-03-03 21:54:33,"There are still many calls to Nifti1Image throughout all the codebase...
",,,there still mani call nifti1imag throughout codebas,N,2015-03-03 23:36:41
9,issue_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-03 23:36:41,"Yes, I noticed that on my way back home ;). I fixed the last occurences.
",,,ye I notic way back home I fix last occur,N,2015-03-04 08:16:24
10,issue_comment,478,nilearn,nilearn,lesteve,2015-03-04 08:16:24,"Naming suggestions:
- maybe something like create_img or make_img ?
- about the filename why not nibabel_image.py rather than niimage.py to make it more explicit that it is a nibabel wrapper? Also niimage.py doesn't follow the same naming convention than niimg_conversions.py in _utils
",,,name suggest mayb someth like createimg makeimg filenam nibabelimagepi rather niimagepi make explicit nibabel wrapper also niimagepi doesnt follow name convent niimgconversionspi util,N,2015-03-04 09:04:45
11,issue_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-04 09:04:45,"> maybe something like create_img or make_img ?

Not a big fan, I prefer `new_img`.

> why not nibabel_image.py

Because we don't want to be tied to nibabel. If one day we change the image format nilearn relies on, all we will have to do is to change the dependency on that file.

> Also niimage.py doesn't follow the same naming convention than niimg_conversions.py in _utils

I agree, `niimg_conversions` is definitely a bad name ;)
",,,not big fan I prefer becaus dont want tie nibabel If one day chang imag format nilearn reli chang depend file I agre definit bad name,N,2015-03-05 08:54:39
12,issue_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-05 08:54:39,"I am going to rename niimage -> niimg (but it could be img)

@GaelVaroquaux any thoughts on this one? I'd like to merge it fast as it is just code refactoring.
",,,I go renam niimag gaelvaroquaux thought one Id like merg fast code refactor,N,2015-03-05 21:02:26
13,issue_comment,478,nilearn,nilearn,eickenberg,2015-03-05 21:02:26,"In reading through all the changed code, I feel that `new_img` is actually really nice on the eyes. 

@GaelVaroquaux I totally understand your apprehension about thin wrappers since they definitely add a layer, however thin it is. As somebody who has difficulties getting into new codebases and their practices, this type of thing would definitely be an added one for me.

But really, `new_img` seems very elegant to me, at least much more elegant than `nibabel.Nifti1Image` -- which to new users may actually be equally shocking simply by its unwieldiness.

`nibabel.Nifti1Image` still works for anybody who wants to use it, and one can always see `new_img` as a simple alias, so I really think this change is worth it.

Wrt `new_img_like`, maybe tackling it right now is a good idea. Do we need a discussion about the `mode=` that had been put forward? (I am not sure which ones there would be.)
",,,In read chang code I feel actual realli nice eye gaelvaroquaux I total understand apprehens thin wrapper sinc definit add layer howev thin As somebodi difficulti get new codebas practic type thing would definit ad one but realli seem eleg least much eleg new user may actual equal shock simpli unwieldi still work anybodi want use one alway see simpl alia I realli think chang worth wrt mayb tackl right good idea Do need discuss put forward I sure one would,N,2015-03-05 21:11:14
14,issue_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-05 21:11:14,"You would achieve the same effect by doing: `from nibabel import Nifti1Image as niimg` for example. Aliasing is not the best practice but it is maybe better than a wrapper.
",,,you would achiev effect exampl alias best practic mayb better wrapper,N,2015-03-05 21:15:24
15,issue_comment,478,nilearn,nilearn,eickenberg,2015-03-05 21:15:24,"I realized that while typing the word _alias_, originally intended to be more figurative than real. Small caps for a class is not cool, and `Niimg` ... would look weird wrt all the other true functions that contain the word `niimg`. I think I am overthinking this.
",,,I realiz type word alia origin intend figur real small cap class cool would look weird wrt true function contain word I think I overthink,N,2015-03-06 12:55:31
16,issue_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-06 12:55:31,"OK, this PR is back on track again (because I like to nilearn a bit after lunch). I'm afraid that my renaming of the file erased the comments but I will address them when I have time.

Changes:
- Remove the one-liner `save_img` (since SpatialImage provides the `to_filename` method
- Refactor the one-liner `new_img` into `new_img_like` that actually does something. The constructor of the original type of the image is used to be able to support any type (this is the way nibabel handles it). I also put in there some small tweaks.
- Propagate the changes through all the code. Tests are passing but review is welcome as I sometimes had to change things a little bit.
",,,OK PR back track I like nilearn bit lunch Im afraid renam file eras comment I address I time chang remov onelin sinc spatialimag provid method refactor onelin actual someth the constructor origin type imag use abl support type way nibabel handl I also put small tweak propag chang code test pass review welcom I sometim chang thing littl bit,Y,2015-03-06 13:03:16
17,issue_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-06 13:03:16,"Rebased on master for python3 compliance.
",,,rebas master python3 complianc,N,2015-03-09 15:48:10
18,issue_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-09 15:48:10,"Rebased. Any other objection on this one? I think that I've addressed all the comments and that it is now actually a step forward cleaning code in nilearn ;).
",,,rebas ani object one I think ive address comment actual step forward clean code nilearn,N,2015-03-09 18:06:01
19,issue_comment,478,nilearn,nilearn,lesteve,2015-03-09 18:06:01,"By the way the error you are seeing in Travis has been fixed in master so you probably want to do a rebase.
",,,By way error see travi fix master probabl want rebas,Y,2015-03-11 09:47:39
20,issue_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-11 09:47:39,"Squashed last commits.
",,,squash last commit,N,2015-03-12 08:48:45
21,issue_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-12 08:48:45,"Sidenote: doc must be rewritten but I will do that after @GaelVaroquaux's #483 has been merged.
",,,sidenot doc must rewritten I gaelvaroquaux 483 merg,N,2015-03-03 21:44:37
22,pull_request_commit_comment,478,nilearn,nilearn,bthirion,2015-03-03 21:44:37,"dosctring ?
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",dosctr,N,2015-03-03 21:47:32
23,pull_request_commit_comment,478,nilearn,nilearn,bthirion,2015-03-03 21:47:32,"dosctring ?
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",dosctr,N,2015-03-05 16:29:12
24,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-05 16:29:12,"Can you give us a docstring that says what's in this module?

Also license information as a comment.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",can give us docstr say what modul also licens inform comment,N,2015-03-05 16:29:49
25,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-05 16:29:49,"Please define input and output types in the docstring.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",pleas defin input output type docstr,N,2015-03-05 16:30:34
26,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-05 16:30:34,"I tend to have a strong bias against such a wrapper function that does nothing more than the function it wraps. The reason is that it makes the code opaque.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",I tend strong bia wrapper function noth function wrap the reason make code opaqu,N,2015-03-05 16:31:23
27,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-05 16:31:23,"Why? Why such a  one-liner. Why not teach our users to use 'to_filename' (which is a pretty bad method name, but let's move forward.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",whi whi onelin whi teach user use tofilenam pretti bad method name let move forward,N,2015-03-05 18:57:33
28,pull_request_commit_comment,478,nilearn,nilearn,banilo,2015-03-05 18:57:33,"General remark: there appears to be quite some inconsistency in when and how this function is used in nilearn code.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",gener remark appear quit inconsist function use nilearn code,N,2015-03-05 18:58:44
29,pull_request_commit_comment,478,nilearn,nilearn,banilo,2015-03-05 18:58:44,"rather ""line above""?
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",rather line,N,2015-03-05 19:00:44
30,pull_request_commit_comment,478,nilearn,nilearn,banilo,2015-03-05 19:00:44,"I might have asked this question before: Why is there no is_niimg(obj) in nilearn? ...one that verifies whether the object is Nifti1Image/iterable/list?
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",I might ask question whi isniimgobj nilearn one verifi whether object nifti1imageiterablelist,N,2015-03-05 19:03:17
31,pull_request_commit_comment,478,nilearn,nilearn,banilo,2015-03-05 19:03:17,"> Why such a one-liner.

+1
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",1,N,2015-03-05 19:07:26
32,pull_request_commit_comment,478,nilearn,nilearn,banilo,2015-03-05 19:07:26,"I like new_img() already.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/plotting/img_plotting.py')",I like newimg alreadi,N,2015-03-05 19:32:10
33,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-05 19:32:10,"You mean that it is sometimes used from `niimg_conversion` module? I've seen that in the tests, I will fix it. 
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",you mean sometim use modul ive seen test I fix,Y,2015-03-05 19:35:25
34,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-05 19:35:25,"No, I think that this comment refer to the last line of the function.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",No I think comment refer last line function,N,2015-03-05 19:36:35
35,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-05 19:36:35,"I think it's because it boils down to loading the data itself so doing the equivalent of `check_niimg`.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",I think boil load data equival,N,2015-03-05 19:48:40
36,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-05 19:48:40,"As said in the description, this PR does nothing but moving the code around. Since nibabel related functions were scattered all around the code, I moved them all there. While doing that, I seized the occasion to remove all `nibabel` related code and put aliases here. I think this is a good practice to _abstract_ this dependency but I can revert it back to what it was.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",As said descript PR noth move code around sinc nibabel relat function scatter around code I move while I seiz occas remov relat code put alias I think good practic abstract depend I revert back,N,2015-03-05 19:49:49
37,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-05 19:49:49,"This is the purpose of the PR: remove any reference to nibabel all around the code. A `niimg` being an object exposing `get_data()` and `get_affine()` method, I wrapped the call to `to_filename()`.
Also all this code is located in `_utils` so users should not use it.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",thi purpos PR remov refer nibabel around code A object expos method I wrap call also code locat user use,N,2015-03-05 19:51:27
38,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-05 19:51:27,"> This is the purpose of the PR: remove any reference to nibabel all around the
> code.

I don't think that this is a worthwhile goal per-se: it will simply make
the code opaque. It is good thing to explicitely know that we are using
nibabel.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",I dont think worthwhil goal pers simpli make code opaqu It good thing explicit know use nibabel,N,2015-03-05 20:00:01
39,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-05 20:00:01,"OK, so I can close this PR and we let the code related to nifti images in niimg_conversion.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",OK I close PR let code relat nifti imag niimgconvers,N,2015-03-05 20:34:52
40,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-05 20:34:52,"> OK, so I can close this PR and we let the code related to nifti images in
> niimg_conversion.

Well, maybe this PR was bringing in useful cleanups?
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",well mayb PR bring use cleanup,N,2015-03-05 20:45:10
41,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-05 20:45:10,"There is no code engineering in this PR, only moving around some code (mainly from niimg_conversion to niimage) and adding a test. If we don't want to isolate nibabel in a file, there is no reason to refactor the code. If we want to keep something from this PR, I think it would be easier to create a new (clean) one.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",there code engin PR move around code mainli niimgconvers niimag ad test If dont want isol nibabel file reason refactor code If want keep someth PR I think would easier creat new clean one,Y,2015-03-05 20:46:28
42,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-05 20:46:28,"I have no issue with moving code around. It's just the thin abstractions
introduced that I don't like. Based on my experience of discovering a new
codebase, they render a codebase opaque to an outsider.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",I issu move code around it thin abstract introduc I dont like base experi discov new codebas render codebas opaqu outsid,N,2015-03-05 20:50:49
43,pull_request_commit_comment,478,nilearn,nilearn,eickenberg,2015-03-05 20:50:49,"Once the header-related `new_img_like` (or however it will be called) becomes reality, the function name `new_img` will probably be looked for by users that know the former. Yes, this is `__future__` talk :) but in that light this addition seems very much consistent.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",onc headerrel howev call becom realiti function name probabl look user know former ye talk light addit seem much consist,N,2015-03-05 20:52:41
44,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-05 20:52:41,"> Once the header-related new_img_like (or however it will be called) becomes
> reality, the function name new_img will probably be looked for by users that
> know the former. Yes, this is **future** talk :) but in that light this
> addition seems very much consistent.

OK, then let's tackle this problem now. I don't want to design abstractions
for future usage, as this is a very slippery slope.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",OK let tackl problem I dont want design abstract futur usag slipperi slope,N,2015-03-05 20:57:52
45,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-05 20:57:52,"> Once the header-related new_img_like (or however it will be called) becomes reality, the function name new_img will probably be looked for by users that know the former.

Do you plan to make `new_img_like` available to the users? I thought that it would be internal cuisine.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",Do plan make avail user I thought would intern cuisin,N,2015-03-05 20:58:37
46,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-05 20:58:37,"> Do you plan to make new_img_like available to the users? I thought that it
> would be internal cuisine.

Agreed.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimage.py')",agre,N,2015-03-06 14:43:33
47,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-06 14:43:33,"Since SpatialImage should provide `shape` property, I am in favor of removing this one.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimg.py')",sinc spatialimag provid properti I favor remov one,N,2015-03-06 14:44:08
48,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-06 14:44:08,"Should this be replaced by `isinstance(nibabel.spatialimages.SpatialImage)?
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimg.py')",should replac,N,2015-03-06 14:45:00
49,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-06 14:45:00,"I am not satisfied with that but I don't know how to say here that the type is depending on an input.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimg.py')",I satisfi I dont know say type depend input,N,2015-03-06 14:45:42
50,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-06 14:45:42,"This is wrong.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimg.py')",thi wrong,N,2015-03-06 15:57:57
51,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-06 15:57:57,"Just cosmit refactoring: I return in this condition instead of having a huge condition block.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(68, '', u'nilearn/_utils/testing.py')",just cosmit refactor I return condit instead huge condit block,N,2015-03-06 15:59:29
52,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-06 15:59:29,"Treating the first file first each time greatly simplify the code.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/image/image.py')",treat first file first time greatli simplifi code,N,2015-03-06 15:59:44
53,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-06 15:59:44,"We have to ensure that the mask is bool.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/image/resampling.py')",We ensur mask bool,N,2015-03-06 16:01:01
54,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-06 16:01:01,"> We have to ensure that the mask is bool.

I think that sklearn.utils.fixes.as_type(mask, np.bool) would be more
memory-friendly.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/image/resampling.py')",I think sklearnutilsfixesastypemask npbool would memoryfriendli,N,2015-03-06 23:42:02
55,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-06 23:42:02,"Memory consumption is the same (we need a boolean copy of img.get_data()). From my experience, direct operations are faster than `astype`.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/image/resampling.py')",memori consumpt need boolean copi imggetdata from experi direct oper faster,N,2015-03-07 08:22:18
56,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-07 08:22:18,"> Memory consumption is the same (we need a boolean copy of
> img.get_data()).

Because it is impossible to have booleans in nifti, right? Elsewhere it
would indeed be different.

That just reminded me what is the ""right"" way to do it in the nilearn
codebase: _utils.numpy_conversions._asarray(arr, dtype=np.bool). This
code does some tricks to avoid a memory copy when converting from int8 to
bool. Philippe wrote that because he was annoyed that we couldn't store
booleans in nifti files.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/image/resampling.py')",becaus imposs boolean nifti right elsewher would inde differ that remind right way nilearn codebas utilsnumpyconversionsasarrayarr dtypenpbool thi code trick avoid memori copi convert int8 bool philipp wrote annoy couldnt store boolean nifti file,N,2015-03-07 13:55:51
57,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-07 13:55:51,"Fixed.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/image/resampling.py')",fix,N,2015-03-09 15:56:11
58,pull_request_commit_comment,478,nilearn,nilearn,eickenberg,2015-03-09 15:56:11,"Is this still necessary?
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimg.py')",Is still necessari,N,2015-03-09 17:26:54
59,pull_request_commit_comment,478,nilearn,nilearn,lesteve,2015-03-09 17:26:54,"Should the exception type be a bit more specific, like AttributeError?
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimg.py')",should except type bit specif like attributeerror,N,2015-03-09 17:57:38
60,pull_request_commit_comment,478,nilearn,nilearn,lesteve,2015-03-09 17:57:38,"Sorry I don't get this, the only use I could find of using _MNI152Template was without any arguments in the `__init__`.

Also just curious, what's the advantage of having _MNI152Template be an image?
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/plotting/img_plotting.py')",sorri I dont get use I could find use mni152templ without argument also curiou what advantag mni152templ imag,N,2015-03-09 18:02:23
61,pull_request_commit_comment,478,nilearn,nilearn,lesteve,2015-03-09 18:02:23,"Should ""Nifti1Image object"" be replaced by ""Image object"" or ""SpatialImage object""?
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(20, '', u'nilearn/_utils/niimg.py')",should nifti1imag object replac imag object spatialimag object,N,2015-03-09 18:58:58
62,pull_request_commit_comment,478,nilearn,nilearn,lesteve,2015-03-09 18:58:58,"I agree unless someone comes up with a compelling use case of using an `img` which is not a `nibabel.SpatialImage`.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimg.py')",I agre unless someon come compel use case use,N,2015-03-09 19:05:23
63,pull_request_commit_comment,478,nilearn,nilearn,lesteve,2015-03-09 19:05:23,"Can you use ""Niimg-like object"" which is the convention we tried to use everywhere else previously? Bonus points if you add the doc URL too.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimg.py')",can use niimglik object convent tri use everywher els previous bonu point add doc url,N,2015-03-09 19:21:48
64,pull_request_commit_comment,478,nilearn,nilearn,lesteve,2015-03-09 19:21:48,"I assumed that new_img_like would only take an `img` object rather than a niimg-like one. Is this added functionality actually used in the code?
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimg.py')",I assum newimglik would take object rather niimglik one Is ad function actual use code,N,2015-03-09 19:30:22
65,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-09 19:30:22,"Does anybody know what problem solves this function? From what I understand, if the data is memmaped, it loads it into memory. First:
- Why is this behavior needed?
- Why not using directly the functions provided by nibabel to do so?
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(19, '', u'nilearn/_utils/niimg.py')",doe anybodi know problem solv function from I understand data memmap load memori first whi behavior need whi use directli function provid nibabel,N,2015-03-09 19:30:46
66,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-09 19:30:46,"Not sure if all SpatialImage have a cache...
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(20, '', u'nilearn/_utils/niimg.py')",not sure spatialimag cach,N,2015-03-09 19:31:47
67,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-09 19:31:47,"Ok, I'll wait a bit before changing that part.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimg.py')",Ok ill wait bit chang part,N,2015-03-09 19:32:30
68,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-09 19:32:30,"> Does anybody know what problem solves this function? From what I understand, if
> the data is memmaped, it loads it into memory. First:

I think that the goal is to prevent memory leaks: when 'get_data' is
called, the niftiimage object has the data attached to it. If a reference
is kept on this object, outside of the function, we have a memory leak,
as the function just loaded data that won't be removed.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(19, '', u'nilearn/_utils/niimg.py')",I think goal prevent memori leak getdata call niftiimag object data attach If refer kept object outsid function memori leak function load data wont remov,N,2015-03-09 19:33:45
69,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-09 19:33:45,"No idea what is the difference between an `img` and a `niimg-like`.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimg.py')",No idea differ,N,2015-03-09 19:46:17
70,pull_request_commit_comment,478,nilearn,nilearn,lesteve,2015-03-09 19:46:17,"> No idea what is the difference between an img and a niimg-like.

Hint: one is almost like the other. More seriously `img` is passing the `is_img` check (so it is an object with get_data and get_affine at the moment) whereas niimg-like can go through `check_niimg` so can be an `img` or a string pointing to a nifti file plus the variation with the list of nifti filenames. The URL we added in a lot of docstrings is here: http://nilearn.github.io/building_blocks/manipulating_mr_images.html#niimg.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimg.py')",hint one almost like more serious pass check object getdata getaffin moment wherea niimglik go string point nifti file plu variat list nifti filenam the url ad lot docstr,N,2015-03-09 20:56:30
71,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-09 20:56:30,"OK. The official nibabel way to do that is `np.array(img.dataobj)`.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(19, '', u'nilearn/_utils/niimg.py')",OK the offici nibabel way,N,2015-03-09 21:17:08
72,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-09 21:17:08,"> OK. The official nibabel way to do that is np.array(img.dataobj).

I don't think that it was possible when we wrote this code. I remember
having a lengthy discussion with Matthew Brett about this.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(19, '', u'nilearn/_utils/niimg.py')",I dont think possibl wrote code I rememb lengthi discuss matthew brett,N,2015-03-09 22:40:07
73,pull_request_commit_comment,478,nilearn,nilearn,banilo,2015-03-09 22:40:07,"The same of this function is not exacgtly self-explanatory.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(51, '', u'nilearn/_utils/niimg_conversions.py')",the function exacgtli selfexplanatori,N,2015-03-09 22:41:10
74,pull_request_commit_comment,478,nilearn,nilearn,banilo,2015-03-09 22:41:10,"Merge conflicts?
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(12, '', u'nilearn/_utils/testing.py')",merg conflict,N,2015-03-09 22:43:10
75,pull_request_commit_comment,478,nilearn,nilearn,banilo,2015-03-09 22:43:10,"Merge conflicts?
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(8, '', u'nilearn/image/resampling.py')",merg conflict,N,2015-03-09 23:27:53
76,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-09 23:27:53,"OK. I have 2 versions of nibabel: 1.3.0 (has no cache) and 2.0 (has cache and dataobj) so I don't know which version is targeted by this code. I try to do the mean on 10 images from ADHD. I limited the memory. Here is the script:

```
from nilearn import datasets
from nilearn.image import mean_img
import resource


def limit_memory(maxsize):
    soft, hard = resource.getrlimit(resource.RLIMIT_AS)
    resource.setrlimit(resource.RLIMIT_AS, (maxsize, hard))


limit_memory(165152864 * 5)
data = datasets.fetch_adhd(n_subjects=10)
mean_img(data.func)
```

Given that paths are passed to `mean_img`, the caching system should not change anything between the versions. Both should be able to do the mean given the memory limit as they only need to load images one by one.

The result is that they both endup in memory error after 8 images. There must be a leak somewhere but I can't find out where. I'll keep the code as-is but we should maybe investigate that and add some tests.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(19, '', u'nilearn/_utils/niimg.py')",OK I 2 version nibabel 130 cach 20 cach dataobj I dont know version target code I tri mean 10 imag adhd I limit memori here script given path pass cach system chang anyth version both abl mean given memori limit need load imag one one the result endup memori error 8 imag there must leak somewher I cant find ill keep code asi mayb investig add test,Y,2015-03-09 23:29:43
77,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-09 23:29:43,"> OK. I have 2 versions of nibabel: 1.3.0 (has no cache) and 2.0 (has cache and
> dataobj) so I don't know which version is targeted by this code.

1.3.0 is targetted. 2.0 wasn't out when we wrote this code.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(19, '', u'nilearn/_utils/niimg.py')",130 target 20 wasnt wrote code,N,2015-03-09 23:38:45
78,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-09 23:38:45,"Do you think that we should open an issue about potential memory leaks?
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(19, '', u'nilearn/_utils/niimg.py')",Do think open issu potenti memori leak,N,2015-03-09 23:39:41
79,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-09 23:39:41,"> Do you think that we should open an issue about potential memory leaks?

Yes. With the example that you gave. It's a good one.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(19, '', u'nilearn/_utils/niimg.py')",ye with exampl gave it good one,N,2015-03-09 23:40:11
80,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-09 23:40:11,"You should reinitialize a few entries of the header. For instance, the cal_max and cal_min. But you should actually go over the nifti documentation to check what the different fields of the header: not all should be copied.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimg.py')",you reiniti entri header for instanc calmax calmin but actual go nifti document check differ field header copi,N,2015-03-09 23:40:16
81,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-09 23:40:16,">  Is this added functionality actually used in the code?

Yes, but I can easily fix these cases. However, if one day we want to expose it to the user, I guess that eating niimgs will be mandatory.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimg.py')",ye I easili fix case howev one day want expos user I guess eat niimg mandatori,N,2015-03-09 23:40:48
82,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-09 23:40:48,"No, I just added a blank line for cosmetic pruprose.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(12, '', u'nilearn/_utils/testing.py')",No I ad blank line cosmet prupros,N,2015-03-09 23:41:28
83,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-09 23:41:28,"> Yes, but I can easily fix these cases. However, if one day we want to
> expose it to the user, I guess that eating niimgs will be mandatory.

The danger is that I have the impression here that you are exhausting the
first image of the iterator. So this code has a nasty side effect.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimg.py')",the danger I impress exhaust first imag iter So code nasti side effect,N,2015-03-09 23:48:52
84,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-09 23:48:52,"I'd rather not do that in this PR. It has already gone far beyond what I wanted to do and I guess that the question of which header to keep / update / reset will be subject to debate. For the moment, I mimic the behavior of the current state of nilearn.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimg.py')",Id rather PR It alreadi gone far beyond I want I guess question header keep updat reset subject debat for moment I mimic behavior current state nilearn,N,2015-03-09 23:56:44
85,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-09 23:56:44,"In fact, this code works with a list but not with a generator. This will be the subject of another PR. In the current state, nilearn is absolutely not iterator/generator friendly as first elements are exhausted here and there. My goal with this PR was to clean the code and prepare the ground for further refactorings. I can deal with these problems in this PR of course but it will take more time.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimg.py')",In fact code work list gener thi subject anoth PR In current state nilearn absolut iteratorgener friendli first element exhaust My goal PR clean code prepar ground refactor I deal problem PR cours take time,N,2015-03-10 00:14:26
86,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-10 00:14:26,"Some code like that may help but there will still be a side effect on the generator provided:

```
def _iter_first(first, iterable):
    yield first
    for i in iterable:
        yield i


def sneak_peek(iterable):
    first = next(iterable)
    return _iter_first(first, iterable), first
```
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimg.py')",some code like may help still side effect gener provid,N,2015-03-10 06:23:06
87,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-10 06:23:06,"> Some code like that may help but there will still be a side effect on the
> generator provided:

I think that this is better than the current situation, which is too
fragile.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimg.py')",I think better current situat fragil,N,2015-03-10 07:10:51
88,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-10 07:10:51,"> I'd rather not do that in this PR. It has already gone far beyond what I wanted
> to do and I guess that the question of which header to keep / update / reset
> will be subject to debate. 

Well, the problem is that not resetting some values will give you bugs
that are very hard to debug with the softwares that respect these values.

I suggest that you put 'cal_min', 'cal_max' to zero (which means None in
Nifti terms), or better, to the min and max.

In general, I might even do the following:
{'scl_slope':0, 'scl_inter':0, 'glmax':0, 'glmin':0, 'cal_max':0,
'cal_min':0}

Once again: these things are really tricky, and if you don't do it right,
you'll end up with bugs. I am actually very weary of the nifti header.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/_utils/niimg.py')",well problem reset valu give bug hard debug softwar respect valu I suggest put calmin calmax zero mean none nifti term better min max In gener I might even follow sclslope0 sclinter0 glmax0 glmin0 calmax0 calmin0 onc thing realli tricki dont right youll end bug I actual weari nifti header,N,2015-03-10 07:34:18
89,pull_request_commit_comment,478,nilearn,nilearn,lesteve,2015-03-10 07:34:18,"> 1.3.0 is targetted.

then README.rst and nilearn/version.py should be updated. We are currently requiring nibabel 1.1.0 [there](https://github.com/nilearn/nilearn#dependencies).
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(19, '', u'nilearn/_utils/niimg.py')",readmerst nilearnversionpi updat We current requir nibabel 110,N,2015-03-10 08:25:55
90,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-10 08:25:55,"> ```
> 1.3.0 is targetted.
> ```
> 
> then README.rst and nilearn/version.py should be updated. We are currently
> requiring nibabel 1.1.0 there.

OK, my answer was wrong. The question was: is it version 1.3.0 or version
2.0 that is targetted. I replied 1.3.0 but I should have replied 2.0.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(19, '', u'nilearn/_utils/niimg.py')",OK answer wrong the question version 130 version 20 target I repli 130 I repli 20,N,2015-03-10 10:10:23
91,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-10 10:10:23,"Oh we upgrade to 2.0, cool !
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(19, '', u'nilearn/_utils/niimg.py')",Oh upgrad 20 cool,N,2015-03-10 10:26:48
92,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-10 10:26:48,"Sorry, typo (doing too much email), I meant 1.1. Of course we don't update to 2.0. It's way too recent.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(19, '', u'nilearn/_utils/niimg.py')",sorri typo much email I meant 11 Of cours dont updat 20 it way recent,N,2015-03-10 10:38:25
93,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-10 10:38:25,"I know ;).
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(19, '', u'nilearn/_utils/niimg.py')",I know,N,2015-03-12 13:06:25
94,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-12 13:06:25,"Could you use the nibabel update header function here (with a try/except if it's not available in old nibabel versions).
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(91, '', u'nilearn/_utils/niimg.py')",could use nibabel updat header function tryexcept avail old nibabel version,N,2015-03-16 16:35:08
95,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-16 16:35:08,"So, apparently, update_header only takes care of shape/affines and is called automatically at image creation. If we want things to be done the right way, we should implement our own function to update these values.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(91, '', u'nilearn/_utils/niimg.py')",So appar updatehead take care shapeaffin call automat imag creation If want thing done right way implement function updat valu,N,2015-03-17 17:23:44
96,pull_request_commit_comment,478,nilearn,nilearn,lesteve,2015-03-17 17:23:44,"Still don't get this.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/plotting/img_plotting.py')",still dont get,N,2015-03-17 17:25:23
97,pull_request_commit_comment,478,nilearn,nilearn,GaelVaroquaux,2015-03-17 17:25:23,"> So, apparently, update_header only takes care of shape/affines and is
> called automatically at image creation. If we want things to be done
> the right way, we should implement our own function to update these
> values.

OK, then let's keep what you have.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(91, '', u'nilearn/_utils/niimg.py')",OK let keep,N,2015-03-18 12:23:33
98,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-18 12:23:33,"What happens is that this template is added to the plots using `add_overlay`. However, `add_overlay` has an epsilon threshold used to remove numerical noise. This threshold is applied to the image, and thus a new image is created using new_img_like. However, the empty constructor in the template forbids allocation using this code:
`ref_img.__class__(data, affine, header=header)`. This is why I chose a polymorphic constructor to solve this problem.

Several options:
- The polymorphic constructor
- Have a custom type that does not allow modifications
- Use a clever code to fallback to Nifti1Image if a constructor fails in `new_img_like`
- Make the template derive from Nifti1Image and make clever code to find a suitable constructor in super classes in `new_img_like`
- Maybe other options I don't see.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(None, '', u'nilearn/plotting/img_plotting.py')",what happen templat ad plot use howev epsilon threshold use remov numer nois thi threshold appli imag thu new imag creat use newimglik howev empti constructor templat forbid alloc use code thi I chose polymorph constructor solv problem sever option the polymorph constructor have custom type allow modif use clever code fallback nifti1imag constructor fail make templat deriv nifti1imag make clever code find suitabl constructor super class mayb option I dont see,N,2015-03-18 14:07:13
99,pull_request_commit_comment,478,nilearn,nilearn,banilo,2015-03-18 14:07:13,"Why is that necessary?
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(19, '', u'nilearn/tests/test_niimg_conversions.py')",whi necessari,N,2015-03-18 14:16:59
100,pull_request_commit_comment,478,nilearn,nilearn,lesteve,2015-03-18 14:16:59,"I guess so that you can use `bla.shape` rather than `bla.shape()`. Also IIRC properties are not settable by default so that trying `bla.shape = (3, 2, 1)` will fail.
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(19, '', u'nilearn/tests/test_niimg_conversions.py')",I guess use rather also iirc properti settabl default tri fail,N,2015-03-18 14:31:39
101,pull_request_commit_comment,478,nilearn,nilearn,AlexandreAbraham,2015-03-18 14:31:39,":octocat: agrees with ""le steve""
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(19, '', u'nilearn/tests/test_niimg_conversions.py')",octocat agre le steve,N,2015-03-18 22:48:40
102,pull_request_commit_comment,478,nilearn,nilearn,banilo,2015-03-18 22:48:40,"> agrees with ""le steve""

hey...that's my trick
",4f65e42284f2750f88acd1390d7f74f7ce1110cc,"(19, '', u'nilearn/tests/test_niimg_conversions.py')",heythat trick,N,2015-03-03 12:11:43
103,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-03 12:11:43,Export nifti related function in a separate file,252a6254aee84f5f3b5376a477d303ebb21b3845,,export nifti relat function separ file,N,2015-03-03 12:34:32
104,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-03 12:34:32,Remove nibabel imports and use niimage abstraction instead.,1c386be53957178b5ddb4282c0693872055e6ffb,,remov nibabel import use niimag abstract instead,N,2015-03-03 12:40:16
105,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-03 12:40:16,Add default imports in _utils/__init__.py,0469852b631c44d7bcef49e208aff933afd7a766,,add default import utilsinitpi,N,2015-03-03 12:50:29
106,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-03 12:50:29,Add test for missing code in niimage,090a98d987ee23475a101a0859495177adda6cd9,,add test miss code niimag,N,2015-03-03 23:28:16
107,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-03 23:28:16,Fix missing occurences of nibabel,0c7b1278a4f3ae86159ecd549ce213163ce83dbc,,fix miss occur nibabel,N,2015-03-03 23:34:59
108,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-03 23:34:59,Fix a last occurence.,1f50184f8d72ccb7e40f8455aeaeb0e490a076e1,,fix last occur,N,2015-03-03 23:59:30
109,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-03 23:59:30,Add docstrings,115a7d27b848cb02aface6dbfc0467904cb43342,,add docstr,N,2015-03-06 00:33:54
110,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-06 00:33:54,Rename niimage to niimg,971420af1666f6988c4a37b4693dbf3dce44d1b4,,renam niimag niimg,N,2015-03-06 12:48:01
111,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-06 12:48:01,Introduce the new_img_like,73cd600df8ce3f36514985699227e0a9939eb96c,,introduc newimglik,N,2015-03-06 13:08:03
112,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-06 13:08:03,Fix import that seems to bother Python3,1e45774c1b9b6039c6a171cb70d47d8aa6ed9e3d,,fix import seem bother python3,N,2015-03-06 13:19:25
113,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-06 13:19:25,Fix basestring for Python3,48cc1369ccc488499a8be36f43ab08922ebccd53,,fix basestr python3,N,2015-03-06 14:07:48
114,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-06 14:07:48,Fix last python3 problem,bc7db0c6460133c3ae6aedec0986ca097c603718,,fix last python3 problem,N,2015-03-06 20:51:50
115,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-06 20:51:50,Add header and copyright,03e3b960ad5730a3488a5c2dadfda443b45fcb95,,add header copyright,N,2015-03-07 13:55:26
116,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-07 13:55:26,Fix astype in resampling.,c08e94fa07163ea16e23889458d786f252f151f8,,fix astyp resampl,N,2015-03-09 19:23:00
117,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-09 19:23:00,Remove _get_shape,8a45b2b3da8957c84a6ec617e4f39686118e6014,,remov getshap,N,2015-03-10 07:46:29
118,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-10 07:46:29,Fix copy_header,b5d529ade954f627b62dd33a94313c5d58cb71c8,,fix copyhead,N,2015-03-10 10:42:43
119,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-10 10:42:43,Change new_img_like to take img instead of niimg,32c470d1d151f66608530806bd7210e075a4187a,,chang newimglik take img instead niimg,N,2015-03-10 12:41:41
120,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-10 12:41:41,Get rid of is_img as it would become a one-liner,d9b89556d93f99f9ea6c743c95d8a0cc121d999b,,get rid isimg would becom onelin,N,2015-03-10 12:54:24
121,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-10 12:54:24,Documentation fix.,4c70dd360405fd2d6da5dcafe9aeb586281f322a,,document fix,N,2015-03-10 18:06:22
122,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-10 18:06:22,Fix tests and error messages.,206f4bd996fe218b984353cdf7fe89267204c83c,,fix test error messag,N,2015-03-18 13:58:04
123,pull_request_commit,478,nilearn,nilearn,AlexandreAbraham,2015-03-18 13:58:04,Change signature of MNI template constructor,fc7cd1a0e9be4ac278a550700bf75fe0ac9167d1,,chang signatur mni templat constructor,N,2015-03-18 14:51:59
1,issue_title,376,nilearn,nilearn,bcipolli,2015-01-31 00:55:52,"On all other setups, this converges.  
https://travis-ci.org/nilearn/nilearn/jobs/48902522

For some reason, this does not affect the rest of the test, so perhaps something about the NeuroDebian setup causes this unexpected warning to trigger spuriously?

Can someone take a look and figure out if this is just a spurious warning, a real bug, or an issue with how we're calling FastICA?
",start issue,Test warning: FastICA reports it does not converge... only on our neurodebian install,On setup converg for reason affect rest test perhap someth neurodebian setup caus unexpect warn trigger spurious can someon take look figur spuriou warn real bug issu call fastica,N,2015-02-27 11:51:54
2,issue_closed,376,nilearn,nilearn,lesteve,2015-02-27 11:51:54,,closed issue,Test warning: FastICA reports it does not converge... only on our neurodebian install,,N,2015-02-18 20:49:56
3,issue_comment,376,nilearn,nilearn,GaelVaroquaux,2015-02-18 20:49:56,"> Would a PR that exposes max_iter in CanICA, and sent to fastica, be
> acceptable? Or is another solution (exposing more fastica args, or
> simply ignoring the warning) preferred?

I would ignore the warning and move on (as in: not do anything about it).
I am afraid that exposing too many parameters will simply scare away the
end user.
",,,I would ignor warn move anyth I afraid expos mani paramet simpli scare away end user,N,2015-02-09 12:52:29
4,issue_comment,376,nilearn,nilearn,AlexandreAbraham,2015-02-09 12:52:29,"This is a known issue. First, I don't think that this fix should be included in your PR about disabling warning. Second, I think that it is useful to run this test no matter the configuration. However, if it fails, it is possible to raison a SkipTestError to skip it if we really want to disable it.

For me, it is similar to the warning issue: for the moment, nilearn is in development and thus we don't have a top quality release, even if we're doing our best. This kind of concern should be raised later, for the 1.0 release for example.
",,,thi known issu first I dont think fix includ PR disabl warn second I think use run test matter configur howev fail possibl raison skiptesterror skip realli want disabl for similar warn issu moment nilearn develop thu dont top qualiti releas even best thi kind concern rais later 10 releas exampl,Y,2015-02-10 19:04:58
5,issue_comment,376,nilearn,nilearn,bcipolli,2015-02-10 19:04:58,"@AlexandreAbraham thanks; is there an existing issue describing what the problem is?  If not, could you add some info here as to what the issue is?
",,,alexandreabraham thank exist issu describ problem If could add info issu,N,2015-02-10 23:45:48
6,issue_comment,376,nilearn,nilearn,AlexandreAbraham,2015-02-10 23:45:48,"CanICA is not deterministic so it fails in rare cases. See issue #60 and PR #61 that fixes the issue on most plaform (but unfortunately it still fails sometimes...).
",,,canica determinist fail rare case see issu 60 PR 61 fix issu plaform unfortun still fail sometim,N,2015-02-11 00:02:26
7,issue_comment,376,nilearn,nilearn,bcipolli,2015-02-11 00:02:26,"@AlexandreAbraham Thanks!  I think this may be a different issue?  I see the ICA warning that it has not converged on _every_ test run on the neurodebian build.  In addition, I never see a test failure--which I would expect to happen when ICA fails to converge.

Could be nothing, but also could be something.
",,,alexandreabraham thank I think may differ issu I see ica warn converg everi test run neurodebian build In addit I never see test failurewhich I would expect happen ica fail converg could noth also could someth,Y,2015-02-11 00:12:47
8,issue_comment,376,nilearn,nilearn,AlexandreAbraham,2015-02-11 00:12:47,"My bad. Well, in that case, juste increase the number of iterations. It should converge at some point.
",,,My bad well case just increas number iter It converg point,N,2015-02-27 11:51:54
9,issue_comment,376,nilearn,nilearn,lesteve,2015-02-27 11:51:54,"> I would ignore the warning and move on (as in: not do anything about it).

Agreed closing this one.
",,,agre close one,N,2015-01-31 08:01:12
10,issue_comment,376,nilearn,nilearn,lesteve,2015-01-31 08:01:12,"Good catch! I am not sure how much time we should invest in this given #341.
",,,good catch I sure much time invest given 341,N,2015-01-31 08:08:39
11,issue_comment,376,nilearn,nilearn,lesteve,2015-01-31 08:08:39,"Sorry I spoke too soon this is about one of the test and not the plot_ica_resting_state example...
",,,sorri I spoke soon one test ploticarestingst exampl,Y,2015-01-31 17:37:02
12,issue_comment,376,nilearn,nilearn,bcipolli,2015-01-31 17:37:02,"The problem for me is that these `UserWarning`s throw errors in #371, so this is causing a test error.  I believe making `UserWarning`s throw errors is the right thing--these warnings should never be triggered in a test unless we expect to trigger them.  They're supposed to tell users something unexpected.

For now, I suggest that one of the following be done:
- Skip the test only on neurodebian (i.e. it's broken, we don't know why, but we don't want to figure it out)
- Change the test so that the warning isn't thrown (i.e. the test isn't designed properly somehow)
- Change the test to accept only that specific warning if thrown (i.e. the test is designed properly, and the warning is irrelevant).

Advice is welcome!  Note that this affects #371, as well as the `python-3.x` branch I'm finishing up.
",,,the problem throw error 371 caus test error I believ make throw error right thingthes warn never trigger test unless expect trigger theyr suppos tell user someth unexpect for I suggest one follow done skip test neurodebian ie broken dont know dont want figur chang test warn isnt thrown ie test isnt design properli somehow chang test accept specif warn thrown ie test design properli warn irrelev advic welcom note affect 371 well branch Im finish,Y,2015-02-18 15:08:23
1,issue_title,492,nilearn,nilearn,GaelVaroquaux,2015-03-10 15:40:09,"See https://github.com/scikit-learn/scikit-learn/commit/9c24e1a120aaf0a4eaa801b0b36db2a8403fc459
",start issue,Add landscape.io to nilearn,see,N,2015-03-10 17:15:32
2,issue_closed,492,nilearn,nilearn,lesteve,2015-03-10 17:15:32,,closed issue,Add landscape.io to nilearn,,N,2015-03-10 17:13:32
3,issue_comment,492,nilearn,nilearn,lesteve,2015-03-10 17:13:32,"Just double-checking: can people see that: https://landscape.io/github/nilearn/nilearn?

If yes I close this issue.
",,,just doublecheck peopl see If ye I close issu,N,2015-03-10 17:14:55
4,issue_comment,492,nilearn,nilearn,AlexandreAbraham,2015-03-10 17:14:55,"I can see it.
",,,I see,N,2015-03-10 17:15:47
5,issue_comment,492,nilearn,nilearn,lesteve,2015-03-10 17:15:47,"> I can see it.

Thanks.
",,,thank,N,2015-03-10 17:16:24
6,issue_comment,492,nilearn,nilearn,GaelVaroquaux,2015-03-10 17:16:24,"> Just double-checking: can people see that:
> https://landscape.io/github/nilearn/ nilearn?

I can see that.

I scikit-learn, the way we have it set up, it adds a report to the PRs,
like travis, which is awesome. It would be great if someone could port
that to nilearn.
",,,I see I scikitlearn way set add report pr like travi awesom It would great someon could port nilearn,Y,2015-03-10 17:51:06
7,issue_comment,492,nilearn,nilearn,lesteve,2015-03-10 17:51:06,"> I scikit-learn, the way we have it set up, it adds a report to the PRs, like travis, which is awesome

I think it should be set-up for nilearn too. It doesn't seem to be working very well for scikit-learn at the moment though https://github.com/scikit-learn/scikit-learn/pull/4372#issuecomment-78054010 ...

From a little bit of reading it looks like:
1. the landscape report is done as a comment. When the same thing was enabled for coveralls, people were pretty annoyed by the automatic emails that ensued each time somebody pushed into a PR branch.
2. there is a landscape.io github [issue](https://github.com/landscapeio/landscape-issues/issues/108) about using the github status API which is far less intrusive but not sure how likely this is going to happen in the near future.
",,,I think setup nilearn It doesnt seem work well scikitlearn moment though from littl bit read look like 1 landscap report done comment when thing enabl coveral peopl pretti annoy automat email ensu time somebodi push PR branch 2 landscapeio github issu use github statu api far less intrus sure like go happen near futur,Y,2015-03-10 17:52:00
8,issue_comment,492,nilearn,nilearn,GaelVaroquaux,2015-03-10 17:52:00,"> 1. there is a landscape.io github issue about using the github status API
>    which is far less intrusive but not sure how likely this is going to happen
>    in the near future.

OK, let's wait then.
",,,OK let wait,N,2015-03-10 19:10:51
9,issue_comment,492,nilearn,nilearn,amueller,2015-03-10 19:10:51,"We'll see how annoying the comments get once they are enabled ;)
",,,well see annoy comment get enabl,N,2015-03-10 22:06:18
10,issue_comment,492,nilearn,nilearn,GaelVaroquaux,2015-03-10 22:06:18,"> We'll see how annoying the comments get once they are enabled ;)

Hey Andy, you are here too :). You are everywhere :)
",,,hey andi you everywher,N,2015-03-19 02:38:49
11,issue_comment,492,nilearn,nilearn,amueller,2015-03-19 02:38:49,"Currently I feel the bot is having too many issues to be very useful.
",,,current I feel bot mani issu use,N,2015-03-19 06:39:46
12,issue_comment,492,nilearn,nilearn,GaelVaroquaux,2015-03-19 06:39:46,"> Currently I feel the bot is having too many issues to be very useful.

It's noisy indeed.
",,,it noisi inde,N,2015-03-19 07:46:58
1,issue_title,397,nilearn,nilearn,kshmelkov,2015-02-05 13:25:17,"Test of CI build
",start issue,conda test with sklearn 0.12,test CI build,N,2015-03-18 13:42:30
2,issue_closed,397,nilearn,nilearn,lesteve,2015-03-18 13:42:30,,closed issue,conda test with sklearn 0.12,,N,2015-02-05 13:25:17
3,pull_request_title,397,nilearn,nilearn,kshmelkov,2015-02-05 13:25:17,"Test of CI build
",8c800db935169895d9ee89525831f5b6fad2fb85,conda test with sklearn 0.12,test CI build,N,2015-02-10 17:14:36
4,issue_comment,397,nilearn,nilearn,GaelVaroquaux,2015-02-10 17:14:36,"> In the mist of the sprint I have to admit I didn't fully follow how it was
> decided to bump up required versions so a brief reminder would be greatly
> appreciated.

Supporting scikit-learn 0.10 was too expensive, and neurodebian means
that even old ubuntu install can easily get more recent versions.

> In particular does scikit-learn 0.12.1 have a special meaning?

No. It's a configuration that's 2 years old, and we felt that 2 years old
was a good time.

> At the very least I would keep an unaldurated neurodebian (i.e. with
> matplotlib), because it seems like a reasonable target given our end users and
> move the ""no matplotlib"" tests to a conda based environment.

Agreed!
",,,support scikitlearn 010 expens neurodebian mean even old ubuntu instal easili get recent version No it configur that 2 year old felt 2 year old good time agre,N,2015-02-10 16:25:03
5,issue_comment,397,nilearn,nilearn,AlexandreAbraham,2015-02-10 16:25:03,"What is blocking this one?
",,,what block one,N,2015-02-10 17:12:26
6,issue_comment,397,nilearn,nilearn,lesteve,2015-02-10 17:12:26,"In the mist of the sprint I have to admit I didn't fully follow how it was decided to bump up required versions so a brief reminder would be greatly appreciated. In particular does scikit-learn 0.12.1 have a special meaning?

At the very least I would keep an unaldurated neurodebian (i.e. with matplotlib), because it seems like a reasonable target given our end users and move the ""no matplotlib"" tests to a conda based environment.
",,,In mist sprint I admit I didnt fulli follow decid bump requir version brief remind would greatli appreci In particular scikitlearn 0121 special mean At least I would keep unaldur neurodebian ie matplotlib seem like reason target given end user move matplotlib test conda base environ,Y,2015-02-28 22:32:29
7,issue_comment,397,nilearn,nilearn,bcipolli,2015-02-28 22:32:29,"I rebased to master here:
https://github.com/bcipolli/nilearn/tree/kshmelkov-master

I need to be on the proper versions to test the `fix_warnings` PR (https://github.com/nilearn/nilearn/pull/371).  Are there any concerns with the versions used to test in this PR?

Thanks!
",,,I rebas master I need proper version test PR are concern version use test PR thank,Y,2015-03-18 13:42:27
8,issue_comment,397,nilearn,nilearn,lesteve,2015-03-18 13:42:27,"Closed in favor of #502.
",,,close favor 502,N,2015-02-05 15:31:16
9,issue_comment,397,nilearn,nilearn,lesteve,2015-02-05 15:31:16,"I really liked the fact that this was testing a litte bit of our setup.py (pip installing nibabel if it wasn't already installed) . Can we still have that if the NIBABEL is not defined?
",,,I realli like fact test litt bit setuppi pip instal nibabel wasnt alreadi instal can still nibabel defin,Y,2015-02-05 13:16:40
10,pull_request_commit,397,nilearn,nilearn,kshmelkov,2015-02-05 13:16:40,conda test with sklearn 0.12,c22460dcd6d81111f673ff17dea2ad32656ccc1a,,conda test sklearn 012,N,2015-02-05 13:38:19
11,pull_request_commit,397,nilearn,nilearn,kshmelkov,2015-02-05 13:38:19,even more downgraded stack,c9fd91d42fedacc46d765a43513cf794686a3975,,even downgrad stack,N,2015-02-05 14:18:13
12,pull_request_commit,397,nilearn,nilearn,kshmelkov,2015-02-05 14:18:13,wrong version for backward compatibility check,25fb05bd170f4f6c680f8f82430c27609545303b,,wrong version backward compat check,N,2015-02-05 14:50:08
13,pull_request_commit,397,nilearn,nilearn,kshmelkov,2015-02-05 14:50:08,"ubuntu removed from travis matrix, nibabel version check in conda added",a4b1c241d4a76501e9413df70dbef3e4a9163fa5,,ubuntu remov travi matrix nibabel version check conda ad,N,2015-02-05 14:59:22
14,pull_request_commit,397,nilearn,nilearn,kshmelkov,2015-02-05 14:59:22,fix versions,e41f3131057cc3a600554babf032dc40bdb6f440,,fix version,N,2015-02-05 15:14:37
15,pull_request_commit,397,nilearn,nilearn,kshmelkov,2015-02-05 15:14:37,pip install of nibabel in conda,6a22d7db3886e71aa255d17999561832e564c1fb,,pip instal nibabel conda,N,2015-02-05 15:19:09
16,pull_request_commit,397,nilearn,nilearn,kshmelkov,2015-02-05 15:19:09,stupid bug in CI install.sh,0e5dd0d4c0bee82b2b4c96a336fed8269bea0338,,stupid bug CI installsh,N,2015-02-05 15:24:33
17,pull_request_commit,397,nilearn,nilearn,kshmelkov,2015-02-05 15:24:33,nibabel downgrade in CI build,d1cb634d155dfefc7d49925c6e90dec043773a78,,nibabel downgrad CI build,N,2015-02-05 15:40:02
18,pull_request_commit,397,nilearn,nilearn,kshmelkov,2015-02-05 15:40:02,versions and pip fix,9169e276b6afba13118abf33e1b41700826dd064,,version pip fix,N,2015-02-05 15:55:11
19,pull_request_commit,397,nilearn,nilearn,kshmelkov,2015-02-05 15:55:11,versions fixes in various files,6994c53210b48ff8ec6b65925ea075ce6ac71817,,version fix variou file,N,2015-02-05 16:07:53
20,pull_request_commit,397,nilearn,nilearn,kshmelkov,2015-02-05 16:07:53,numpy min_ver=1.6,fb265118059dd16aa062c90644efafae1c582770,,numpi minver16,N,2015-02-05 16:11:40
21,pull_request_commit,397,nilearn,nilearn,kshmelkov,2015-02-05 16:11:40,numpy 1.6 in conda and README,cc557fdbcb188ec0cdcb6a895c99ac9ab66a1fbf,,numpi 16 conda readm,N,2015-02-05 16:25:24
1,issue_title,386,nilearn,nilearn,AlexandreAbraham,2015-02-03 01:36:59,"Addresses #385.

Fix semantic problems in cache_mixin that led to misuse of the functions. Shorten the code.

Roadmap:
- [X] In `_utils/cache_mixin.py`, put all the code into the function `cache` (remove duplicate). The code in `CacheMixin` should be a wrapper around `cache`
- [X] Rename `ref_memory_level` to `func_memory_level` to avoid ambiguity.
- [X] Put `None` as default for both parameters
- [x] Check all occurences of caching in the code
- [X] Add a test on memory level
",start issue,Fix cache mixin,address 385 fix semant problem cachemixin led misus function shorten code roadmap X In put code function remov duplic the code wrapper around X renam avoid ambigu X put default paramet x check occur cach code X add test memori level,N,2015-02-05 10:32:39
2,issue_closed,386,nilearn,nilearn,lesteve,2015-02-05 10:32:39,,closed issue,Fix cache mixin,,N,2015-02-03 01:36:59
3,pull_request_title,386,nilearn,nilearn,AlexandreAbraham,2015-02-03 01:36:59,"Addresses #385.

Fix semantic problems in cache_mixin that led to misuse of the functions. Shorten the code.

Roadmap:
- [X] In `_utils/cache_mixin.py`, put all the code into the function `cache` (remove duplicate). The code in `CacheMixin` should be a wrapper around `cache`
- [X] Rename `ref_memory_level` to `func_memory_level` to avoid ambiguity.
- [X] Put `None` as default for both parameters
- [x] Check all occurences of caching in the code
- [X] Add a test on memory level
",e28a57de8cd0448d4d078eb3e7b8b3e59c7f4ce1,Fix cache mixin,address 385 fix semant problem cachemixin led misus function shorten code roadmap X In put code function remov duplic the code wrapper around X renam avoid ambigu X put default paramet x check occur cach code X add test memori level,N,2015-02-05 10:32:39
4,pull_request_merged,386,nilearn,nilearn,lesteve,2015-02-05 10:32:39,Fix cache mixin,ebbfc6b1204a38bf56881682525f6f192af17dc9,Pull request merge from AlexandreAbraham/nilearn:fix_cache_mixin to nilearn/nilearn:master,fix cach mixin,N,2015-02-05 08:01:36
5,issue_comment,386,nilearn,nilearn,lesteve,2015-02-05 08:01:36,"> Looks like one file may have been included unintentionally? nilearn/decomposition/dict_learning.py

Yep good catch!
",,,yep good catch,N,2015-02-05 09:24:01
6,issue_comment,386,nilearn,nilearn,lesteve,2015-02-05 09:24:01,"LGTM, once the neurodebian travis passes.
",,,lgtm neurodebian travi pass,Y,2015-02-05 06:23:53
7,issue_comment,386,nilearn,nilearn,bcipolli,2015-02-05 06:23:53,"Looks like one file may have been included unintentionally? `nilearn/decomposition/dict_learning.py`
",,,look like one file may includ unintent,N,2015-02-05 07:32:20
8,issue_comment,386,nilearn,nilearn,bcipolli,2015-02-05 07:32:20,"Quick note: I tried this with #371, in place of the change I had made, and it solved all of the memory warnings.
",,,quick note I tri 371 place chang I made solv memori warn,N,2015-02-05 08:06:06
9,issue_comment,386,nilearn,nilearn,bcipolli,2015-02-05 08:06:06,"Two suggestions from the test side: 
- Could you add tests to test the cache invalidation code?  There are two different warnings, a test to trigger each pathway seems appropriate.
  *Could you add `verbose=0` to your `Memory` object to avoid output in the test?
",,,two suggest test side could add test test cach invalid code there two differ warn test trigger pathway seem appropri could add object avoid output test,Y,2015-02-05 18:03:50
10,issue_comment,386,nilearn,nilearn,bcipolli,2015-02-05 18:03:50,"Awesome re: invalidation test.  Glad this is in, got to learn `nilearn` a bit more today through reading all the activity!  Hope I can participate in a future sprint :)
",,,awesom invalid test glad got learn bit today read activ hope I particip futur sprint,Y,2015-02-03 01:07:34
11,pull_request_commit,386,nilearn,nilearn,AlexandreAbraham,2015-02-03 01:07:34,Shorter version of _safe_cache,ab3825445598907e10f9758bbfe869655cb4b18e,,shorter version safecach,N,2015-02-03 01:30:13
12,pull_request_commit,386,nilearn,nilearn,AlexandreAbraham,2015-02-03 01:30:13,Remove duplicate code in CacheMixin.cache,ee39000c5096b4efa4b7a655472273bd604b4a54,,remov duplic code cachemixincach,N,2015-02-03 01:34:23
13,pull_request_commit,386,nilearn,nilearn,AlexandreAbraham,2015-02-03 01:34:23,Test if any level is None in cache,5363b07631498c914fc4723035efeaa1c3355901,,test level none cach,N,2015-02-03 22:27:18
14,pull_request_commit,386,nilearn,nilearn,AlexandreAbraham,2015-02-03 22:27:18,Fix error message,a024091eea21c02ba74b15b5231bd81d3b7f5318,,fix error messag,N,2015-02-03 22:37:18
15,pull_request_commit,386,nilearn,nilearn,AlexandreAbraham,2015-02-03 22:37:18,Add a test for cache mixin,af1d863dc8d2aa6b60695d2faf280ca73669b2cb,,add test cach mixin,N,2015-02-03 22:37:29
16,pull_request_commit,386,nilearn,nilearn,AlexandreAbraham,2015-02-03 22:37:29,Fix comparison of memeory levels,865365f81d80f7364778d3a81cda49c20e74e679,,fix comparison memeori level,N,2015-02-04 22:03:53
17,pull_request_commit,386,nilearn,nilearn,AlexandreAbraham,2015-02-04 22:03:53,Fix occurences of caching,b65d59ae178fe04a6d896fb0ee8fadf43bbe6f6a,,fix occur cach,N,2015-02-04 22:07:20
18,pull_request_commit,386,nilearn,nilearn,AlexandreAbraham,2015-02-04 22:07:20,Rename memory_level to func_memory_level for clarity,e9082da1815eae887a998bd337ef31256f332676,,renam memorylevel funcmemorylevel clariti,N,2015-02-04 22:17:11
19,pull_request_commit,386,nilearn,nilearn,AlexandreAbraham,2015-02-04 22:17:11,Replace parameters name across the API.,3741dec4244178bd4079477209f214db26d9d357,,replac paramet name across api,N,2015-02-05 09:10:14
1,issue_title,410,nilearn,nilearn,lesteve,2015-02-05 21:04:39,"``` python
from nilearn import datasets
from nilearn.plotting import plot_stat_map
localizer_dataset = datasets.fetch_localizer_calculation_task(n_subjects=1)

plot_stat_map(localizer_dataset.cmaps[0], symmetric_cbar=True, vmax=10)
```

```
UnboundLocalError                         Traceback (most recent call last)
<ipython-input-4-c631cc1b5cd1> in <module>()
----> 1 plot_stat_map(localizer_dataset.cmaps[0], symmetric_cbar=True, vmax=10)

/home/lesteve/dev/nilearn/nilearn/plotting/img_plotting.pyc in plot_stat_map(stat_map_img, bg_img, cut_coords, output_file, display_mode, colorbar, figure, axes, title, threshold, annotate, draw_cross, black_bg, cmap, symmetric_cbar, dim, **kwargs)
    637     vmin = -vmax
    638 
--> 639     negative_range = (stat_map_max <= 0)
    640     positive_range = (stat_map_min >= 0)
    641     if symmetric_cbar:

UnboundLocalError: local variable 'stat_map_max' referenced before assignment
```
",start issue,"plot_stat_map with symmetric_cbar != ""auto"" and vmax raises UnboundLocalError",,N,2015-02-06 14:22:03
2,issue_closed,410,nilearn,nilearn,lesteve,2015-02-06 14:22:03,,closed issue,"plot_stat_map with symmetric_cbar != ""auto"" and vmax raises UnboundLocalError",,N,2015-02-06 10:35:32
3,issue_comment,410,nilearn,nilearn,GaelVaroquaux,2015-02-06 10:35:32,"I am reopening this because no test has been committed.
",,,I reopen test commit,Y,2015-02-06 10:39:42
4,issue_comment,410,nilearn,nilearn,GaelVaroquaux,2015-02-06 10:39:42,"> I'm on it

Thanks. Make sure to use a small map to avoid the test taking long.

One example of test that you can copy is:
https://github.com/nilearn/nilearn/commit/346f1b45971903e74b9584094c7348f671fe8438
",,,thank make sure use small map avoid test take long one exampl test copi,Y,2015-02-06 14:22:03
5,issue_comment,410,nilearn,nilearn,lesteve,2015-02-06 14:22:03,"Fixed via #414
",,,fix via 414,N,2015-02-05 21:28:53
6,issue_comment,410,nilearn,nilearn,eickenberg,2015-02-05 21:28:53,"Ooops, that one escaped me :)

What is happening here is that due to the fact that `vmax` is specified and `symmetric_cbar != 'auto'`, the function thinks it is not necessary to find maximum and minimum of the stat map, but these values are still used later on. Will fix this asap.
",,,ooop one escap what happen due fact specifi function think necessari find maximum minimum stat map valu still use later will fix asap,N,2015-02-05 21:42:37
7,issue_comment,410,nilearn,nilearn,eickenberg,2015-02-05 21:42:37,"Thanks for the catch! https://github.com/nilearn/nilearn/pull/411
",,,thank catch,N,2015-02-06 10:35:59
8,issue_comment,410,nilearn,nilearn,eickenberg,2015-02-06 10:35:59,"I'm on it

On Fri, Feb 6, 2015 at 11:35 AM, Gael Varoquaux notifications@github.com
wrote:

> I am reopening this because no test has been committed.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/410#issuecomment-73217490.
",,,Im On fri feb 6 2015 1135 AM gael varoquaux notificationsgithubcom wrote,N,2015-02-06 12:11:21
9,issue_comment,410,nilearn,nilearn,eickenberg,2015-02-06 12:11:21,"I was able to add 3 test cases covering both issues into an existing test loop which generates similar data. https://github.com/nilearn/nilearn/pull/414
",,,I abl add 3 test case cover issu exist test loop gener similar data,Y,2015-02-06 09:20:36
