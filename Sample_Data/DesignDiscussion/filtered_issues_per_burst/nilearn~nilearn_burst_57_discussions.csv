Unnamed: 0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
5,pull_request_commit_comment,605,nilearn,nilearn,banilo,2015-06-11 13:39:52,"""the dataset"" missing
",7d66104753d063f61e087eccf9c93d9fdfb6e3dc,"(None, '', u'nilearn/datasets.py')"
6,pull_request_commit_comment,605,nilearn,nilearn,banilo,2015-06-11 13:40:38,"""download from a mirror""?
",7d66104753d063f61e087eccf9c93d9fdfb6e3dc,"(None, '', u'nilearn/datasets.py')"
7,pull_request_commit_comment,605,nilearn,nilearn,KamalakerDadi,2015-06-11 13:50:12,"may be also ""downloaded from the original website"" ?
",7d66104753d063f61e087eccf9c93d9fdfb6e3dc,"(None, '', u'nilearn/datasets.py')"
8,pull_request_commit_comment,605,nilearn,nilearn,AlexandreAbraham,2015-06-12 09:35:40,"Fixed.

On Thu, Jun 11, 2015 at 3:50 PM, KamalakerDadi notifications@github.com
wrote:

> In nilearn/datasets.py
> https://github.com/nilearn/nilearn/pull/605#discussion_r32221782:
> 
> > @@ -1001,6 +1002,10 @@ def fetch_smith_2009(data_dir=None, url=None, resume=True, verbose=1):
> >      data_dir: string, optional
> >          Path of the data directory. Use to forec data storage in a non-
> >          standard location. Default: None (meaning: default)
> > -    mirror: string, optional
> > -        By default, dataset is downloaded on the original website of the atlas.
> > -        Specifying ""nitrc"" will force download on a mirror, with potentially
> 
> may be also ""downloaded from the original website"" ?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/605/files#r32221782.
",7d66104753d063f61e087eccf9c93d9fdfb6e3dc,"(None, '', u'nilearn/datasets.py')"
9,pull_request_commit_comment,605,nilearn,nilearn,lesteve,2015-06-17 09:31:53,"would it not be more readable to have this inside the `if mirror == 'origin'` clause ?
",7d66104753d063f61e087eccf9c93d9fdfb6e3dc,"(71, '', u'nilearn/datasets.py')"
10,pull_request_commit_comment,605,nilearn,nilearn,AlexandreAbraham,2015-06-17 09:34:36,"`url` can be user-defined.
",7d66104753d063f61e087eccf9c93d9fdfb6e3dc,"(71, '', u'nilearn/datasets.py')"
11,pull_request_commit_comment,605,nilearn,nilearn,lesteve,2015-06-17 11:40:36,"good point.
",7d66104753d063f61e087eccf9c93d9fdfb6e3dc,"(71, '', u'nilearn/datasets.py')"
 , , , , , , , , , 
 , , , , , , , , , 
5,issue_comment,607,nilearn,nilearn,GaelVaroquaux,2015-06-11 23:51:21,"> I solved that by creating a custom type error but I don't know if it's
> the best way to do it.

It's a good one. Congratulations!
",nan,nan
6,issue_comment,607,nilearn,nilearn,lesteve,2015-06-12 11:19:52,"There is nilearn/_utils/exceptions.py, this seems like a good home for DimensionError.
",nan,nan
15,pull_request_commit_comment,607,nilearn,nilearn,bthirion,2015-06-12 21:06:02,"'increment' instead of 'incr' ?
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(None, '', u'nilearn/_utils/exceptions.py')"
16,pull_request_commit_comment,607,nilearn,nilearn,bthirion,2015-06-12 21:06:58,"Could you add a comment here ? It looks a bit like black magic.
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(12, '', u'nilearn/_utils/niimg_conversions.py')"
7,issue_comment,607,nilearn,nilearn,bthirion,2015-06-12 21:08:28,"LGTM otherwise
",nan,nan
8,issue_comment,607,nilearn,nilearn,AlexandreAbraham,2015-06-13 20:57:13,"Good point. I moved it.

On Fri, Jun 12, 2015 at 1:19 PM, Loïc Estève notifications@github.com
wrote:

> There is nilearn/_utils/exceptions.py, this seems like a good home for
> DimensionError.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/607#issuecomment-111456750.
",nan,nan
17,pull_request_commit_comment,607,nilearn,nilearn,lesteve,2015-06-16 09:34:25,"Do you really need the setter, by default properties are read-only (yours is write=noop)? Also you could use:

``` python
@property
def message(self):
...
```
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(None, '', u'nilearn/_utils/exceptions.py')"
18,pull_request_commit_comment,607,nilearn,nilearn,lesteve,2015-06-16 09:35:45,"Really needed?
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(None, '', u'nilearn/_utils/__init__.py')"
19,pull_request_commit_comment,607,nilearn,nilearn,AlexandreAbraham,2015-06-16 11:01:24,"You're right. I just do that out of habit.
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(None, '', u'nilearn/_utils/exceptions.py')"
20,pull_request_commit_comment,607,nilearn,nilearn,AlexandreAbraham,2015-06-16 11:07:31,"I can remove it if you want, it's just for practical reasons.
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(None, '', u'nilearn/_utils/__init__.py')"
21,pull_request_commit_comment,607,nilearn,nilearn,lesteve,2015-06-16 11:09:30,"It would make more sense to always import DimensionError from nilearn.exceptions rather than from nilearn._utils. You'll need to change the imports in the tests accordingly.
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(None, '', u'nilearn/_utils/__init__.py')"
22,pull_request_commit_comment,607,nilearn,nilearn,AlexandreAbraham,2015-06-16 11:14:05,"Fixed.

On Tue, Jun 16, 2015 at 1:09 PM, Loïc Estève notifications@github.com
wrote:

> In nilearn/_utils/__init__.py
> https://github.com/nilearn/nilearn/pull/607#discussion_r32510889:
> 
> > @@ -9,3 +9,5 @@
> >  from .cache_mixin import CacheMixin
> > 
> >  from .logger import _compose_err_msg
> > +
> > +from .exceptions import DimensionError
> 
> It would make more sense to always import DimensionError from
> nilearn.exceptions rather than from nilearn._utils. You'll need to change
> the imports in the tests accordingly.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/607/files#r32510889.
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(None, '', u'nilearn/_utils/__init__.py')"
23,pull_request_commit_comment,607,nilearn,nilearn,lesteve,2015-06-17 09:23:44,"You are still importing DimensionError from nilearn._utils rather than nilearn._utils.exceptions
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(None, '', u'nilearn/input_data/tests/test_nifti_labels_masker.py')"
24,pull_request_commit_comment,607,nilearn,nilearn,lesteve,2015-06-17 09:24:03,"Same here.
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(None, '', u'nilearn/input_data/tests/test_nifti_maps_masker.py')"
25,pull_request_commit_comment,607,nilearn,nilearn,lesteve,2015-06-17 09:24:29,"same here
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(None, '', u'nilearn/tests/test_niimg_conversions.py')"
9,issue_comment,607,nilearn,nilearn,lesteve,2015-06-17 09:36:48,"I have to admit I find the recursive depth a bit complicated. I'd be a lot less wary if there was a few tests checking the exception messages e.g. the list of list of lists of images thing.
",nan,nan
10,issue_comment,607,nilearn,nilearn,AlexandreAbraham,2015-06-17 10:45:03,"@lesteve: the other way to do that is to prepare an error at first call and pass successively pass it in each call. By doing this, we have an overhead on each call but we don't need to catch / reraise the error in the recursive calls. Do you think it's a better alternative?
",nan,nan
11,issue_comment,607,nilearn,nilearn,lesteve,2015-06-17 11:21:48,"> Do you think it's a better alternative?

Feels simpler to leave it as it is. My point about tests was to at the very least to test the exception message in the snippet that was at the origin of this issue and maybe an error message with the list of list thing.
",nan,nan
12,issue_comment,607,nilearn,nilearn,lesteve,2015-06-17 11:23:06,"Another minor thing I just bumped into: if you provide an iterator of 4D images you get a message mentioning a list of 4D images:

``` python
from nilearn import image, datasets

hb = datasets.fetch_haxby()
image.index_img(iter(hb.func), 0)
```
",nan,nan
26,pull_request_commit_comment,607,nilearn,nilearn,AlexandreAbraham,2015-06-17 12:26:51,"I don't remove any feature here. I keep ""going down"" even if we are sure that the dimensionality is wrong in order to get a more accurate error message. The real TypeError (ie type of the data is wrong) is then handled in `load_niimg`, which is much more logical.
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(30, '', u'nilearn/_utils/niimg_conversions.py')"
13,issue_comment,607,nilearn,nilearn,AlexandreAbraham,2015-06-18 08:09:26,"@lesteve #HappyMergeDay
",nan,nan
27,pull_request_commit_comment,607,nilearn,nilearn,lesteve,2015-06-18 09:23:05,"Minor comment: looks like the message is slightly misleading for non-homogeneous lists:
In this case it will say ""you provided a list of 4D images"" although the first image is 3D...
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(59, '', u'nilearn/tests/test_niimg_conversions.py')"
28,pull_request_commit_comment,607,nilearn,nilearn,lesteve,2015-06-18 09:24:12,"Probably this could be tweaked in a further PR. The message is improved in a lot of cases.
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(59, '', u'nilearn/tests/test_niimg_conversions.py')"
29,pull_request_commit_comment,607,nilearn,nilearn,AlexandreAbraham,2015-06-23 13:22:55,"You can also give a list of list and give valid images in the first list but in the second... There is a limit in the cases we can handle. The best option I can see right now is to add ""Details: imgs[0][1][12] is 3D instead of 4D"" or something like that. But as you said, I think that this PR should go and the message can be detailed afterward.
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(59, '', u'nilearn/tests/test_niimg_conversions.py')"
14,issue_comment,607,nilearn,nilearn,lesteve,2015-06-23 13:33:31,"Looks good, merging, thanks!
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
6,pull_request_commit_comment,606,nilearn,nilearn,mrahim,2015-06-12 08:46:25,"Wrong description. (copy/paste mistake)
",5894f149a954fd90fd8a299d25e7cd13b40b2ff9,"(None, '', u'nilearn/datasets.py')"
7,pull_request_commit_comment,606,nilearn,nilearn,AlexandreAbraham,2015-06-12 09:18:14,"Fixed.

On Fri, Jun 12, 2015 at 10:46 AM, mrahim notifications@github.com wrote:

> In nilearn/datasets.py
> https://github.com/nilearn/nilearn/pull/606#discussion_r32299128:
> 
> > @@ -1066,6 +1066,64 @@ def fetch_smith_2009(data_dir=None, url=None, resume=True, verbose=1):
> >      return Bunch(**params)
> > 
> > +def fetch_destrieux_2009(lateralized=True, data_dir=None, url=None,
> > -                         resume=True, verbose=1):
> > -    """"""Download and load the Smith ICA and BrainMap atlas (dated 2009)
> 
> Wrong description. (copy/paste mistake)
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/606/files#r32299128.
",5894f149a954fd90fd8a299d25e7cd13b40b2ff9,"(None, '', u'nilearn/datasets.py')"
8,pull_request_commit_comment,606,nilearn,nilearn,bthirion,2015-06-12 21:10:26,"'Used to force'
",5894f149a954fd90fd8a299d25e7cd13b40b2ff9,"(14, '', u'nilearn/datasets.py')"
5,issue_comment,606,nilearn,nilearn,banilo,2015-07-01 12:04:26,"+1
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
3,issue_comment,601,nilearn,nilearn,AlexandreAbraham,2015-06-09 19:49:18,"`index_img` is meant to iterate over one image, not a list of image. `image.index_img(hb.func[0], 0) will work. What do you want to do exactly?
",nan,nan
4,issue_comment,601,nilearn,nilearn,GaelVaroquaux,2015-06-10 07:54:15,"> index_img is meant to iterate over one image, not a list of image.
> `image.index_img(hb.func[0], 0) will work. What do you want to do exactly?

I don't think that we dispute that there is a user error. The point is
rather that the error message is quite useless.
",nan,nan
5,issue_comment,601,nilearn,nilearn,AlexandreAbraham,2015-06-10 08:04:57,"In fact there is no check of the dimensionality of the first image! I'll do a quickfix.
",nan,nan
6,issue_comment,601,nilearn,nilearn,AlexandreAbraham,2015-06-10 08:19:00,"I still think that there was a misuse of the function in the first place. Maybe the doc of `index_img` is not clear enough. After my PR, the error message is: `TypeError: Data must be a 3D Niimg-like object but you provided an image of shape (40, 64, 64, 1452). See http://nilearn.github.io/building_blocks/manipulating_mr_images.html#niimg.`

This is not the best error message but still better than the previous one.
",nan,nan
7,issue_comment,601,nilearn,nilearn,GaelVaroquaux,2015-06-11 04:04:28,"Wait. .. This is a very surprising error message. The question is not whether there has been a misuse of the function, but rather that the error message makes it hard to figure things out. 

Gaël

Sent from my phone. Please forgive brevity and mis spelling

On Jun 10, 2015, 01:19, at 01:19, Alexandre Abraham notifications@github.com wrote:

> I still think that there was a misuse of the function in the first
> place. Maybe the doc of `index_img` is not clear enough. After my PR,
> the error message is: `TypeError: Data must be a 3D Niimg-like object
> but you provided an image of shape (40, 64, 64, 1452). See
> http://nilearn.github.io/building_blocks/manipulating_mr_images.html#niimg.`
> 
> This is not the best error message but still better than the previous
> one.
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/issues/601#issuecomment-110647152
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
3,issue_comment,602,nilearn,nilearn,AlexandreAbraham,2015-06-09 19:38:35,"Are you talking about the smith 2009 atlas ?
",nan,nan
4,issue_comment,602,nilearn,nilearn,chrisfilo,2015-06-09 20:41:07,"the fetch_smith_2009() dataset

On Tue, Jun 9, 2015 at 12:38 PM, Alexandre Abraham <notifications@github.com

> wrote:
> 
> Are you talking about the smith 2009 atlas ?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/602#issuecomment-110479951.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
5,issue_comment,610,nilearn,nilearn,GaelVaroquaux,2015-06-14 00:31:14,"We should do both: datasets should become a sub package. It should be divided in several modules, one of them with the atlases. All functions useful for users should be imported in the init. In addition, there should be a name convention. 

Sent from my phone. Please forgive brevity and mis spelling

On Jun 13, 2015, 12:04, at 12:04, Alexandre Abraham notifications@github.com wrote:

> Following Gael suggestion: prefix all atlas fetching functions by
> `fetch_atlas`.
> 
> Discussion: should we choose that solution or create an atlas module?
> You can view, comment on, or merge this pull request online at:
> 
>  https://github.com/nilearn/nilearn/pull/610
> 
> -- Commit Summary --
> - Rename dataset fetching functions. Declare the old ones obsolete.
> 
> -- File Changes --
> 
>    M nilearn/datasets.py (51)
>    M nilearn/tests/test_datasets.py (23)
> 
> -- Patch Links --
> 
> https://github.com/nilearn/nilearn/pull/610.patch
> https://github.com/nilearn/nilearn/pull/610.diff
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/610
",nan,nan
6,issue_comment,610,nilearn,nilearn,bthirion,2015-06-14 19:48:06,"LGTM.
",nan,nan
7,issue_comment,610,nilearn,nilearn,AlexandreAbraham,2015-06-15 08:17:38,"@GaelVaroquaux 
I suggest:

datasets
- dataset.utils (for general purpose functions)
- datasets.atlas
- datasets.study (I think a better naming is possible here)
- datasets.template
",nan,nan
8,issue_comment,610,nilearn,nilearn,banilo,2015-06-27 07:49:55,"+1
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
3,issue_comment,611,nilearn,nilearn,GaelVaroquaux,2015-06-15 18:52:59,"> Should we properly handle uint8 everywhere or simply convert the image
> to float systematically for plotting?

I say convert to float: the problem with that is blowing up memory. But
for a single volume it should be fine.
",nan,nan
4,issue_comment,611,nilearn,nilearn,lesteve,2015-06-16 09:40:02,"Just curious: could we not use a mask based on np.abs ?
",nan,nan
5,issue_comment,611,nilearn,nilearn,AlexandreAbraham,2015-06-18 08:11:24,"@lesteve we can do that too. But I must admit that conversion to float is easier and will prevent all errors.
",nan,nan
6,issue_comment,611,nilearn,nilearn,lesteve,2015-06-18 09:27:19,"> But I must admit that conversion to float is easier and will prevent all errors.

Out of curiosity what kind of other errors are likely to happen?
",nan,nan
7,issue_comment,611,nilearn,nilearn,KamalakerDadi,2015-06-18 14:36:06,"> Just curious: could we not use a mask based on np.abs ?

If I use `np.abs(data)` to mask, I get the same error. This is what you mean to use ?

![errorwithnomagic](https://cloud.githubusercontent.com/assets/11410385/8233662/cc061152-15d7-11e5-95f1-bd9379bce595.png)
",nan,nan
8,issue_comment,611,nilearn,nilearn,lesteve,2015-06-18 16:04:54,"What I meant, instead of:

``` python
data = np.ma.masked_inside(data, -threshold, threshold,
                                               copy=False)
```

do something like this:

``` python
data = np.ma.masked_where(np.abs(data) <= threshold, data, copy=False)
```
",nan,nan
9,issue_comment,611,nilearn,nilearn,KamalakerDadi,2015-06-18 19:48:11,"`data = np.ma.masked_where(np.abs(data) <= threshold, data, copy=False)`

Using this line worked without a problem.
",nan,nan
10,issue_comment,611,nilearn,nilearn,GaelVaroquaux,2015-06-18 20:55:03,"I think that using the abs is a bit of a dirty hack. Are we sure that we
do not risk looping too far and becoming positive again (droping in the
discussion while having forgotten the beginning of it, and in the middle
of doing 1000 things, so maybe the comment is irrelevent).
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
13,pull_request_commit_comment,608,nilearn,nilearn,bthirion,2015-06-12 20:48:22,"composed
",a40a71630c16cc618d36cfa17bf4a56c932daed2,"(None, '', u'nilearn/datasets.py')"
14,pull_request_commit_comment,608,nilearn,nilearn,bthirion,2015-06-12 20:48:46,"Used to force
",a40a71630c16cc618d36cfa17bf4a56c932daed2,"(None, '', u'nilearn/datasets.py')"
5,issue_comment,608,nilearn,nilearn,bthirion,2015-06-12 20:51:15,"Travis failure: download time out.

Otherwise, an example using it would be great.
",nan,nan
6,issue_comment,608,nilearn,nilearn,AlexandreAbraham,2015-06-12 21:26:48,"I will commit again to relaunch travis.

> Otherwise, an example using it would be great.

I'm still thinking about that. Any idea is welcome.
",nan,nan
7,issue_comment,608,nilearn,nilearn,GaelVaroquaux,2015-06-12 21:45:40,"One remark on these fetchers: I would like us to start having a name convention for atlases: something like fetch_atlas_foobar. It would help with discovery via tab completion.

Sent from my phone. Please forgive brevity and mis spelling

On Jun 12, 2015, 14:26, at 14:26, Alexandre Abraham notifications@github.com wrote:

> I will commit again to relaunch travis.
> 
> > Otherwise, an example using it would be great.
> 
> I'm still thinking about that. Any idea is welcome.
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/608#issuecomment-111622490
",nan,nan
15,pull_request_commit_comment,608,nilearn,nilearn,AlexandreAbraham,2015-06-13 20:56:22,"Fixed.

On Fri, Jun 12, 2015 at 10:48 PM, bthirion notifications@github.com wrote:

> In nilearn/datasets.py
> https://github.com/nilearn/nilearn/pull/608#discussion_r32353637:
> 
> > @@ -1066,6 +1066,38 @@ def fetch_smith_2009(data_dir=None, url=None, resume=True, verbose=1):
> >      return Bunch(**params)
> > 
> > +def fetch_power_2011(verbose=1):
> > -    """"""Download and load the Power et al. brain atlas compose of 264 ROIs.
> 
> composed
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/608/files#r32353637.
",a40a71630c16cc618d36cfa17bf4a56c932daed2,"(None, '', u'nilearn/datasets.py')"
16,pull_request_commit_comment,608,nilearn,nilearn,AlexandreAbraham,2015-06-13 20:56:28,"Fixed

On Fri, Jun 12, 2015 at 10:48 PM, bthirion notifications@github.com wrote:

> In nilearn/datasets.py
> https://github.com/nilearn/nilearn/pull/608#discussion_r32353661:
> 
> > @@ -1066,6 +1066,38 @@ def fetch_smith_2009(data_dir=None, url=None, resume=True, verbose=1):
> >      return Bunch(**params)
> > 
> > +def fetch_power_2011(verbose=1):
> > -    """"""Download and load the Power et al. brain atlas compose of 264 ROIs.
> >   +
> > -    Parameters
> > -    ----------
> > -    data_dir: string, optional
> > -        Path of the data directory. Use to forec data storage in a non-
> 
> Used to force
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/608/files#r32353661.
",a40a71630c16cc618d36cfa17bf4a56c932daed2,"(None, '', u'nilearn/datasets.py')"
8,issue_comment,608,nilearn,nilearn,AlexandreAbraham,2015-06-13 20:56:38,"Fixed.

On Fri, Jun 12, 2015 at 11:45 PM, Gael Varoquaux notifications@github.com
wrote:

> One remark on these fetchers: I would like us to start having a name
> convention for atlases: something like fetch_atlas_foobar. It would help
> with discovery via tab completion.
> 
> Sent from my phone. Please forgive brevity and mis spelling
> 
> On Jun 12, 2015, 14:26, at 14:26, Alexandre Abraham <
> notifications@github.com> wrote:
> 
> > I will commit again to relaunch travis.
> > 
> > > Otherwise, an example using it would be great.
> > 
> > I'm still thinking about that. Any idea is welcome.
> > 
> > ---
> > 
> > Reply to this email directly or view it on GitHub:
> > https://github.com/nilearn/nilearn/pull/608#issuecomment-111622490
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/608#issuecomment-111626654.
",nan,nan
9,issue_comment,608,nilearn,nilearn,AlexandreAbraham,2015-06-18 08:09:03,"@lesteve This one is also part of the #HappyMergeDay!

Note: I'm planning to add an example using this atlas and Destrieux's afterward.
",nan,nan
10,issue_comment,608,nilearn,nilearn,lesteve,2015-06-18 09:26:18,"You know it's not going to be a #HappyMergeDay when the Travis tests are not even passing ;-).

I guess you need to tweak setup.py so that the missing csv is part of the package_data.
",nan,nan
17,pull_request_commit_comment,608,nilearn,nilearn,lesteve,2015-06-18 10:56:57,"The docstring is wrong: no data_dir or url parameter.

Also the 'verbose' parameter is not used.
",a40a71630c16cc618d36cfa17bf4a56c932daed2,"(None, '', u'nilearn/datasets.py')"
18,pull_request_commit_comment,608,nilearn,nilearn,lesteve,2015-06-18 11:02:10,"Not really for this PR, but it would feel safer to be based on `nilearn.__file__` rather than `__file__` in case this code is moved around in the package hierarchy.
",a40a71630c16cc618d36cfa17bf4a56c932daed2,"(51, '', u'nilearn/datasets.py')"
19,pull_request_commit_comment,608,nilearn,nilearn,AlexandreAbraham,2015-06-18 11:11:05,"Fixed.

On Thu, Jun 18, 2015 at 12:56 PM, Loïc Estève notifications@github.com
wrote:

> In nilearn/datasets.py
> https://github.com/nilearn/nilearn/pull/608#discussion_r32718520:
> 
> > @@ -1066,6 +1066,38 @@ def fetch_smith_2009(data_dir=None, url=None, resume=True, verbose=1):
> >      return Bunch(**params)
> > 
> > +def fetch_atlas_power_2011(verbose=1):
> > -    """"""Download and load the Power et al. brain atlas composed of 264 ROIs.
> >   +
> > -    Parameters
> 
> The docstring is wrong: no data_dir or url parameter.
> 
> Also the 'verbose' parameter is not used.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/608/files#r32718520.
",a40a71630c16cc618d36cfa17bf4a56c932daed2,"(None, '', u'nilearn/datasets.py')"
11,issue_comment,608,nilearn,nilearn,lesteve,2015-06-18 11:33:27,"Failing tests: verbose parameter wasn't removed in one of the tests.
",nan,nan
12,issue_comment,608,nilearn,nilearn,lesteve,2015-06-18 13:19:22,"Merging, thanks.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
5,issue_comment,587,nilearn,nilearn,banilo,2015-05-14 17:33:20,"More generally, there appear to be some hyphenation issues in the docs. Especially, in this and similar scenarios ""machine-learning methods""
",nan,nan
12,pull_request_commit_comment,587,nilearn,nilearn,lesteve,2015-05-14 18:46:46,"Hmm was `?:` intended, i.e. the question mark followed by a colon ? 
",c9b7963a5df9f07d281b530503860f820c518fcb,"(None, '', u'doc/introduction.rst')"
13,pull_request_commit_comment,587,nilearn,nilearn,lesteve,2015-05-14 18:49:00,"maybe observation**s** with a final 's'?
",c9b7963a5df9f07d281b530503860f820c518fcb,"(None, '', u'doc/introduction.rst')"
14,pull_request_commit_comment,587,nilearn,nilearn,lesteve,2015-05-14 18:49:39,"clustering repeated twice
",c9b7963a5df9f07d281b530503860f820c518fcb,"(None, '', u'doc/introduction.rst')"
15,pull_request_commit_comment,587,nilearn,nilearn,lesteve,2015-05-14 18:50:49,"arguable. I don't know exactly why but I preferred it as it was.
",c9b7963a5df9f07d281b530503860f820c518fcb,"(128, '', u'doc/introduction.rst')"
16,pull_request_commit_comment,587,nilearn,nilearn,lesteve,2015-05-14 18:54:21,"missing 'o' in foll**o**wing

maybe 'type in' is simpler to understand than 'punch in'
",c9b7963a5df9f07d281b530503860f820c518fcb,"(None, '', u'doc/introduction.rst')"
17,pull_request_commit_comment,587,nilearn,nilearn,lesteve,2015-05-14 18:55:32,"google seems to prefer ""no error occur**s**""
",c9b7963a5df9f07d281b530503860f820c518fcb,"(None, '', u'doc/introduction.rst')"
18,pull_request_commit_comment,587,nilearn,nilearn,lesteve,2015-05-14 18:57:16,"I would stick with development rather than developmental.
",c9b7963a5df9f07d281b530503860f820c518fcb,"(None, '', u'doc/introduction.rst')"
19,pull_request_commit_comment,587,nilearn,nilearn,lesteve,2015-05-14 18:59:40,"I would keep ""For simple ..."" rather than ""To simple ...""
",c9b7963a5df9f07d281b530503860f820c518fcb,"(None, '', u'doc/introduction.rst')"
20,pull_request_commit_comment,587,nilearn,nilearn,lesteve,2015-05-14 19:00:11,"brain volume**s**
",c9b7963a5df9f07d281b530503860f820c518fcb,"(None, '', u'doc/introduction.rst')"
21,pull_request_commit_comment,587,nilearn,nilearn,lesteve,2015-05-14 19:00:41,"I am not sure what the ""and every"" brings
",c9b7963a5df9f07d281b530503860f820c518fcb,"(None, '', u'doc/introduction.rst')"
22,pull_request_commit_comment,587,nilearn,nilearn,lesteve,2015-05-14 19:01:36,"with -> by replacement arguable
",c9b7963a5df9f07d281b530503860f820c518fcb,"(None, '', u'doc/introduction.rst')"
23,pull_request_commit_comment,587,nilearn,nilearn,lesteve,2015-05-14 19:02:12,"typo in nilearn
",c9b7963a5df9f07d281b530503860f820c518fcb,"(None, '', u'doc/introduction.rst')"
24,pull_request_commit_comment,587,nilearn,nilearn,AlexandreAbraham,2015-05-14 22:36:28,":+1: 
",c9b7963a5df9f07d281b530503860f820c518fcb,"(None, '', u'doc/introduction.rst')"
25,pull_request_commit_comment,587,nilearn,nilearn,AlexandreAbraham,2015-05-14 22:38:31,"Anaconda describes itself as ""Anaconda Scientific Python Distribution"".
",c9b7963a5df9f07d281b530503860f820c518fcb,"(128, '', u'doc/introduction.rst')"
26,pull_request_commit_comment,587,nilearn,nilearn,AlexandreAbraham,2015-05-14 22:43:39,"Not sure that I prefer your formulation on this one. But can't tell why, that's totally subjective.
",c9b7963a5df9f07d281b530503860f820c518fcb,"(None, '', u'doc/introduction.rst')"
27,pull_request_commit_comment,587,nilearn,nilearn,AlexandreAbraham,2015-05-14 22:45:50,"What about linux users?
",c9b7963a5df9f07d281b530503860f820c518fcb,"(169, '', u'doc/introduction.rst')"
28,pull_request_commit_comment,587,nilearn,nilearn,AlexandreAbraham,2015-05-14 22:47:42,"`cmd.exe` send me back 6 or 7 years ago. We can cite it but I think that powershell should be evoked first.
",c9b7963a5df9f07d281b530503860f820c518fcb,"(170, '', u'doc/introduction.rst')"
29,pull_request_commit_comment,587,nilearn,nilearn,AlexandreAbraham,2015-05-14 22:48:39,":+1: for ""type in"".

I would use ""check"" rather than ""verify"".
",c9b7963a5df9f07d281b530503860f820c518fcb,"(None, '', u'doc/introduction.rst')"
30,pull_request_commit_comment,587,nilearn,nilearn,AlexandreAbraham,2015-05-14 22:51:03,"""as an alternative to using pip"" -> Should we put the line stating how to install the dev version with pip too?
",c9b7963a5df9f07d281b530503860f820c518fcb,"(195, '', u'doc/introduction.rst')"
31,pull_request_commit_comment,587,nilearn,nilearn,AlexandreAbraham,2015-05-14 22:51:38,"I would remove the ""yes, ""
",c9b7963a5df9f07d281b530503860f820c518fcb,"(None, '', u'doc/introduction.rst')"
32,pull_request_commit_comment,587,nilearn,nilearn,AlexandreAbraham,2015-05-14 22:53:40,"I don't think that measuring the execution time of a command is a useful feature for our users. I think that interactive debugging is more useful.
",c9b7963a5df9f07d281b530503860f820c518fcb,"(None, '', u'doc/introduction.rst')"
33,pull_request_commit_comment,587,nilearn,nilearn,AlexandreAbraham,2015-05-14 22:55:16,"What about ""First things first, nilearn does not have a graphical user interface. But you will soon realize that you don't really need one.""?
",c9b7963a5df9f07d281b530503860f820c518fcb,"(285, '', u'doc/introduction.rst')"
34,pull_request_commit_comment,587,nilearn,nilearn,AlexandreAbraham,2015-05-14 22:59:01,"Yes, I would stick to ""with"".
",c9b7963a5df9f07d281b530503860f820c518fcb,"(None, '', u'doc/introduction.rst')"
35,pull_request_commit_comment,587,nilearn,nilearn,AlexandreAbraham,2015-05-14 22:59:38,"""found at here"" does not seem correct to my ear.
",c9b7963a5df9f07d281b530503860f820c518fcb,"(None, '', u'doc/introduction.rst')"
6,issue_comment,587,nilearn,nilearn,AlexandreAbraham,2015-05-14 23:00:55,"Great stuff. I just put in some subjective remarks but that may not be relevant since your english is better than mine.
",nan,nan
7,issue_comment,587,nilearn,nilearn,AlexandreAbraham,2015-06-03 11:22:01,"@banilo do you plan to address the comments or should we close / take over this PR?
",nan,nan
36,pull_request_commit_comment,587,nilearn,nilearn,banilo,2015-06-11 13:23:11,"year...I also prefer the new version
",c9b7963a5df9f07d281b530503860f820c518fcb,"(128, '', u'doc/introduction.rst')"
37,pull_request_commit_comment,587,nilearn,nilearn,banilo,2015-06-11 13:27:25,"i think, they just know
",c9b7963a5df9f07d281b530503860f820c518fcb,"(169, '', u'doc/introduction.rst')"
38,pull_request_commit_comment,587,nilearn,nilearn,banilo,2015-06-11 13:28:07,"that was for fun
",c9b7963a5df9f07d281b530503860f820c518fcb,"(None, '', u'doc/introduction.rst')"
39,pull_request_commit_comment,587,nilearn,nilearn,banilo,2015-06-11 13:34:32,"addressed all of these 3 but does not show here
",c9b7963a5df9f07d281b530503860f820c518fcb,"(None, '', u'doc/introduction.rst')"
8,issue_comment,587,nilearn,nilearn,banilo,2015-06-11 13:35:19,"> @banilo do you plan to address the comments or should we close / take over this PR?

sorry for the delay. I got sucked into something.

I should have addressed all immediately addressable suggestions now.
",nan,nan
9,issue_comment,587,nilearn,nilearn,lesteve,2015-06-12 08:52:42,"Looks like a definitive improvement, thanks a lot for this.
",nan,nan
10,issue_comment,587,nilearn,nilearn,banilo,2015-06-12 09:12:10,"Thanks for merging... I will look at the rest of the docs over the next days.
",nan,nan
11,issue_comment,587,nilearn,nilearn,lesteve,2015-06-12 09:35:00,"Rather than improving the wording, I feel it is slightly higher priority to go over the documentation code snippets and make sure: 
- they make sense: the way we include part of the examples in the doc via litteralinclude is notoriously fragile
- they work. I am pretty sure some are broken for example https://github.com/nilearn/nilearn/issues/424 list a few of them
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
5,issue_comment,597,nilearn,nilearn,lesteve,2015-06-01 12:30:19,"This is going to break a couple of examples and some of the rst doc needs to be updated.
",nan,nan
6,issue_comment,597,nilearn,nilearn,AlexandreAbraham,2015-06-01 13:01:32,"Fixed!
",nan,nan
7,issue_comment,597,nilearn,nilearn,AlexandreAbraham,2015-06-02 07:49:36,"@lesteve Is that OK now?
",nan,nan
8,issue_comment,597,nilearn,nilearn,AlexandreAbraham,2015-06-02 07:49:59,"@salma1601 can you test this PR to see if your problems are solved?
",nan,nan
9,issue_comment,597,nilearn,nilearn,salma1601,2015-06-02 09:40:30,"Yes fetch_harvard_oxford finds the existant atlas file. Could you please update the docstring of this function for the output ?
",nan,nan
10,issue_comment,597,nilearn,nilearn,AlexandreAbraham,2015-06-02 21:18:57,"Docstring updated.
",nan,nan
11,issue_comment,597,nilearn,nilearn,GaelVaroquaux,2015-06-03 04:49:07,"I would like this PR not to be merged before the middle of next week. The
reason being that in the beginning of next week we are teaching a nilearn
course. Just in case someone is using master in the course, this PR would
break our course.

In general, though, I am not opposed to the changes that this PR brings.
",nan,nan
12,issue_comment,597,nilearn,nilearn,AlexandreAbraham,2015-06-03 11:29:06,"> I would like this PR not to be merged before the middle of next week

I can take care of #481 this week end if you need.
",nan,nan
20,pull_request_commit_comment,597,nilearn,nilearn,banilo,2015-06-09 13:29:11,"alternatively ""to explore first.""
",0948d6b1441c8712e60ee5275396cfed80342e1e,"(None, '', u'nilearn/datasets.py')"
21,pull_request_commit_comment,597,nilearn,nilearn,banilo,2015-06-09 13:34:57,"if you split into a list of individuals paths why do you use extend() instead of append()?
",0948d6b1441c8712e60ee5275396cfed80342e1e,"(64, '', u'nilearn/datasets.py')"
22,pull_request_commit_comment,597,nilearn,nilearn,AlexandreAbraham,2015-06-09 13:40:03,"Fixed.
",0948d6b1441c8712e60ee5275396cfed80342e1e,"(None, '', u'nilearn/datasets.py')"
23,pull_request_commit_comment,597,nilearn,nilearn,AlexandreAbraham,2015-06-09 13:40:43,"I want `paths` to be a list of paths. If I use `append`, I will end up with a list of list of paths.
",0948d6b1441c8712e60ee5275396cfed80342e1e,"(64, '', u'nilearn/datasets.py')"
24,pull_request_commit_comment,597,nilearn,nilearn,banilo,2015-06-09 13:47:32,"OH, ok. I though d, here, already contains only single paths. But I was probably wrong.
",0948d6b1441c8712e60ee5275396cfed80342e1e,"(64, '', u'nilearn/datasets.py')"
13,issue_comment,597,nilearn,nilearn,AlexandreAbraham,2015-06-12 07:54:07,"@GaelVaroquaux is that OK for merging now?
",nan,nan
14,issue_comment,597,nilearn,nilearn,bthirion,2015-06-12 20:45:44,"LGTM.
",nan,nan
25,pull_request_commit_comment,597,nilearn,nilearn,lesteve,2015-06-17 09:19:45,"pre_dirs is not a great name if you ask me. No great suggestion though !
",0948d6b1441c8712e60ee5275396cfed80342e1e,"(None, '', u'nilearn/datasets.py')"
26,pull_request_commit_comment,597,nilearn,nilearn,AlexandreAbraham,2015-06-17 10:49:13,"Yeah, I feel the same about it :-/
",0948d6b1441c8712e60ee5275396cfed80342e1e,"(None, '', u'nilearn/datasets.py')"
27,pull_request_commit_comment,597,nilearn,nilearn,AlexandreAbraham,2015-06-17 11:09:07,"In the doc, we say that single path are handled in parameter or in environment variables. Behind the scenes, we also handle several paths separated by colons.
",0948d6b1441c8712e60ee5275396cfed80342e1e,"(64, '', u'nilearn/datasets.py')"
15,issue_comment,597,nilearn,nilearn,AlexandreAbraham,2015-06-18 08:04:27,"I had the idea of mixing this PR with #610. Instead of changing the output of `fetch_harvard_oxford` (which is a bunch now), I created a function with the new wording, `fetch_atlas_harvard_oxford` and kept the old one with a deperecation warning so that the user scripts won't be impacted.

@lesteve, this one is ready to merge! 
",nan,nan
28,pull_request_commit_comment,597,nilearn,nilearn,lesteve,2015-06-18 10:54:46,"maybe dirs_to_search_first, or paths_to_explore_first, priority_searched_paths, any combination of these, or something even better ...

By the way default mutable argument is not recommended.
",0948d6b1441c8712e60ee5275396cfed80342e1e,"(None, '', u'nilearn/datasets.py')"
29,pull_request_commit_comment,597,nilearn,nilearn,AlexandreAbraham,2015-06-18 11:08:01,"Fixed.

On Thu, Jun 18, 2015 at 12:54 PM, Loïc Estève notifications@github.com
wrote:

> In nilearn/datasets.py
> https://github.com/nilearn/nilearn/pull/597#discussion_r32718362:
> 
> > @@ -176,7 +176,7 @@ def _chunk_read_(response, local_file, chunk_size=8192, report_hook=None,
> >      return
> > 
> > -def _get_dataset_dir(dataset_name, data_dir=None, env_vars=[],
> > +def _get_dataset_dir(dataset_name, data_dir=None, pre_dirs=[],
> 
> maybe dirs_to_search_first, or paths_to_explore_first,
> priority_searched_paths, any combination of these, or something even better
> ...
> 
> By the way default mutable argument is not recommended.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/597/files#r32718362.
",0948d6b1441c8712e60ee5275396cfed80342e1e,"(None, '', u'nilearn/datasets.py')"
30,pull_request_commit_comment,597,nilearn,nilearn,lesteve,2015-06-18 11:30:47,"Can you amend doc/manipulating_visualizing/manipulating_images.rst which has the same description (or a very similar one)?
",0948d6b1441c8712e60ee5275396cfed80342e1e,"(41, '', u'nilearn/datasets.py')"
16,issue_comment,597,nilearn,nilearn,lesteve,2015-06-18 11:32:10,"Failing tests, pre_dirs hasn't been renamed everywhere.
",nan,nan
31,pull_request_commit_comment,597,nilearn,nilearn,AlexandreAbraham,2015-06-18 11:41:51,"Done.

On Thu, Jun 18, 2015 at 1:30 PM, Loïc Estève notifications@github.com
wrote:

> In nilearn/datasets.py
> https://github.com/nilearn/nilearn/pull/597#discussion_r32720516:
> 
> > @@ -204,39 +206,43 @@ def _get_dataset_dir(dataset_name, data_dir=None, env_vars=[],
> >      -----
> >      This function retrieves the datasets directory (or data directory) using
> >      the following priority :
> > -    1. the keyword argument data_dir
> > -    2. the global environment variable NILEARN_SHARED_DATA
> > -    3. the user environment variable NILEARN_DATA
> > -    4. nilearn_data in the user home folder
> > -    1. defaults system paths
> > -    2. the keyword argument data_dir
> > -    3. the global environment variable NILEARN_SHARED_DATA
> > -    4. the user environment variable NILEARN_DATA
> > -    5. nilearn_data in the user home folder
> 
> Can you amend doc/manipulating_visualizing/manipulating_images.rst which
> has the same description (or a very similar one)?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/597/files#r32720516.
",0948d6b1441c8712e60ee5275396cfed80342e1e,"(41, '', u'nilearn/datasets.py')"
17,issue_comment,597,nilearn,nilearn,AlexandreAbraham,2015-06-18 11:42:32,"I've seen that. That's why I push my changes, to get return from travis ;).

On Thu, Jun 18, 2015 at 1:32 PM, Loïc Estève notifications@github.com
wrote:

> Failing tests, pre_dirs hasn't been renamed everywhere.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/597#issuecomment-113120974.
",nan,nan
18,issue_comment,597,nilearn,nilearn,AlexandreAbraham,2015-06-18 13:50:47,"@lesteve We can hit the big green button now ;)
",nan,nan
19,issue_comment,597,nilearn,nilearn,lesteve,2015-06-18 14:11:40,"Good stuff merging.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
43,pull_request_commit_comment,430,nilearn,nilearn,eickenberg,2015-02-15 18:14:27,"Maybe: the seeds are taken to be the locations indicated by all voxels with non-zero values
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
44,pull_request_commit_comment,430,nilearn,nilearn,eickenberg,2015-02-15 18:14:36,"for
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
45,pull_request_commit_comment,430,nilearn,nilearn,eickenberg,2015-02-15 18:15:22,"set to 0
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
46,pull_request_commit_comment,430,nilearn,nilearn,eickenberg,2015-02-15 18:15:48,".
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
41,issue_comment,430,nilearn,nilearn,eickenberg,2015-02-15 18:19:52,"fyi I did some benchmarks and `tensordot` is just fine. Compared to my proposed alternatives it is also readable.
",nan,nan
47,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 18:27:52,"I like it!
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
48,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 18:29:02,"Fixed.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
49,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 18:31:10,"This part was taken from the doc NiftiLabelsMasker. We should propagate the fix to other classes (I won't do it here given that a modification is pending in PR #426).
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
50,pull_request_commit_comment,430,nilearn,nilearn,eickenberg,2015-02-15 18:32:45,"Don't worry - ``put'' is  not wrong, my comment is purely cosmetic
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
51,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-15 20:43:00,"Might not strike as a crisp description. Perhaps ""Mask nifti images by spherical volumes for seed-region analyses""
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(2, '', u'nilearn/input_data/nifti_spheres_masker.py')"
52,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-15 20:52:09,"Rather throw NotImplemented exception?

Regarding the message: would it not be a seed's time series data, the user would, if existing, pass o to inverse_transform()? -> If yes, ""Inverse transformation does not make sense for seed-derived data.""?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
53,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-15 20:52:37,"""images"" -> ""Nifti-like objects""
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
54,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-15 21:17:10,"From experience with coordinate-based meta-analysis: many people appear to get confused about when TAL versus MNI coordinates make a difference. Perhaps include something related here.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
55,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-15 21:44:34,"Same as

``` python
mask = np.zeros((3, 3, 3), dtype=np.bool)
mask[1, :, 1] = True
```
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/tests/test_nifti_spheres_masker.py')"
56,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-15 21:49:33,"The nature of the seed nifti is not verified (many zero, and a few non-zero indicator voxels).
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
57,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-15 21:52:25,"Nift1Image.get_data() automatically makes sure that time dimension comes last. Not sure the related part in the imgs-explanation is necessary.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(220, '', u'nilearn/input_data/nifti_spheres_masker.py')"
58,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-15 22:05:31,"in ""voxel space""
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
59,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-15 22:07:41,"Why do we actually not have an `is_niimg` function?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
60,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 22:18:28,"Actually, I was waiting for your PR to be finalized and merged to have a common description across all maskers ;).
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(2, '', u'nilearn/input_data/nifti_spheres_masker.py')"
61,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 22:19:29,"Because finding out if an object is a niimg is the same as loading it.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
62,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-15 22:20:04,"Good to mention that, I was wondering about the optimal order of masker-related merges.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
63,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 22:20:40,"fixed.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
64,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 22:22:26,"It seems obvious to me that the given coordinates must ""live"" in the same space as the images. What do you suggest?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
65,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-02-15 22:30:00,"Is there a strong usecase for that type of input? I am a bit bit weary of functions that are very polymorphous in their inputs. They can make errors hard to track.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
66,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 22:31:16,"No. Do you think that using `masking._load_mask_img` is enough or should we specifically count the number of seeds and raise an error if there are too many?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
67,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-02-15 22:31:22,"I'd rather have the method simply not present. That way it is possible to test if an object implements inverse_transform or not using hasattr.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
68,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 22:33:43,"Fixed.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
69,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 22:34:54,"This part comes from NiftiLabelsMasker.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(220, '', u'nilearn/input_data/nifti_spheres_masker.py')"
70,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 22:35:47,"Yes, I prefer Gael's option, I didn't think of `hasattr`.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
71,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-15 23:06:59,"There is not and I will remove it. In fact, by writing the tests, I realized that there is no simple way to specify the order in which the voxels must be loaded. I think that it's better to rely on coordinates.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
72,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-17 21:26:17,"I wanted to keep explicit matrices to be clearer but maybe I was wrong.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/tests/test_nifti_spheres_masker.py')"
42,issue_comment,430,nilearn,nilearn,banilo,2015-02-19 04:34:25,"My naive view would be: If the goal is really spheres, and spheres only, then We can restrain ourselves to coordinates as input. Special overlapping or non-overlapping cases can be handled by NiftiMapsMasker and NiftiLabelsMasker.

Sent from my iPhone

> On 19 Feb 2015, at 00:29, Alexandre Abraham notifications@github.com wrote:
> 
> Absolutely no problem. I was just trying to consider all the edge cases. I thought of this particular case because depending on the post treatment applied to the data, it may be a problem to have identical features.
> 
> —
> Reply to this email directly or view it on GitHub.
",nan,nan
73,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-02-25 15:36:48,"points at end of explanation missing here and in some subsequent arguments.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
5,issue_comment,430,nilearn,nilearn,bcipolli,2015-02-25 20:10:20,"I just started to try and work with this, and I found it has a very limited function.  It would be much more useful to me (and perhaps others?) if the masker accepted a transformation function.  You extract the voxels within the sphere and you pass them to me; I have a function to create a value from it.

Is it something to consider here, in #353, or to open a new issue about?
Edit: Here's my code for having a generic `xfer_fn`: https://github.com/bcipolli/nilearn/commit/d085fcd934a48bc65ffb2557c388c0788ecb1e58

Edit: Turns out, the algorithm is fixed to loop over seeds (vs. image slices).  I actually want the latter.  Since this is a bigger generalization of the idea, I'll open up a new issue for this to discuss.
",nan,nan
6,issue_comment,430,nilearn,nilearn,bcipolli,2015-02-25 21:50:33,"How about an `inverse_transform` method, that outputs the vector values at each seed location?  At the very least it's good for visualization.

Edit: this would require a `seeds_img`.  Allowing input of a `seeds_img` instead of `seeds` in the constructor would be a nice feature as well.
",nan,nan
74,pull_request_commit_comment,430,nilearn,nilearn,bcipolli,2015-02-25 23:03:28,"`coords` is 4d; worth mentioning that fact, and the 4th (constant) dimension here?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
7,issue_comment,430,nilearn,nilearn,bcipolli,2015-02-26 00:17:37,"Since I needed both of these suggestions today, I did my best to do them myself.
- Allow a user-defined transform function: https://github.com/bcipolli/nilearn/commit/deea263ad72419dc407339b3aa2ccf2e508c5ef3
- Allow seed specification via a mask image, and implement `inverse_transform`: https://github.com/bcipolli/nilearn/commit/9f17287f48db575400cd339adcde78cf6a6e8bb8

I didn't add tests for either, as I'm in a rush and not sure if y'all will like the above.  Either way, here's a sample script (yes, I know it does some things unnecessarily.. it's my base script for playing :) ):

``` python
import matplotlib.pyplot as plt

import nibabel

from nilearn import datasets
from nilearn.input_data import NiftiSpheresMasker
from nilearn.plotting import plot_stat_map, plot_roi
from nilearn.image import index_img

# Defs
subj_idx = 0
cut_coords = (28, -34, -22)

# Get data
print(""Loading data..."")
haxby_dataset = datasets.fetch_haxby(n_subjects=subj_idx + 1)
func_img = index_img(nibabel.load(haxby_dataset.func[subj_idx]),
                     range(100))  # remove most slices for speed
mask_img = nibabel.load(haxby_dataset.mask_vt[subj_idx])


def my_xform(sphere_data):
    return sphere_data.mean(axis=0)

# Create mask
print(""Fit the SphereMasker..."")
sphere_masker = NiftiSpheresMasker(seeds=mask_img, radius=5,
                                   xform_fn=my_xform,
                                   mask_img=mask_img,
                                   memory=None, memory_level=10,
                                   verbose=10)
sphere_masker.fit()
plot_roi(sphere_masker.seeds_img_, title='seed img', cut_coords=cut_coords)
plot_roi(sphere_masker.mask_img_, title='mask img', cut_coords=cut_coords)

# Compute the mean image.
print(""Transforming the image..."")
vecs = sphere_masker.transform(func_img)
mean_img = sphere_masker.inverse_transform(vecs)
plot_stat_map(index_img(mean_img, 0), cut_coords=cut_coords)

plt.show()
```
",nan,nan
8,issue_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-26 01:21:41,"The initial implementation contained `mask_img` but I removed it after discussions.
",nan,nan
9,issue_comment,430,nilearn,nilearn,bcipolli,2015-02-26 03:36:44,"@AlexandreAbraham OK, well, you have my vote for it being essential. :)
",nan,nan
75,pull_request_commit_comment,430,nilearn,nilearn,bcipolli,2015-02-26 03:39:07,"This looks highly parallelizable; perhaps create a nested function of the code in this loop and parallelize it?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
76,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-26 06:49:19,"This is indeed but it would require more memory. For maskers, I prefer to lower memory consumption as much as possible since this usually is the bottleneck here. Also people usually mask once and then use cached data so the time overhead only happens once.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
10,issue_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-26 10:21:41,"> @AlexandreAbraham OK, well, you have my vote for it being essential. :)

Do you have a usecase? We removed it precisely because we couldn't find anybody using a seed mask and there is no available atlas available online to my knowledge.

> Allow a user-defined transform function: bcipolli@deea263

What function do you want to use apart from `mean`? We don't offer that choice either in NiftiLabelsMasker. We could add it but I want to check that it's not YAGNI.

> How about an inverse_transform method, that outputs the vector values at each seed location? At the very least it's good for visualization.
> Edit: this would require a seeds_img. Allowing input of a seeds_img instead of seeds in the constructor would be a nice feature as well.

An `inverse_transform` would rise a lot of other problems, like the shape to use. Plus, I don't see why anybody would want to visualize that. We definitely need visualization for seed based experiences but correlation matrix plot is much more fit than brains in that specific case.
",nan,nan
77,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-26 10:22:58,"I don't get your remark. Can you elaborate?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
78,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-26 10:23:30,"This has been copied from NiftiLabelsMasker, we should open another issue about that and fix it afterward.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
11,issue_comment,430,nilearn,nilearn,eickenberg,2015-02-26 10:35:56,"> What function do you want to use apart from mean?

I have seen `mean`, `std`, `min` and `max` used. Cannot judge on whether that is advisable or not.
",nan,nan
12,issue_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-26 11:51:44,"I suggest that we focus on simple behavior for the moment. Since this question is common to spheres and labels masker, we can open an issue about that and discuss it. How does it sound?
",nan,nan
13,issue_comment,430,nilearn,nilearn,bcipolli,2015-02-26 15:26:02,"> > @AlexandreAbraham OK, well, you have my vote for it being essential. :)
> > Do you have a usecase? We removed it precisely because we couldn't find anybody using a seed mask and there is no available atlas available online to my knowledge.

For my analysis, I have a mask of ventral-temporal (VT) cortex.  For each voxel in that mask, I want a ball of nearby voxels.  I will use them to compute something (right now, a similarity matrix... but could be mean, std, etc.) that I then store as the value at that voxel position. I need to do that for every voxel in that VT mask.

> > Allow a user-defined transform function: bcipolli@deea263
> > What function do you want to use apart from mean? We don't offer that choice either in NiftiLabelsMasker. We could add it but I want to check that it's not YAGNI.

It is very powerful to have a vector of voxels for each slice simultaneously.  Again, this is exactly what I need for RSA, but if you have a callback function, you can do whatever you want (using global variables).  It's very powerful.

> > How about an inverse_transform method, that outputs the vector values at each seed location? At the very least it's good for visualization.
> > An inverse_transform would rise a lot of other problems, like the shape to use. Plus, I don't see why anybody would want to visualize that. We definitely need visualization for seed based experiences but correlation matrix plot is much more fit than brains in that specific case.

My seeds are very dense.  I want to visualize the values coming out in brain space. 

As far as the input, I also don't want to have to specify seed locations in template space, but rather through voxel indices.  Otherwise, I'll have to do the `np.tensordot` logic myself, and that is not simple at all.

> I suggest that we focus on simple behavior for the moment. Since this question is common to spheres and labels masker, we can open an issue about that and discuss it. How does it sound?

I'm absolutely all for that, in all of these cases. :)  I think there are two things to discuss (allow specification of an `xform_fn`, allow specifying a `seed_img` as input / inverse_transform on output), would be glad to open two issues.  

Note that in my RSA project, I'm already using both of the above.  For me, it's just a question of whether it's potentially useful to others, to in `nilearn`.
",nan,nan
79,pull_request_commit_comment,430,nilearn,nilearn,bcipolli,2015-02-26 15:28:47,"The comment `Create an array of shape (3, array.shape)` is above the definition of `coords`.  `Coords` actually has a 4th row of all ones, so the comment isn't strictly true.  I thought it might be worth mentioning that 4th (constant) row in the comment.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
14,issue_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-26 15:39:19,"> For my analysis [...]

Sounds like your usage corresponds more to SearchLight than NiftiSpheresMasker. Both are very close and I was thinking of sharing some code between the two. Could you take a look at SearchLight and tell me if you can achieve what you want by changing the estimator?
",nan,nan
80,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-02-26 15:40:37,"OK. My comment describes the two lines below, not the first one, but I'll make it clearer ;).
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
15,issue_comment,430,nilearn,nilearn,bcipolli,2015-02-26 17:20:28,"> Sounds like your usage corresponds more to SearchLight than NiftiSpheresMasker. Both are very close and I was thinking of sharing some code between the two. Could you take a look at SearchLight and tell me if you can achieve what you want by changing the estimator?

I'm not sure, I'm having a tough time understanding the code well, or how to use the more complex features.  I don't want to stop things here at all, so let's discuss in a new issue (and when I'm not on a deadline, like today :) )
",nan,nan
16,issue_comment,430,nilearn,nilearn,bcipolli,2015-02-28 18:42:00,"After using this class for a poster I just presented (on RSA searchlight) and then reviewing the documentation, I wonder if this class isn't better implemented as a `Transformer` built on top of a more generalized `Masker`?

From my understanding, a masker is for selecting subsets of voxels.
http://nilearn.github.io/building_blocks/pipeline_introduction.html#masking
I believe this fits how all the current maskers work.

Transformers are about filtering and/or modifying the data:
http://scikit-learn.org/stable/developers/#apis-of-scikit-learn-objects

I would expect a `NiftiSpheresMasker` to mask the data without transforming it, while a `NiftiSpheresTransformer` to mask the data, then transform it.

Generalizing the `NiftiSpheresMasker` could form the basis of the searchlight procedure, the `NiftiSpheresTransformer`, and could easily be the basis of my RSA searchlight code (which is different from the classification-focused searchlight code).

Alternately, keeping this class as implemented, but changing the name to `NiftiSpheresTransformer`, would match the existing `nilearn` and `scikit-learn` object model schema better (and make future refactoring, if needed, avoid renaming objects).
",nan,nan
17,issue_comment,430,nilearn,nilearn,GaelVaroquaux,2015-02-28 18:48:48,"From a user perspectice, the 99% usecases of this class are going to be
extracting signals for an ROI analysis. I can see that from a coding
perspective there is a very interesting link to RSA. However, it is
important to have a very simple story to tell to the user on what this
class is doing and what it is for, so I fear that making it more general,
or changing its name is dangerous.

That said, I agree that there could be value, in a later PR, to extract
part of the logic of this class in a set of reusable functions, that
could be later combined in a different class, eg for RSA, relying on
similar operations. From a software design principle, the idea would be
that the high-level classes exposed to the user are different, to give a
simple picture of the package to the user, but they share some underlying
code. That's one of the strong values of externalizing the core
numerical functionality in functions rather than classes.

What do you think?
",nan,nan
18,issue_comment,430,nilearn,nilearn,banilo,2015-02-28 18:54:59,"Agreed.

> Generalizing the NiftiSpheresMasker could form the basis of the searchlight procedure, the NiftiSpheresTransformer, and could easily be the basis of my RSA searchlight code (which is different from the classification-focused searchlight code).

In general, once the NiftiSpheresMasker is merged, one could simply derive new, more targeted classes from it.
",nan,nan
19,issue_comment,430,nilearn,nilearn,bcipolli,2015-02-28 19:02:39,"> I can see that from a coding perspective there is a very interesting link to RSA. However, it is
> important to have a very simple story to tell to the user on what this class is doing and what it is for, so I fear that making it more general, or changing its name is dangerous.

I should probably have separated it into two parts.  One is that I think calling this a `Masker` is confusing for users; it doesn't fit with the other maskers (it transforms data, not just extracting it).   The other is about how to go about doing the abstractions.

> In general, once the NiftiSpheresMasker is merged, one could simply derive new, more targeted classes from it.

I agree, but I think it's really a `Transformer`, not a `Masker`.  I think it's best to get names right first, so good to discuss before merging.  So to repeat: I think making it a pure masker, or calling it something else (my suggestion was `NiftiSpheresTransformer`) would fit the schema of what masks are, what transforms are, and therefore much clearer for users.
",nan,nan
20,issue_comment,430,nilearn,nilearn,GaelVaroquaux,2015-02-28 19:09:32,"> I agree, but I think it's really a Transformer, not a Masker.

All maskers are transformers (I feel that this sentence feel like it has
a deep meaning and should be said with the voice of Mr Spock :} ).

> I think it's best to get names right first, so good to discuss before
> merging.

OK. But I do claim that this object belong to the same family of concepts
as our other ""masker"" objects, it is very close to the NiftiLabelsMasker
of the NiftiMapsMasker.

Maybe all the ""Masker"" objects should be renamed to ""Loader"" objects.
That said, I don't see something horribly wrong with using the names
""masker"" for what we doing with them. But I admit that I can be convinced
otherwise.
",nan,nan
21,issue_comment,430,nilearn,nilearn,eickenberg,2015-02-28 19:17:57,"On Sat, Feb 28, 2015 at 8:09 PM, Gael Varoquaux notifications@github.com
wrote:

> > I agree, but I think it's really a Transformer, not a Masker.
> 
> All maskers are transformers (I feel that this sentence feel like it has
> a deep meaning and should be said with the voice of Mr Spock :} ).

+1

> > I think it's best to get names right first, so good to discuss before
> > merging.
> 
> OK. But I do claim that this object belong to the same family of concepts
> as our other ""masker"" objects, it is very close to the NiftiLabelsMasker
> of the NiftiMapsMasker.
> 
> +1
> 
> Maybe all the ""Masker"" objects should be renamed to ""Loader"" objects.

-1

> That said, I don't see something horribly wrong with using the names
> ""masker"" for what we doing with them. But I admit that I can be convinced
> otherwise.
> 
> I understand Ben's distinction in that a masker is perceived to extract,
> but not change, data and that a transformer necessarily applies some
> non-trivial change to the data.

The name ""Transformer"" comes from the nomenclature of scikit-learn, by
which any object is one if it exposes the method ""transform"" and thus can
be used as a pipeline step. Evidently such an informatics concept may not
overlap 1000% with the intuitions of users, but: a) The maskers DO change
the data, e.g. by detrending/standardizing and b) you can see them as the
beginning of a pipeline even if the way it acts upon data is not always
compatible with the checks performed in the scikit-learn pipeline object.

> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/430#issuecomment-76540627.
",nan,nan
22,issue_comment,430,nilearn,nilearn,bcipolli,2015-02-28 19:25:30,"I think I'm understanding this better, thanks for the feedback.  I think my intuitions come from the naming and documentation of `NiftiMasker`, which does more extraction/filtering than recombination.  I expected similar things from other maskers, as the naming is so similar (`NiftiXXMasker`) and the documentation from `NiftiMasker` implied to me that it represents all `Masker` objects.
http://nilearn.github.io/building_blocks/pipeline_introduction.html#masking

I will open an issue for discussion of those ideas (suggesting tweaking the docs, asking about the naming) as they're separate from my question related to this PR (whether this is best called `NiftiSpheresTransformer`).  

Thanks again! 
",nan,nan
23,issue_comment,430,nilearn,nilearn,GaelVaroquaux,2015-02-28 19:41:07,"> the documentation from NiftiMasker implied to me that it represents all
> Masker objects.
> http://nilearn.github.io/building_blocks/pipeline_introduction.html#masking

Yes, the documentation is crap. I am working on a massive rewrite in the
branch
https://github.com/GaelVaroquaux/nilearn/tree/doc_rework

The corresponding issue is https://github.com/nilearn/nilearn/issues/428
",nan,nan
24,issue_comment,430,nilearn,nilearn,AlexandreAbraham,2015-03-01 10:07:41,"We all agree that there is a common logic behind Nifti{Labels,Maps,Speheres}Masker, and Searchlight. So, I have a proposition. What if I finish up the work on this one as-is and merge it. Then, we refactor the code to use a ""magic"" iterator behind the scenes, for all these classes. Something like:
`_mask_iter_img(niimgs, iter_element, mask_img=none)`
where `iter_element` is to be defined (I have ideas, but I don't want to explain all of this here as I'm not yet sure it will be feasible).

After that, advanced users like @bcipolli could directly import the iterator for their advanced code. This would factorize the code inside and the masker, and provide a useful object for methods people. However, this magic iterator being private, we don't guarantee any backward compatibility, which should not be a problem as it will only be used by advanced people (well, only by Ben and maybe Mehdi in our team I think ;)). An inspiration could be `numpy.nditer`.

Does that sound reasonable?
",nan,nan
25,issue_comment,430,nilearn,nilearn,eickenberg,2015-03-01 10:24:23,"definitely advancing here

+1 for finishing this up.

Looking forward to a proposal for `_mask_iter_img` by advanced persons for advanced persons. Not sure if it is a good idea if it has to be kept private due to conceptual fragility, though.
",nan,nan
26,issue_comment,430,nilearn,nilearn,GaelVaroquaux,2015-03-01 10:52:52,"> Then, we refactor the code to use a ""magic""
> iterator behind the scenes,

""magic"" in software is never a good thing :)
",nan,nan
27,issue_comment,430,nilearn,nilearn,bcipolli,2015-03-01 15:16:02,"+1 for merging and discussing further as well.  My concerns have been addressed, and I'll look forward to  hearing your ideas @AlexandreAbraham !
",nan,nan
81,pull_request_commit_comment,430,nilearn,nilearn,bthirion,2015-03-01 20:32:22,"Shouldn't this be elsewhere ?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
28,issue_comment,430,nilearn,nilearn,bthirion,2015-03-01 20:36:20,"LGTM otherwise
",nan,nan
82,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-03-01 20:36:34,"> Shouldn't this be elsewhere ?

We have moved compose_err_msg() to _utils/logger.py. This probably happened in parallel to this PR.

https://github.com/nilearn/nilearn/blob/master/nilearn/_utils/logger.py#L76
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
83,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-03-01 20:37:02,"Indeed, this code was replicated in NiftiLabelsMasker and NiftiMapsMasker. @banilo moved it in the utils. I will fix that when I'll rebase.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
29,issue_comment,430,nilearn,nilearn,AlexandreAbraham,2015-03-12 08:50:14,"Sidenote: doc must be updated but I will do that after @GaelVaroquaux's #483 has been merged.
",nan,nan
84,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-03-13 15:22:41,"typo in ""store"" it appears
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
85,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-03-13 15:32:22,"Suggestions: ""List of coordinate triplets...""
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(90, '', u'nilearn/input_data/nifti_spheres_masker.py')"
86,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-03-13 15:33:58,"2 inconsistencies in this docstring
a) point at the end of variable type
b) point at the end of variable description
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
30,issue_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-07 09:05:07,"Tests are passing on my box but not on Travis :(.
Can anybody reproduce?
",nan,nan
31,issue_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-13 09:20:23,"The example is very basic but shows hwo to use the spheres masker.
",nan,nan
32,issue_comment,430,nilearn,nilearn,banilo,2015-05-13 09:33:53,"> Can anybody reproduce?

tests pass on my machine
",nan,nan
87,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 09:35:47,"As you are delaying the imports to where they are relevant (which I think is great), I think that you could move these two down to the plotting part.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
88,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 09:36:00,"Comment not valid.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
89,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 09:37:21,"Sorry: my remark is incomprehensible.

I think that, to make the example simple, we should not use a group sparse covariance, by something simpler: GraphLasso maybe.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
90,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 09:39:03,"Those two lines above are not needed (which will lead to removing more lines further above).
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
91,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 09:40:15,"Tell use (in a comment) what these coordinates mean.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
92,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-13 10:46:02,"Honestly, I just copied an existing example and modified it to ake it simpler and use the spheres masker.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
93,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 10:47:43,"> Honestly, I just copied an existing example and modified it to ake it simpler
> and use the spheres masker.

I noticed :). And I thought that it could be more focused/simplified.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
33,issue_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-13 11:43:16,"Figures generated by the example:

[obsolete]
",nan,nan
34,issue_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 11:44:55,"I don't understand the second figure: the timeseries seem very short to me.
",nan,nan
94,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 11:45:42,"Title is wrong. On top of this, I wouldn't mention ADHD in the title. I would focus on the fact that this is about extracting time series on a set of spheres.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
95,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 11:46:43,"Can't you make the example simpler by not specifying colors and letting matplotlib choose some?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
96,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 11:47:45,"You're probably missing a transpose on the 'time_series'.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
97,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 11:48:23,"I think that I would prefer to have a 'fit_transform' a bit further down. This fit looks stranger.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
98,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 11:49:31,"Does the connectome look any different without the high variance confounds?

I would rather not put it, and point people to the corresponding part of the docs on extracting time series for connectome in the documentation.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
99,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 11:50:19,"This print is wrong.

On top of this, I am not sure that we need it at all.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
100,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 11:50:54,"I don't think that we need this print.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
101,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 11:51:18,"I would move this guy at the bottom, next to the 'show'
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
102,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-13 11:53:32,"Fixed.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
103,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-13 11:55:54,"Moved as down as possible.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
104,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-13 11:56:52,"I don't know why but verbose is activated for maskers in all examples. If we don't put this print, the user will see weird caching prints after a ""fetching dataset"" message, which may seem weird to him.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
105,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-13 11:57:15,"If I don't specify colors, I can't put the same colors in the time-series plot and in the connectome.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
106,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-13 11:58:09,"Fixed.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
107,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-13 11:59:05,"They are the same. Removing.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
108,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-13 11:59:21,"Yes, I fixed that after uploading the figures ;).
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
109,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-13 11:59:57,"Removed all prints.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
110,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 12:00:39,"> I don't know why but verbose is activated for maskers in all examples.

Let's change that for this example. It makes sense for examples with many
subjects, but with only one subject it does not make sense.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
111,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 12:01:29,"> If I don't specify colors, I can't put the same colors in the time-series plot
> and in the connectome.

Which you are already not doing, I believe. Anyhow, I wouldn't bother: we
want a very simple example showing how to use the sphere masker, not much
more.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
35,issue_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-13 12:03:02,"New figures:

[obsolete]
",nan,nan
112,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 12:05:49,"Before telling us this, tell us that it extract signals on sphere specified by there position in MNI space. That's the goal of the example in terms of learning experience.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
113,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 12:06:19,"You don't need memory anymore. You can just give a path to the masker.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
114,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 12:06:38,"Do you still need image?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
115,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-13 12:08:56,"If we low pass a bit, what does the connectome look like? I find that the link between the PCC and the ACC is weak.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
116,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-13 12:10:09,"Fixed.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
117,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-13 12:10:16,"Removed.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
118,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-13 12:10:52,"Fixed.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
119,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-13 12:13:19,"Looks much better. I also replaced precision matrix by covariance since it makes more sense in that example.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
36,issue_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-13 12:15:05,"Latest figures:

![dmn_conn](https://cloud.githubusercontent.com/assets/1647301/7610102/722c14b6-f97a-11e4-93fc-567d3ce97135.png)
![dmn_ts](https://cloud.githubusercontent.com/assets/1647301/7610103/722c85d6-f97a-11e4-8a28-88321341d50d.png)
",nan,nan
37,issue_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-18 08:34:36,"Ping @lesteve @GaelVaroquaux. Sorry to push you a little bit but some people are strongly asking for this feature. Do you have some time to review it?
",nan,nan
120,pull_request_commit_comment,430,nilearn,nilearn,salma1601,2015-05-19 11:42:54,"a bit of repetition here, may be you don't need to specify you are focusing on the DMN
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(7, '', u'examples/connectivity/plot_adhd_spheres.py')"
121,pull_request_commit_comment,430,nilearn,nilearn,salma1601,2015-05-19 11:43:57,"a comment on what you are doing would be nice
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
122,pull_request_commit_comment,430,nilearn,nilearn,salma1601,2015-05-19 11:45:44,"Some people don't know what are precision matrices nor LedoitWolf estimator. Why not use np.corrcoef ?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
123,pull_request_commit_comment,430,nilearn,nilearn,salma1601,2015-05-19 11:48:52,"rather timestep or TR or volumes
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
124,pull_request_commit_comment,430,nilearn,nilearn,bthirion,2015-05-20 19:54:37,"Isn't there any more readable way to perform nearest neighbor assignment (maybe not, I'm just asking) ?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
125,pull_request_commit_comment,430,nilearn,nilearn,bthirion,2015-05-20 19:57:03,"Make clear that ""prior knowledge"" here refers to MNI (?) coordinates.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(86, '', u'nilearn/input_data/nifti_spheres_masker.py')"
126,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-20 21:17:15,"Well, redundancy is on purpose and I don't understand why we shouldn't say what we are doing in the example. Can we have another opinion?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(7, '', u'examples/connectivity/plot_adhd_spheres.py')"
127,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-20 21:20:09,"I was asked to remove them...
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
128,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-20 21:21:22,"Because covariance estimators works better. I think it's more important to show people things they don't know, rather than showing simple stuff that gives poor results.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
129,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-20 21:21:50,"Fixed. I put 'TR'.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
130,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-20 21:22:43,"Fixed.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(2, '', u'nilearn/input_data/nifti_spheres_masker.py')"
131,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-20 21:24:01,"There is one now. It's a function that allows to compute it without declaring a NearestNeighbors object. But it doesn't exist in previous versions of sklearn so I would have to make switch here, which would be less readable.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
132,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-20 21:24:54,"Oops, edit: it refers to ROIs that were computed elsewhere.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(86, '', u'nilearn/input_data/nifti_spheres_masker.py')"
133,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-20 21:29:02,"Fixed.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(90, '', u'nilearn/input_data/nifti_spheres_masker.py')"
134,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-20 21:30:13,"> a) point at the end of variable type

It's an error, fixed.

> b) point at the end of variable description

There is no clear rule in all nilearn doc.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
135,pull_request_commit_comment,430,nilearn,nilearn,bthirion,2015-05-21 06:40:10,"Hm, sorry, not TR
TR is the time it takes to acquire one volume, typically 2s.
Please use 'scan number' or 'repetition'
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
136,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-21 08:18:50,"Fixed.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
137,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-05-21 11:46:16,"there is only one dataset that is fetched
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
138,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-05-21 12:38:19,"Should the pooling function be an optional parameter of the NiftiSpheresMasker class?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(76, '', u'nilearn/input_data/nifti_spheres_masker.py')"
139,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-05-21 12:39:34,"nice way to comment here in `__init__`
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(149, '', u'nilearn/input_data/nifti_spheres_masker.py')"
140,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-21 12:47:41,"Yes! But for further work, for several reasons:
- people will argue about what aggregation functions should be offered by default, wording, doc, etc...
- I don't have an example showing the interest of using another aggregation function.

But I definitely want to do a PR in that sense after this one.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(76, '', u'nilearn/input_data/nifti_spheres_masker.py')"
141,pull_request_commit_comment,430,nilearn,nilearn,banilo,2015-05-21 12:54:50,"why is there no parameter check before calling clean, similar to smoothing_fwhm?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(252, '', u'nilearn/input_data/nifti_spheres_masker.py')"
142,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-21 13:44:36,"Because there are 6 parameters and `clean` is equivalent to `id` if all of them are None.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(252, '', u'nilearn/input_data/nifti_spheres_masker.py')"
143,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-21 19:17:43,"That said, the comment is still incorrect :).
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
144,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-22 07:28:30,"Fixed!

On Thu, May 21, 2015 at 9:17 PM, Gael Varoquaux notifications@github.com
wrote:

> In examples/connectivity/plot_adhd_spheres.py
> https://github.com/nilearn/nilearn/pull/430#discussion_r30837045:
> 
> > +]
> > +
> > +masker = input_data.NiftiSpheresMasker(
> > -    dmn_coords, radius=8,
> > -    detrend=True, standardize=True,
> > -    low_pass=0.1, high_pass=0.01, t_r=2.5,
> > -    memory='nilearn_cache', memory_level=1, verbose=2)
> >   +
> >   +func_filename = adhd_dataset.func[0]
> >   +confound_filename = adhd_dataset.confounds[0]
> >   +
> >   +time_series = masker.fit_transform(func_filename,
> > -                             confounds=[confound_filename])
> >   +
> >   +
> >   +# Computing group-sparse precision matrices ###################################
> 
> That said, the comment is still incorrect :).
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/430/files#r30837045.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'examples/connectivity/plot_adhd_spheres.py')"
145,pull_request_commit_comment,430,nilearn,nilearn,GaelVaroquaux,2015-05-22 07:59:49,"> Should the pooling function be an optional parameter of the NiftiSpheresMasker
> class?

I don't think so.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(76, '', u'nilearn/input_data/nifti_spheres_masker.py')"
38,issue_comment,430,nilearn,nilearn,AlexandreAbraham,2015-05-29 12:22:47,"@lesteve Could you do a pass on this one?
",nan,nan
146,pull_request_commit_comment,430,nilearn,nilearn,lesteve,2015-06-03 14:01:53,"`list(seed)` ?
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
147,pull_request_commit_comment,430,nilearn,nilearn,lesteve,2015-06-03 14:07:10,"Why not:

``` python
for seed in self.seeds:
    if len(seed) != 3:
        raise ValueError('Seeds must be a list of triplets ...')
```

bonus points if you add the non conforming seed in the error
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
148,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-06-03 14:09:47,"No.

Seeds[i] is a triplet but mask_coords elements are lists. So, for the `index` function to work, a conversion to list type is needed.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
149,pull_request_commit_comment,430,nilearn,nilearn,lesteve,2015-06-03 14:29:13,"Maybe it'd be good to be sure and improve the comment ...
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
150,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-06-03 14:40:54,"My version is ugly, I admit, but it catches a lot of bad values. Your version implies that `seeds` is iterable for example.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
151,pull_request_commit_comment,430,nilearn,nilearn,lesteve,2015-06-04 05:12:35,":confused: I was just proposing to replace `seeds[i]` by `seed`
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
152,pull_request_commit_comment,430,nilearn,nilearn,lesteve,2015-06-04 05:17:52,"Any reason this `seeds` check can not be moved to `__init__`, in order to fail as fast as possible?

> My version is ugly, I admit, but it catches a lot of bad values. Your version implies that seeds is iterable for example.

Then just check isinstance(self._seeds, collections.Iterable) or something equivalent.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
153,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-06-04 07:29:27,"My bad, you're totally right ! I misread your comment.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
154,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-06-04 07:34:12,"> Any reason this seeds check can not be moved to **init**, in order to fail as fast as possible?

Apart from the fact that we don't do any check in init, there is not. In all other functions, checks are always done in the fit.

> Then just check isinstance(self._seeds, collections.Iterable) or something equivalent.

So you don't like my lazy solutions :(
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
155,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-06-04 08:02:56,"Fixed.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
156,pull_request_commit_comment,430,nilearn,nilearn,lesteve,2015-06-08 09:41:33,"You could have the switching logic in _utils/fixes. That wouldn't impair readability and make it easier to remove when the minimum scikit-learn version is bumped up enough.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
157,pull_request_commit_comment,430,nilearn,nilearn,lesteve,2015-06-08 09:41:52,"Still a valid comment.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
158,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-06-08 11:48:58,"Sorry I missed this one. Improved.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
159,pull_request_commit_comment,430,nilearn,nilearn,AlexandreAbraham,2015-06-08 11:56:18,"I was mistaken. There is a function available outside of the object but it is less optimized as it computes the whole distance matrix, not just for the seeds.
",3114db43146906d7c09df5c98b8a1b212ff9866d,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
215,pull_request_commit_comment,430,nilearn,nilearn,lesteve,2015-06-08 12:10:52,"Sorry to be a pain but you might as well use the link to the issue for more context:
https://github.com/scikit-learn/scikit-learn/issues/4072.
`https://github.com/scikit-learn/scikit-learn/issues/4072` is the full URL (can't figure out how to prevent github to shorten the URL)
",baaadae478c2cbac5320511d1d73062e7969639f,"(25, 45, u'nilearn/input_data/nifti_spheres_masker.py')"
39,issue_comment,430,nilearn,nilearn,bcipolli,2015-06-08 16:02:30,"Good work @AlexandreAbraham ! :+1: 
",nan,nan
40,issue_comment,430,nilearn,nilearn,banilo,2015-06-08 16:03:21,"+1 +1 +1

2015-06-08 18:02 GMT+02:00 Ben Cipollini notifications@github.com:

> Good work @AlexandreAbraham https://github.com/AlexandreAbraham ! [image:
> :+1:]
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/430#issuecomment-110053581.

## 

Viele Grüße,
Danilo
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
