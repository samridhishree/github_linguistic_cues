Unnamed: 0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
3,issue_comment,930,nilearn,nilearn,AlexandreAbraham,2016-01-07 09:22:54,"What do you mean?
",nan,nan
5,issue_comment,930,nilearn,nilearn,GaelVaroquaux,2016-01-07 19:21:54,"Return in-memory labels, loaded from the CSV file. The code to load
labels in Harvard Oxford and MSDL are very different.
",nan,nan
4,issue_comment,930,nilearn,nilearn,AlexandreAbraham,2016-01-12 12:04:22,"OK, you mean that labels are not loaded in MSDL. They are loaded in Harvard Oxford.
",nan,nan
7,issue_comment,930,nilearn,nilearn,banilo,2016-01-12 22:02:07,"Perhaps in form of an additional option in `NiftiLabelsMasker` and `NiftiMapsMasker` ?
",nan,nan
6,issue_comment,930,nilearn,nilearn,banilo,2016-01-17 23:46:23,"+1 for unifying label meta-data!
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
4,issue_comment,994,nilearn,nilearn,AlexandreAbraham,2016-02-18 11:14:01,"To, the simplest option would be to add a `shelve` parameter to `masker._cache` which would prevent you from ugly stuff like passing `self` as an argument (which is weird... If you need to pass self as an argument, just create a method).
",nan,nan
5,issue_comment,994,nilearn,nilearn,arthurmensch,2016-02-18 14:02:09,"Address issue #203. I guess we should first merge this and then trickle change to CanICA -- with auto setting for `len(imgs) > 50`. Can you clarify where do you want to put shelving on `compute_multi_epi_masks` / `compute_multi_epi_masks` ? By shelving the results of `compute_epi_masks` I reckon ?

Also I think that the `shelve` param is useless for NiftiMasker, but we have to expose it if we do not want to copy `transform_single_imgs` in `MultiNiftiMasker`
",nan,nan
6,issue_comment,994,nilearn,nilearn,arthurmensch,2016-02-18 15:15:34,"Ready for review ping @AlexandreAbraham 
",nan,nan
26,pull_request_commit_comment,994,nilearn,nilearn,arthurmensch,2016-02-18 15:18:25,"Actually there is an end of line in the file, Github bug ?
",f603053bf611b5dc82b7fc59ae5f0c021c901601,"(None, '', u'nilearn/input_data/tests/test_multi_nifti_masker.py')"
27,pull_request_commit_comment,994,nilearn,nilearn,AlexandreAbraham,2016-02-19 09:00:35,"nilearn has its own boolean type, the boolearn :P
",f603053bf611b5dc82b7fc59ae5f0c021c901601,"(None, '', u'nilearn/_utils/cache_mixin.py')"
28,pull_request_commit_comment,994,nilearn,nilearn,AlexandreAbraham,2016-02-19 09:01:28,"booleaaaaaaarn
",f603053bf611b5dc82b7fc59ae5f0c021c901601,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
29,pull_request_commit_comment,994,nilearn,nilearn,AlexandreAbraham,2016-02-19 09:01:49,"I'm afraid that this doc is highly not understand by non technical people.
",f603053bf611b5dc82b7fc59ae5f0c021c901601,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
30,pull_request_commit_comment,994,nilearn,nilearn,AlexandreAbraham,2016-02-19 09:02:57,"can you put `compute_mask, ignore=[...])` on  a single line for prettier code?
",f603053bf611b5dc82b7fc59ae5f0c021c901601,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
7,issue_comment,994,nilearn,nilearn,AlexandreAbraham,2016-02-19 09:05:41,"I am +1 given some small comments. The next step will be an integration of that in CanICA and the addition of an example.
",nan,nan
8,issue_comment,994,nilearn,nilearn,arthurmensch,2016-02-19 13:40:13,"What should we use as an example ? Simple plotting ? The brilliant `mask_and_reduce` based structure that I came up with for the decomposition module does not make it so simple to integrate the change into CanICA...
",nan,nan
9,issue_comment,994,nilearn,nilearn,GaelVaroquaux,2016-02-19 13:42:37,"> What should we use as an example ? Simple plotting function ?

No need for example. Just integration in CanICA and DictLearning.
",nan,nan
10,issue_comment,994,nilearn,nilearn,arthurmensch,2016-02-19 13:43:59,"Unless I am allowed to rewrite the pipeline as:
- mask and shelve all data in parallel
- reduce all shelved data in parallel

Instead of mask and reduce all data in parallel without shelving (which is what we currently do)
",nan,nan
11,issue_comment,994,nilearn,nilearn,AlexandreAbraham,2016-02-19 13:46:09,"Yeah, now that you point it out, it is meaningless in CanICA.
",nan,nan
12,issue_comment,994,nilearn,nilearn,arthurmensch,2016-02-19 13:48:16,"Unless we allow dimension reduction within `MultiNiftiMasker`, which is something that I advocated for once upon a time but may not be such a good idea.

On the other hand, the rewriting of the pipeline does make sense to me as it would simplifies the code quite much -- but it would be a large PR with no improvement for the end user.
",nan,nan
13,issue_comment,994,nilearn,nilearn,GaelVaroquaux,2016-02-19 13:49:29,"> Yeah, now that you point it out, it is meaningless in CanICA.

Yes, indeed, because the reduction does not happen in the NiftiMasker,
and that's the operation done in Parallel. So that PR is actually only
useful for our internal needs, isn't it?
",nan,nan
14,issue_comment,994,nilearn,nilearn,arthurmensch,2016-02-19 13:49:59,"We also need to disable this feature for `sklearn <= 0.14.1`
",nan,nan
15,issue_comment,994,nilearn,nilearn,arthurmensch,2016-02-19 13:51:03,"It is. It would be useful for MSDL if it ever comes to nilearn, and for online (sparse) PCA if it ever comes to nilearn. Wonder if it would not be useful in decoding as well @dohmatob ?
",nan,nan
16,issue_comment,994,nilearn,nilearn,GaelVaroquaux,2016-02-19 13:54:39,"> It is. It would be useful for MSDL if it ever comes to nilearn, and for online
> (sparse) PCA if it ever comes to nilearn.

Indeed. The problem is that those are still pending.

> Wonder if it would not be useful in decoding as well @dohmatob ?

Maybe. But I am not sure that it would be the case in the SpaceNet
object.
",nan,nan
17,issue_comment,994,nilearn,nilearn,arthurmensch,2016-02-19 13:57:30,"I might be wrong, but I don't think `MultiNiftiMasker` if actually used outside of `decomposition` module isn't it ?
",nan,nan
18,issue_comment,994,nilearn,nilearn,AlexandreAbraham,2016-02-19 14:16:27,"It's actually not really used in decomposition, we just use the fit to compute the mask.
",nan,nan
19,issue_comment,994,nilearn,nilearn,arthurmensch,2016-02-19 14:24:05,"Should I have a shot at decomposition refactorisation or should we just advertise in a small example ? Btw there are estimators in the code (SearchLight, SpaceNet), that uses a NiftiMasker on list of images, while they could be parallelized.
",nan,nan
20,issue_comment,994,nilearn,nilearn,GaelVaroquaux,2016-02-19 14:28:22,"> Should I have a shot at decomposition refactorisation or should we just
> advertise in a small example ?

No refactor. An example in the advanced section would be good. Not sure
about what, though :$

> Btw there are estimators in the code (SearchLight, SpaceNet), that uses
> a NiftiMasker on list of images, while they could be parallelized.

Good point. Could you add an issue where you expose the point.
",nan,nan
21,issue_comment,994,nilearn,nilearn,AlexandreAbraham,2016-02-19 14:28:28,"SearchLight does not iterate on a list of images.
",nan,nan
22,issue_comment,994,nilearn,nilearn,arthurmensch,2016-02-19 14:29:18,"Just added an issue on SpaceNet: it actually fails on list of images.
",nan,nan
23,issue_comment,994,nilearn,nilearn,AlexandreAbraham,2016-05-26 14:32:59,"@arthurmensch, I'm working on integrating MSDL in nilearn and I thinking that providing shelving would really be a big plus. I think that, as suggested by Gael, we should make this option public for the moment and just use it internally. Basically, a few modifications are needed in your PR. Do you want to take care of it or do you want me to take over the PR?
",nan,nan
24,issue_comment,994,nilearn,nilearn,arthurmensch,2016-05-26 14:43:43,"I'll take it!
Le 26 mai 2016 16:33, ""Alexandre Abraham"" notifications@github.com a
écrit :

> @arthurmensch https://github.com/arthurmensch, I'm working on
> integrating MSDL in nilearn and I thinking that providing shelving would
> really be a big plus. I think that, as suggested by Gael, we should make
> this option public for the moment and just use it internally. Basically, a
> few modifications are needed in your PR. Do you want to take care of it or
> do you want me to take over the PR?
> 
> —
> You are receiving this because you were mentioned.
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/994#issuecomment-221888488
",nan,nan
25,issue_comment,994,nilearn,nilearn,AlexandreAbraham,2016-05-26 14:51:36,"Sorry, I meant ""not public"". So, I think that you just need to rebase and then removing the option from MultiNiftiMasker constructor. Maybe we should create a method `_enable shelving` or so? I leave that to you :innocent: 
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
3,issue_comment,997,nilearn,nilearn,AlexandreAbraham,2016-02-19 14:40:30,"Can you be more specific than `fails` ?
",nan,nan
4,issue_comment,997,nilearn,nilearn,arthurmensch,2016-02-19 15:00:13,"Actually it does not, this is not the right bug, closing
",nan,nan
5,issue_comment,997,nilearn,nilearn,dohmatob,2016-02-19 16:30:15,"OK, let us know if your troubles persist.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
5,issue_comment,996,nilearn,nilearn,GaelVaroquaux,2016-02-19 11:53:57,"We would like the code to be really interchangeable between Harvard-Oxford and MSDL.

If you look at how Harvard-Oxford is used (for instance in the following example:
http://nilearn.github.io/auto_examples/03_connectivity/plot_signal_extraction.html ) we need the 'labels' field of the data bunch to be an array of labels.

Hence, I suggest putting in this field of the bunch, the ""labels"" field of the current structure, and a adding two other fields; one ""regions_coords"" that would be the current ""labels[['x', 'y', 'z']].tolist()"", and one ""network_name"" that would contain the ""networks"" field of the CSV.

As a results, the code should look much more similar for Harvard-Oxford and for MSDL.
",nan,nan
6,issue_comment,996,nilearn,nilearn,GaelVaroquaux,2016-02-19 11:56:01,"We also need to make fetch_atlas_aal consistent: the field ""regions"" should be renamed to ""maps"", and we should rethink how the names are given. The goal would be to make AAL and Harvard-Oxford completely interchangeable in the examples:

http://nilearn.github.io/modules/generated/nilearn.datasets.fetch_atlas_aal.html#nilearn.datasets.fetch_atlas_aal
",nan,nan
7,issue_comment,996,nilearn,nilearn,GaelVaroquaux,2016-02-22 12:53:42,"You have what I believe is a non-spurious failure on numpy 1.6:
https://travis-ci.org/nilearn/nilearn/jobs/110814412
",nan,nan
9,pull_request_commit_comment,996,nilearn,nilearn,GaelVaroquaux,2016-02-22 12:56:22,"I would like these 2 assignments split in 2 different lines: it makes it easier to follow for the beginner.
",0ee801d61539161cedd186188a5249003cbd5bb6,"(None, '', u'examples/03_connectivity/plot_probabilistic_atlas_extraction.py')"
10,pull_request_commit_comment,996,nilearn,nilearn,GaelVaroquaux,2016-02-22 13:01:21,"This is the line that's failing in Python 2.6.
",0ee801d61539161cedd186188a5249003cbd5bb6,"(None, '', u'nilearn/datasets/tests/test_atlas.py')"
11,pull_request_commit_comment,996,nilearn,nilearn,KamalakerDadi,2016-02-22 15:33:56,"I am not sure whether we really care about Python 2.6 failure here. @AlexandreAbraham any ideas ?
",0ee801d61539161cedd186188a5249003cbd5bb6,"(None, '', u'nilearn/datasets/tests/test_atlas.py')"
12,pull_request_commit_comment,996,nilearn,nilearn,AlexandreAbraham,2016-02-22 15:37:45,"We are officially supporting Python 2.6 so the test suite must run in 2.6. It should not be that hard to fix, why not using `np.savetxt` ?
",0ee801d61539161cedd186188a5249003cbd5bb6,"(None, '', u'nilearn/datasets/tests/test_atlas.py')"
13,pull_request_commit_comment,996,nilearn,nilearn,GaelVaroquaux,2016-02-22 15:44:16,"> We are officially supporting Python 2.6 so the test suite must run in 2.6. It
> should not be that hard to fix, why not using np.savetxt ?

If np.savetxt does the trick, then let's use it.

However, I am really considering droping Py2.6
",0ee801d61539161cedd186188a5249003cbd5bb6,"(None, '', u'nilearn/datasets/tests/test_atlas.py')"
8,issue_comment,996,nilearn,nilearn,KamalakerDadi,2016-02-25 07:44:59,"Can I also have reviews on this ?
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
5,issue_comment,991,nilearn,nilearn,GaelVaroquaux,2016-02-17 10:23:36,"Another option would be to have the function that we are benching do it's operations three times. Indeed, I suspect that the reason that we are witnessing zero memory usage is that the function is too fast and memory is cleared before. Thus the strategy of running the function 3 times inside the memory_usage might be more reliable.
",nan,nan
6,issue_comment,991,nilearn,nilearn,aabadie,2016-02-17 10:37:58,"> Thus the strategy of running the function 3 times inside the memory_usage might be more reliable.

Yes, but this would require to apply the change upstream.
",nan,nan
7,issue_comment,991,nilearn,nilearn,GaelVaroquaux,2016-02-17 10:45:49,"> Yes, but this would require to apply the change upstream.

Or just to do:

<pre>
def func_3_times(args, **kwargs):
   for _ in range(3):
        func(args, **kwargs)
</pre>

and to bench func_3_times instead of func. No?
",nan,nan
8,issue_comment,991,nilearn,nilearn,aabadie,2016-02-17 11:00:56,"> Or just to do:
> 
> <pre>
> def func_3_times(args, **kwargs):
>    for _ in range(3):
>         func(args, **kwargs)
> </pre>
> 
> and to bench func_3_times instead of func. No?

Nice suggestion which makes sense and works as well. I pushed a commit with it.
",nan,nan
9,issue_comment,991,nilearn,nilearn,aabadie,2016-02-17 13:05:38,"@GaelVaroquaux, are you fine with this PR ?
",nan,nan
10,issue_comment,991,nilearn,nilearn,GaelVaroquaux,2016-02-17 13:07:54,"LGTM. +1 for merge
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
3,issue_comment,990,nilearn,nilearn,GaelVaroquaux,2016-02-17 09:37:17,"Agreed on the general idea. I think that @AlexandreAbraham uses this in
his MSDL code.

Wether it should be a new method or a class parameter, I don't know. Any
opinions?

G
",nan,nan
4,issue_comment,990,nilearn,nilearn,bthirion,2016-02-17 19:00:24,"As suggested by Arthur, a class parameter sounds more natural imho.
",nan,nan
5,issue_comment,990,nilearn,nilearn,AlexandreAbraham,2016-02-18 09:50:47,"> Agreed on the general idea. I think that @AlexandreAbraham uses this in his MSDL code.

Yes I do, I also already have a branch that adds it to the maskers.

Actually, the issue already exists #203 and some code to fix it also already exists #278. The problem is that if we enable it, we have to propagate everywhere. Meaning `compute_multi_epi_mask` should use it, `CanICA` should use it, etc.

+1 for the class parameter.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
3,issue_comment,993,nilearn,nilearn,AlexandreAbraham,2016-02-18 09:19:29,"Fixed in 2d806ec1507b4f7b5cd742aedb71d8467b58c572

Can you pull master and check?
",nan,nan
4,issue_comment,993,nilearn,nilearn,salma1601,2016-02-18 09:40:27,"Yes it's OK now, thanks !
",nan,nan
5,issue_comment,993,nilearn,nilearn,AlexandreAbraham,2016-02-18 09:44:53,"Cool. Thanks for reporting!
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
5,issue_comment,992,nilearn,nilearn,KamalakerDadi,2016-02-17 18:20:20,"What is the idea of this PR ? 

> This PR address this problem by downloading individual files for COBRE dataset.

But, if I want to download 146 subjects ? Anyway it will take 1 hour right ?
",nan,nan
6,issue_comment,992,nilearn,nilearn,AlexandreAbraham,2016-02-17 23:10:36,"The goal is to be able to work with less than 146 subjects. I think that this is important for brainhack where the internet access may not be stable.
",nan,nan
12,pull_request_commit_comment,992,nilearn,nilearn,KamalakerDadi,2016-02-18 20:50:42,"Any reason why you convert 'sz' `int` to `bool` ? and 'age' `int` to `float` ?

May be we should return as it is ? I assume csv file is prepared according to their needs.

Also, in the array dtype of 'sz' is not recognized '?'
",c658b11ba6f83fc3d1b5b0d87eb73c75de05be0c,"(None, '', u'nilearn/datasets/func.py')"
13,pull_request_commit_comment,992,nilearn,nilearn,KamalakerDadi,2016-02-18 21:08:00,"repeated `ids_cont`
",c658b11ba6f83fc3d1b5b0d87eb73c75de05be0c,"(None, '', u'nilearn/datasets/tests/test_func.py')"
7,issue_comment,992,nilearn,nilearn,KamalakerDadi,2016-02-18 21:23:59,"LGTM
",nan,nan
8,issue_comment,992,nilearn,nilearn,KamalakerDadi,2016-02-18 21:27:18,"Are you sure each individual link will not fail at some point ? I am not much aware of practical situations in these cases.
",nan,nan
14,pull_request_commit_comment,992,nilearn,nilearn,AlexandreAbraham,2016-02-18 22:46:08,"I think it is good practice to put categorical variables (`sz` and `sex`) as integers and continuous variables (`age` and `fd`) as floats. The bool was an error. Age is not really converted, numpy loads everything as float anyway.
",c658b11ba6f83fc3d1b5b0d87eb73c75de05be0c,"(None, '', u'nilearn/datasets/func.py')"
15,pull_request_commit_comment,992,nilearn,nilearn,AlexandreAbraham,2016-02-18 22:46:18,"Fixed.
",c658b11ba6f83fc3d1b5b0d87eb73c75de05be0c,"(None, '', u'nilearn/datasets/tests/test_func.py')"
9,issue_comment,992,nilearn,nilearn,AlexandreAbraham,2016-02-18 22:49:00,"> Are you sure each individual link will not fail at some point ? I am not much aware of practical situations in these cases.

We have no guarantee since we do not host the data. But `figshare` has an excellent API for managing datasets so I think that we should take advantage of it. The code to download COBRE (ie downloading the json and then each file individually) can be easily adapted to any other dataset hosted on figshare.

An option could be to rely on the big file if individual download fails but the nilearn code is not ready for it.
",nan,nan
10,issue_comment,992,nilearn,nilearn,bthirion,2016-02-18 23:00:27,"LGTM too.
",nan,nan
16,pull_request_commit_comment,992,nilearn,nilearn,GaelVaroquaux,2016-02-19 10:35:41,"> Any reason why you convert 'sz' int to bool ? and 'age' int to float ?
> 
> May be we should return as it is ? I assume csv file is prepared according to
> their needs.

I am not sure: our goal is to make examples simple. To load CSVs, we
should really point users to pandas (we need to add notes about this here
and there in the documentation).
",c658b11ba6f83fc3d1b5b0d87eb73c75de05be0c,"(None, '', u'nilearn/datasets/func.py')"
11,issue_comment,992,nilearn,nilearn,GaelVaroquaux,2016-02-19 10:37:10,"LGTM. Merging, thank you very much.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
3,issue_comment,999,nilearn,nilearn,AlexandreAbraham,2016-02-19 14:46:42,"This is surprising. These examples are run routinely in CircleCI without problems.
",nan,nan
4,issue_comment,999,nilearn,nilearn,arthurmensch,2016-02-19 14:46:58,"With Python 3 ? No chance given the error...
",nan,nan
5,issue_comment,999,nilearn,nilearn,AlexandreAbraham,2016-02-19 14:51:07,"OK, CircleCI runs on Python 2. Oooooooold!
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
3,issue_comment,998,nilearn,nilearn,arthurmensch,2016-02-19 14:44:32,"for some reason `self.masker_.fit_transform(X) == []` in the estimator
",nan,nan
5,issue_comment,998,nilearn,nilearn,lesteve,2016-03-02 15:01:35,"Wild guess : a lot of things are iterators rather than lists in Python 3, e.g. zip, map, dict.keys. This could be the case that an iterator is used and looped over once. When you iterate over it again it is empty so you get 0 samples.
",nan,nan
6,issue_comment,998,nilearn,nilearn,lesteve,2016-03-02 16:35:32,"Yep I reached the exact same conclusion. Good duplication of effort ;-).

As mentioned in another issue, our downloaders in Python 3 loads all the string data as bytes, which leads to this kind of nasty surprises. AFAICR I could not convince one of the different numpy ways of reading a csv to output strings but maybe I didn't try hard enough at the time.
",nan,nan
4,issue_comment,998,nilearn,nilearn,Naereen,2016-03-19 18:10:31,"Thanks for this check.

The live version of the auto example has not been updated yet, though.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
9,pull_request_commit_comment,989,nilearn,nilearn,aabadie,2016-02-14 15:42:57,"This line and the one above don't work on python 3, you should use `decode()` in `i` because it's a byte string :

``` python
func_filenames = [('fmri_' + i.decode().strip(' ""\'') 
```
",cc4dd733a9a7ea24f7004f2f1228abcdf338f5c2,"(None, '', u'nilearn/datasets/func.py')"
10,pull_request_commit_comment,989,nilearn,nilearn,KamalakerDadi,2016-02-14 15:59:19,"Thanks. I thought its `encode()`. Is it not ?
",cc4dd733a9a7ea24f7004f2f1228abcdf338f5c2,"(None, '', u'nilearn/datasets/func.py')"
11,pull_request_commit_comment,989,nilearn,nilearn,KamalakerDadi,2016-02-14 16:00:42,"Could you point me any documentation to find this difference ? If you have any ?
",cc4dd733a9a7ea24f7004f2f1228abcdf338f5c2,"(None, '', u'nilearn/datasets/func.py')"
12,pull_request_commit_comment,989,nilearn,nilearn,aabadie,2016-02-14 16:10:49,"I'm not sure it will work work with `encode()`. `np.recfromcsv` returns an array with `numpy._bytes`. Those only have a `decode()` method.
You can see in the code another place with the same trick : https://github.com/nilearn/nilearn/blob/master/nilearn/datasets/func.py#L1155
where `pheno` contains the result of `np.recfromcsv`.
",cc4dd733a9a7ea24f7004f2f1228abcdf338f5c2,"(None, '', u'nilearn/datasets/func.py')"
5,issue_comment,989,nilearn,nilearn,GaelVaroquaux,2016-02-14 17:06:01,"Maybe the function should be called ""fetch_cobre"", and we'll later add an
option to decide between different preprocessing (niak or otherwise).
",nan,nan
6,issue_comment,989,nilearn,nilearn,KamalakerDadi,2016-02-16 10:10:23,"Can somebody review this PR ? As we need this for Brain Hack. Thanks
",nan,nan
7,issue_comment,989,nilearn,nilearn,aabadie,2016-02-16 10:48:25,"LGTM +1, The failing test on travis is not related to your PR (#986 was entered for this). Once CircleCI is done, we can merge this.
",nan,nan
13,pull_request_commit_comment,989,nilearn,nilearn,AlexandreAbraham,2016-02-16 13:16:47,"I thought that we had a version without scrubbing?
",cc4dd733a9a7ea24f7004f2f1228abcdf338f5c2,"(72, '', u'nilearn/datasets/description/cobre.rst')"
14,pull_request_commit_comment,989,nilearn,nilearn,AlexandreAbraham,2016-02-16 13:18:21,"The individual files are available, why do we rely on an aggregation of them?
",cc4dd733a9a7ea24f7004f2f1228abcdf338f5c2,"(None, '', u'nilearn/datasets/func.py')"
15,pull_request_commit_comment,989,nilearn,nilearn,AlexandreAbraham,2016-02-16 13:19:03,"Isn't that a bit dangerous for reproducibility?
",cc4dd733a9a7ea24f7004f2f1228abcdf338f5c2,"(None, '', u'nilearn/datasets/func.py')"
16,pull_request_commit_comment,989,nilearn,nilearn,AlexandreAbraham,2016-02-16 13:20:03,"`mat` files cannot be processed by nilearn. Should we load them or add some code to process them automatically (can be another PR).
",cc4dd733a9a7ea24f7004f2f1228abcdf338f5c2,"(97, '', u'nilearn/datasets/func.py')"
17,pull_request_commit_comment,989,nilearn,nilearn,KamalakerDadi,2016-02-16 13:27:25,"Yes, but as Pierre said in the issue that it will take time and we decided to proceed with this version. 
",cc4dd733a9a7ea24f7004f2f1228abcdf338f5c2,"(72, '', u'nilearn/datasets/description/cobre.rst')"
18,pull_request_commit_comment,989,nilearn,nilearn,KamalakerDadi,2016-02-16 13:28:07,"I didn't get your comment. I thought you understand the situation to download each individual file.
",cc4dd733a9a7ea24f7004f2f1228abcdf338f5c2,"(None, '', u'nilearn/datasets/func.py')"
19,pull_request_commit_comment,989,nilearn,nilearn,KamalakerDadi,2016-02-16 13:29:50,"which one `random_state=0` ?
",cc4dd733a9a7ea24f7004f2f1228abcdf338f5c2,"(None, '', u'nilearn/datasets/func.py')"
20,pull_request_commit_comment,989,nilearn,nilearn,AlexandreAbraham,2016-02-16 13:44:46,"OK!
",cc4dd733a9a7ea24f7004f2f1228abcdf338f5c2,"(72, '', u'nilearn/datasets/description/cobre.rst')"
21,pull_request_commit_comment,989,nilearn,nilearn,AlexandreAbraham,2016-02-16 13:46:35,"Well, Gaël said in the issue that a 1 hour download was too much. Plus it does not make sense to return 10 subjects by default if you force downloading the whole dataset. But nevermind, let's move on.
",cc4dd733a9a7ea24f7004f2f1228abcdf338f5c2,"(None, '', u'nilearn/datasets/func.py')"
22,pull_request_commit_comment,989,nilearn,nilearn,AlexandreAbraham,2016-02-16 13:48:02,"`random_state=0` may give different results depending on the machine used. If subjects are splitted controls/schizophrenic, maybe we should just take the first `n_subjects/2` controls and the first `n_subject/2` schizos?
",cc4dd733a9a7ea24f7004f2f1228abcdf338f5c2,"(None, '', u'nilearn/datasets/func.py')"
23,pull_request_commit_comment,989,nilearn,nilearn,KamalakerDadi,2016-02-16 17:00:40,"> Should we load them or add some code to process them automatically (can be another PR).

I will keep it open to matlab users for example. I don't think we need to load them.
",cc4dd733a9a7ea24f7004f2f1228abcdf338f5c2,"(97, '', u'nilearn/datasets/func.py')"
24,pull_request_commit_comment,989,nilearn,nilearn,KamalakerDadi,2016-02-17 06:38:27,"Done. Can you see it is Ok ?
",cc4dd733a9a7ea24f7004f2f1228abcdf338f5c2,"(None, '', u'nilearn/datasets/func.py')"
8,issue_comment,989,nilearn,nilearn,GaelVaroquaux,2016-02-17 06:41:32,"LGTM. :+1: for merge
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
5,issue_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-05 17:17:35,"> If it takes niimgs as input should it also return niimgs ?

Yes. We are trying to have user-facing functions that are niimgs in,
niimgs out.
",nan,nan
6,issue_comment,982,nilearn,nilearn,aabadie,2016-02-05 17:31:30,"> We are trying to have user-facing functions that are niimgs in, niimgs out.

Ok, that's the way it works.

The tests I added are failing, I have to investigate on this.
",nan,nan
11,pull_request_commit_comment,982,nilearn,nilearn,AlexandreAbraham,2016-02-08 12:36:44,"This sould be `list_data` and you should leave `imgs` untouched.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
12,pull_request_commit_comment,982,nilearn,nilearn,aabadie,2016-02-08 16:37:47,"Indeed, I changed this.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
7,issue_comment,982,nilearn,nilearn,aabadie,2016-02-08 16:38:23,"Changing the title to MRG, as I think it's in a good shape now.
",nan,nan
13,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-09 11:08:27,"Can you detail the ""**imgs"" argument, and well as add a ""returns"" description.

It would also be good to have an ""example"" section, that shows couple of example of usage (see the docstring of any numpy function).

You can have a look at https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt#sections and 
http://sphinxcontrib-napoleon.readthedocs.org/en/latest/example_numpy.html
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
14,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-09 11:09:02,"Please use full variable names.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
15,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-09 11:09:25,"You need to use ""_safe_get_data"" here.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
16,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-09 11:09:51,"Strange name starting by ""list"" for an object that is a dict.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
17,pull_request_commit_comment,982,nilearn,nilearn,aabadie,2016-02-09 16:45:46,"Comment adressed, along with the others below.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
18,pull_request_commit_comment,982,nilearn,nilearn,KamalakerDadi,2016-02-09 19:32:38,"You may have missed adding documentation about ""Returns"" saying what this function returns.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
19,pull_request_commit_comment,982,nilearn,nilearn,KamalakerDadi,2016-02-09 19:33:41,"Can you be more explicit saying something like, Possible arguments are ............. ?
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
20,pull_request_commit_comment,982,nilearn,nilearn,KamalakerDadi,2016-02-09 19:35:47,"General comment: Any formula in string works ? such as ""sum"" ""div"" or It should be in numpy context ?
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
21,pull_request_commit_comment,982,nilearn,nilearn,KamalakerDadi,2016-02-09 19:38:20,"Will it be possible an example in 04_manipulating_images section ?
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
22,pull_request_commit_comment,982,nilearn,nilearn,KamalakerDadi,2016-02-09 19:38:52,"May be capital ""N"" to nifti ?
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
23,pull_request_commit_comment,982,nilearn,nilearn,bthirion,2016-02-09 22:05:54,"+1
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
24,pull_request_commit_comment,982,nilearn,nilearn,aabadie,2016-02-10 09:15:54,"> General comment: Any formula in string works ? such as ""sum"" ""div"" or It should be in numpy context ?

For me moment, the function assumes the inputs are Nifti images, thus they contains numpy arrays. So normally, the formula should contains any function that can be applied on numpy arrays.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
25,pull_request_commit_comment,982,nilearn,nilearn,aabadie,2016-02-10 12:45:40,"Done
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
26,pull_request_commit_comment,982,nilearn,nilearn,aabadie,2016-02-10 12:46:24,"Added the 'Returns' section.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
27,pull_request_commit_comment,982,nilearn,nilearn,aabadie,2016-02-10 12:47:26,"I added a more explicit text saying that the images should be Nifti images.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
28,pull_request_commit_comment,982,nilearn,nilearn,aabadie,2016-02-10 12:50:42,"> Will it be possible an example in 04_manipulating_images section ?

It is possible. I'll add something in a separate file. Are you ok with `apply_math_operators.py` ? Should I just copy the example I wrote in the doctring to this file ?
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
29,pull_request_commit_comment,982,nilearn,nilearn,KamalakerDadi,2016-02-10 13:09:13,"> Are you ok with apply_math_operators.py ?

example should start with `plot_....`

> Should I just copy the example I wrote in the doctring to this file ?

Something simple and different example which shows how to use this function on real Nifti images. So that user gets easy going taking this function.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
30,pull_request_commit_comment,982,nilearn,nilearn,aabadie,2016-02-10 16:19:23,"> example should start with `plot_....`

So I guess it should include some plotting code.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
31,pull_request_commit_comment,982,nilearn,nilearn,aabadie,2016-02-11 12:35:33,"> Will it be possible an example in 04_manipulating_images section ?

I added 2 examples but I'm not super happy with them. Maybe someone has better ideas. @AlexandreAbraham, @KamalakerDadi, @bthirion ?
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
32,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-11 14:22:36,"That's a great example!
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'examples/04_manipulating_images/plot_compare_mean_image.py')"
33,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-11 14:24:08,"Maybe ""Negate image""?
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'examples/04_manipulating_images/plot_multiply_image.py')"
34,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-11 14:25:08,"I don't think that you really need the intermediate variable ""formula"". It just makes the example harder to read.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'examples/04_manipulating_images/plot_multiply_image.py')"
35,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-11 14:25:49,"I am not sure that you really need the intermediate variable ""formula"". It just makes the example harder to read.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'examples/04_manipulating_images/plot_compare_mean_image.py')"
36,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-11 14:25:54,"I think that you can just do ""-img"", no?
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'examples/04_manipulating_images/plot_multiply_image.py')"
37,pull_request_commit_comment,982,nilearn,nilearn,KamalakerDadi,2016-02-11 14:30:16,"Minor comment: Could you just use heading notations like other examples ?
starting with ############################# gives good consistency with other examples we have.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'examples/04_manipulating_images/plot_multiply_image.py')"
38,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-11 14:30:37,"I think that it would speak more to the user if we used something else than the AAL atlas (why would we want to negate the atlas). How about a simple statistical map, as in
http://nilearn.github.io/auto_examples/01_plotting/plot_dim_plotting.html#sphx-glr-auto-examples-01-plotting-plot-dim-plotting-py
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'examples/04_manipulating_images/plot_multiply_image.py')"
39,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-11 14:31:06,"I would plot the original image, and the negated image, just to drive the point.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'examples/04_manipulating_images/plot_multiply_image.py')"
40,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-11 14:57:33,"That example is a bit too long for a docstring. How about using 

<pre>
from nilearn import datasets
anatomical_image = datasets.load_mni152_template()
log_img = math_img(""np.log(img1)"", img1=anatomical_image)
</pre>


Yes, taking the log is meaningless, but it's just to illustrate the syntax.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
41,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-11 14:57:55,"I would add ""It can use numpy, imported as np""
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
42,pull_request_commit_comment,982,nilearn,nilearn,aabadie,2016-02-11 16:26:19,"I addressed all other comments except this one. I recognize that computing the negate of an atlas is somewhat weird but is it meaningful to do the same with a stat map ?
I could also add another example with a more realistic use case.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'examples/04_manipulating_images/plot_multiply_image.py')"
43,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-11 16:28:46,"> I addressed all other comments except this one. I recognize that computing the
> negate of an atlas is somewhat weird but is it meaningful to do the same with a
> stat map ?

Yes, you computed a ""Left - Right"" contrast, but in the paper, you want
to show a ""Right - Left"" contrast, to be consistent with the narration.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'examples/04_manipulating_images/plot_multiply_image.py')"
8,issue_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-11 16:48:06,"@aabadie : two things I forgot:
- You need to add the function to the relevant part of the module reference (doc/modules/reference.rst)
- Don't forget to add it to the whats_new.rst, and use the "":func:""... syntax, so that it gets linked to the reference documentation.
",nan,nan
44,pull_request_commit_comment,982,nilearn,nilearn,aabadie,2016-02-11 16:52:39,"Got it. I pushed a couple of commits that should hopefully improve things.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'examples/04_manipulating_images/plot_multiply_image.py')"
9,issue_comment,982,nilearn,nilearn,aabadie,2016-02-11 16:57:50,"> You need to add the function to the relevant part of the module reference (doc/modules/reference.rst)
>     Don't forget to add it to the whats_new.rst, and use the "":func:""... syntax, so that it gets linked to the reference documentation.

@GaelVaroquaux, I changed both. I'm just wondering if my update in whats_new.rst is fine.
",nan,nan
45,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-11 17:01:32,"You are going to have an rst error: the indentation here is incorrect (the line after the ""-"" should start below the ""M"" of ""Mathematical"")
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'doc/whats_new.rst')"
46,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-11 17:02:27,"Say in the docstring that the goal of this example is to demonstrate the use of ""math_img"". You should also mention that ""mean_img"" could have been used to compute the means.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'examples/04_manipulating_images/plot_compare_mean_image.py')"
47,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-11 17:02:52,"I'd call this ""Negating an image with math_img""
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'examples/04_manipulating_images/plot_negate_image.py')"
48,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-11 17:03:43,"Also say that the purpose of this example is to illustrate math_img.

It's important to always guide the reader so that he or she knows why he is reading an bit of code.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'examples/04_manipulating_images/plot_negate_image.py')"
49,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-11 17:04:16,"You should change the ""title"" to ""Original image""
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'examples/04_manipulating_images/plot_negate_image.py')"
50,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-11 17:04:27,"You should change the ""title"" to ""Negated image""
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'examples/04_manipulating_images/plot_negate_image.py')"
51,pull_request_commit_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-11 17:05:09,"You're missing a "">"" at the beginning of the code line.
",81f15406191e390066cd62fc5f247464a1fa9ac2,"(None, '', u'nilearn/image/image.py')"
10,issue_comment,982,nilearn,nilearn,GaelVaroquaux,2016-02-12 21:31:29,"There are a couple of things that are not perfect, but in general, it is awesome, so I am merging this, and fixing the rest in master.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
5,issue_comment,981,nilearn,nilearn,bthirion,2016-02-07 22:36:44,"Looks good. One small point is: what is the range of values for the dim argument. I have the impression that this is [-1, 1], but I don't see it in dosctrings. 
",nan,nan
6,issue_comment,981,nilearn,nilearn,GaelVaroquaux,2016-02-11 16:53:24,"@bthirion : comment addressed. Thanks!

Everybody: can I haz reviews / merge?
",nan,nan
7,issue_comment,981,nilearn,nilearn,KamalakerDadi,2016-02-11 18:24:24,"LGTM
",nan,nan
10,pull_request_commit_comment,981,nilearn,nilearn,lesteve,2016-02-11 18:35:08,"at -> a
",63f2e5f288d87a221a28dac39d715be513086d54,"(14, '', u'nilearn/plotting/img_plotting.py')"
11,pull_request_commit_comment,981,nilearn,nilearn,lesteve,2016-02-11 18:35:55,"You are missing the ""pronounced effect"" line.
",63f2e5f288d87a221a28dac39d715be513086d54,"(28, '', u'nilearn/plotting/img_plotting.py')"
12,pull_request_commit_comment,981,nilearn,nilearn,lesteve,2016-02-11 18:36:18,"at -> a
",63f2e5f288d87a221a28dac39d715be513086d54,"(26, '', u'nilearn/plotting/img_plotting.py')"
13,pull_request_commit_comment,981,nilearn,nilearn,lesteve,2016-02-11 18:36:24,"at -> a
",63f2e5f288d87a221a28dac39d715be513086d54,"(37, '', u'nilearn/plotting/img_plotting.py')"
14,pull_request_commit_comment,981,nilearn,nilearn,lesteve,2016-02-11 18:36:28,"Missing ""pronounced effect""
",63f2e5f288d87a221a28dac39d715be513086d54,"(39, '', u'nilearn/plotting/img_plotting.py')"
8,issue_comment,981,nilearn,nilearn,lesteve,2016-02-15 14:00:25,"Merging thanks ! I'll address the minor cosmetic comments in master directly.
",nan,nan
9,issue_comment,981,nilearn,nilearn,GaelVaroquaux,2016-02-17 06:24:52,"> Merging thanks ! I'll address the minor cosmetic comments in master directly.

Thanks a lot. Sorry for the delay. I promise that I was planning to
address them.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
3,issue_comment,986,nilearn,nilearn,GaelVaroquaux,2016-02-17 06:45:04,"If the test is fast, I am :+1: on performing several measures (3?) and returning the max.
",nan,nan
4,issue_comment,986,nilearn,nilearn,aabadie,2016-02-17 08:02:12,"> If the test is fast, I am ￼ on performing several measures (3?) and returning the max.

I'm also +1 with this proposition. I already tried it with success when working on memory profiling.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
5,issue_comment,987,nilearn,nilearn,bthirion,2016-02-11 08:58:40,"LGTM. 
",nan,nan
6,issue_comment,987,nilearn,nilearn,aabadie,2016-02-11 10:15:17,"Merging.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
5,issue_comment,984,nilearn,nilearn,KamalakerDadi,2016-02-08 09:34:34,"@aabadie Could you hint me about travis failure on memory consumption ? Thanks
",nan,nan
6,issue_comment,984,nilearn,nilearn,lesteve,2016-02-08 10:05:19,"> @aabadie Could you hint me about travis failure on memory consumption ? Thanks

It's very likely not related to your PR so ignore it for now.
",nan,nan
7,issue_comment,984,nilearn,nilearn,KamalakerDadi,2016-02-08 10:08:02,"Quick Example:

``` python
from nilearn import datasets
from nilearn import plotting
# Atlases fetcher
multiscale_parcellations = datasets.fetch_atlas_basc_multiscale()
# Visualization
plotting.plot_roi(multiscale_parcellations.scale007, title='Scale007')
plotting.plot_roi(multiscale_parcellations.scale444, title='Scale444')
plotting.plot_roi(multiscale_parcellations.scale197, title='Scale197')
```
",nan,nan
8,issue_comment,984,nilearn,nilearn,KamalakerDadi,2016-02-08 10:08:41,"> It's very likely not related to your PR so ignore it for now.

Ok. Thanks. 
",nan,nan
20,pull_request_commit_comment,984,nilearn,nilearn,AlexandreAbraham,2016-02-08 10:36:21,"Why not `basc_multiscale_2015`?
",da638fc7a29e9b692023ef000341728a78ca08b6,"(None, '', u'nilearn/datasets/atlas.py')"
9,issue_comment,984,nilearn,nilearn,AlexandreAbraham,2016-02-08 10:40:01,"LGTM apart from one small comment. Question: should we add an example? An exemple with several connectome computation could be cool.
",nan,nan
10,issue_comment,984,nilearn,nilearn,KamalakerDadi,2016-02-08 11:43:48,"> Question: should we add a test?

Example you mean ?
",nan,nan
21,pull_request_commit_comment,984,nilearn,nilearn,KamalakerDadi,2016-02-08 11:47:35,"> Why not `basc_multiscale_2015`?

In the issue Pierre suggested this name. I just followed that. Also, the data upload citations are Sebastian Urchs, Christian Dansereau, Yassine Benhajali, Pierre Bellec
",da638fc7a29e9b692023ef000341728a78ca08b6,"(None, '', u'nilearn/datasets/atlas.py')"
11,issue_comment,984,nilearn,nilearn,AlexandreAbraham,2016-02-08 12:16:40,"> > Question: should we add a test?
> 
> Example you mean ?

I don't know what you are talking about :D
",nan,nan
22,pull_request_commit_comment,984,nilearn,nilearn,AlexandreAbraham,2016-02-08 12:18:46,"You should be consistent between the name of the dataset and the storage name. Plus, this identifier is only used internally so using a different name will change nothing for the user.
",da638fc7a29e9b692023ef000341728a78ca08b6,"(None, '', u'nilearn/datasets/atlas.py')"
12,issue_comment,984,nilearn,nilearn,KamalakerDadi,2016-02-08 12:20:32,"> I don't know what you are talking about :D
> Question: should we add a test? A test with several connectome computation could be cool.

I am talking about this.
",nan,nan
23,pull_request_commit_comment,984,nilearn,nilearn,KamalakerDadi,2016-02-08 12:21:37,"Ok. I will go for this `basc_multiscale_2015`
",da638fc7a29e9b692023ef000341728a78ca08b6,"(None, '', u'nilearn/datasets/atlas.py')"
13,issue_comment,984,nilearn,nilearn,AlexandreAbraham,2016-02-08 12:26:07,"> > I don't know what you are talking about :D
> > 
> > > Question: should we add a test? A test with several connectome computation could be cool.
> > > I am talking about this.

I know what you are talking about, but I have edited my comment to make your remark irrelevant :P. It was supposed to be (kind of) funny!
",nan,nan
14,issue_comment,984,nilearn,nilearn,KamalakerDadi,2016-02-08 12:33:18,"Now, I got it. :) Yes example will be good but I am not sure whether I should focus on visualization or connectome example. If connectome example which functional datasets. May be we should do an example of COBRE datasets. For datasets fetcher, I will do a PR on that.
",nan,nan
24,pull_request_commit_comment,984,nilearn,nilearn,bthirion,2016-02-09 12:29:19,"''Downloads and loads""
""multiscale""
""brain""
",da638fc7a29e9b692023ef000341728a78ca08b6,"(None, '', u'nilearn/datasets/atlas.py')"
25,pull_request_commit_comment,984,nilearn,nilearn,bthirion,2016-02-09 12:29:32,"from about
",da638fc7a29e9b692023ef000341728a78ca08b6,"(None, '', u'nilearn/datasets/atlas.py')"
26,pull_request_commit_comment,984,nilearn,nilearn,bthirion,2016-02-09 12:30:19,"""and includes"": ""among"" 
",da638fc7a29e9b692023ef000341728a78ca08b6,"(None, '', u'nilearn/datasets/atlas.py')"
27,pull_request_commit_comment,984,nilearn,nilearn,bthirion,2016-02-10 08:24:23,"lower-case: multiscale brain parcellations
",da638fc7a29e9b692023ef000341728a78ca08b6,"(None, '', u'nilearn/datasets/description/basc_multiscale_2015.rst')"
15,issue_comment,984,nilearn,nilearn,bthirion,2016-02-10 08:31:39,"I also would like an example. Don't try out something complicated: just plotting an atlas with 3 resolution levels would be sufficient imho.
",nan,nan
16,issue_comment,984,nilearn,nilearn,KamalakerDadi,2016-02-15 08:41:56,"@bthirion done with the example. Could you have a final review please ?
",nan,nan
17,issue_comment,984,nilearn,nilearn,bthirion,2016-02-15 14:26:02,"The example is good.
",nan,nan
28,pull_request_commit_comment,984,nilearn,nilearn,AlexandreAbraham,2016-02-16 13:23:50,"BASC is a method. We should probably be more specific in the name, something like `basc_multiscale_2015` to avoid name collision if another atlas is generated from another dataset using the same method. Apart from that small detail, +1 for merging.
",da638fc7a29e9b692023ef000341728a78ca08b6,"(None, '', u'nilearn/datasets/atlas.py')"
29,pull_request_commit_comment,984,nilearn,nilearn,KamalakerDadi,2016-02-16 14:11:26,"Done...
",da638fc7a29e9b692023ef000341728a78ca08b6,"(None, '', u'nilearn/datasets/atlas.py')"
30,pull_request_commit_comment,984,nilearn,nilearn,GaelVaroquaux,2016-02-16 17:56:32,"Could you add a link to the figshare page
",da638fc7a29e9b692023ef000341728a78ca08b6,"(12, '', u'nilearn/datasets/atlas.py')"
18,issue_comment,984,nilearn,nilearn,GaelVaroquaux,2016-02-16 18:01:54,"Aside from the link, LGTM.
",nan,nan
31,pull_request_commit_comment,984,nilearn,nilearn,KamalakerDadi,2016-02-16 18:42:23,"I tried to add before, its huge in length. Any hint ?
",da638fc7a29e9b692023ef000341728a78ca08b6,"(12, '', u'nilearn/datasets/atlas.py')"
32,pull_request_commit_comment,984,nilearn,nilearn,KamalakerDadi,2016-02-16 19:29:19,"I will use url shortner https://goo.gl/yfg80t 

Will it be Ok ?
",da638fc7a29e9b692023ef000341728a78ca08b6,"(12, '', u'nilearn/datasets/atlas.py')"
33,pull_request_commit_comment,984,nilearn,nilearn,GaelVaroquaux,2016-02-17 05:58:49,"> I will use url shortner https://goo.gl/yfg80t

I would prefer the full URL, so that people see where it points to.
",da638fc7a29e9b692023ef000341728a78ca08b6,"(12, '', u'nilearn/datasets/atlas.py')"
19,issue_comment,984,nilearn,nilearn,AlexandreAbraham,2016-02-17 14:32:47,"Merging. I'll fix the URL directly into master.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
5,issue_comment,985,nilearn,nilearn,AlexandreAbraham,2016-02-09 09:22:23,"LGTM. If no objection, I will merge it when the lights go green.
",nan,nan
6,issue_comment,985,nilearn,nilearn,KamalakerDadi,2016-02-09 09:25:23,"> LGTM. If no objection, I will merge it when the lights go green.

Thanks for reviewing. I need it for tutorial.
",nan,nan
7,issue_comment,985,nilearn,nilearn,KamalakerDadi,2016-02-09 09:27:54,"I think travis failure is not related to this PR.
",nan,nan
8,issue_comment,985,nilearn,nilearn,AlexandreAbraham,2016-02-09 09:32:41,"One small thing: if I give one value, say  [-3], the current code will add infinity and thus color everything higher than -3. In that case, we may want to preprend neginfinity instead to color all values below -3.

What do other guys think?
",nan,nan
9,issue_comment,985,nilearn,nilearn,aabadie,2016-02-09 09:33:39,"> I think travis failure is not related to this PR.

The memory profiling test function is not very stable. I'll enter an issue for this.
",nan,nan
10,issue_comment,985,nilearn,nilearn,KamalakerDadi,2016-02-09 09:39:34,"> In that case, we may want to preprend neginfinity instead to color all values below -3. 
> What do other guys think?

Yes that is definitely an option. But, when negative levels are passed which means user knows exactly what he is doing. Otherwise, we warn or document separately about this keyword argument. 
",nan,nan
11,issue_comment,985,nilearn,nilearn,AlexandreAbraham,2016-02-09 09:56:19,"> But, when negative levels are passed which means user knows exactly what he is doing.

Well, I'm not sure about that.

> Otherwise, we warn or document separately about this keyword argument.

This argument should have a doc anyway. But since we use a heuristic to autocomplete the input, we can decide which behavior we want.
",nan,nan
12,issue_comment,985,nilearn,nilearn,bthirion,2016-02-09 21:56:37,"But then you have to rely on some heuristic to assume that e.g. positive 
values  for a encode the [a +\infty[, interval, while negative values 
would encode the ]-\infty, a] interval.
I think, I'd rather have levels=[a] to implictly [a +\infty], without 
adding further rules.
",nan,nan
13,issue_comment,985,nilearn,nilearn,bthirion,2016-02-09 21:59:02,"LGTM otherwise. Thx !
",nan,nan
14,issue_comment,985,nilearn,nilearn,AlexandreAbraham,2016-02-09 22:03:56,"> I think, I'd rather have levels=[a] to implictly [a +\infty], without adding further rules.

Fine for me! Big button!
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
5,issue_comment,918,nilearn,nilearn,AlexandreAbraham,2015-12-17 10:25:03,"Yes we can. But as the tests shows, this is still WIP for the moment.
",nan,nan
6,issue_comment,918,nilearn,nilearn,AlexandreAbraham,2016-02-01 16:59:28,"> TDD ;-) ?

Actually, my test is the real atlas. But I can't use it in the test suite so I've just put a test using toy data.

The PR should is now mergeable.
",nan,nan
11,issue_comment,918,nilearn,nilearn,salma1601,2016-02-01 21:34:54,"For cortical atlases, looks OK.
For sub cortical, should invalidate the use of symmetric_split because it gives strange things

``` Python
from nilearn import datasets
atlas = datasets.fetch_atlas_harvard_oxford('sub-maxprob-thr0-1mm', symmetric_split=True)
print(atlas.labels[2])
```

gives `Left Cerebral White Matter, right part`
",nan,nan
7,issue_comment,918,nilearn,nilearn,AlexandreAbraham,2016-02-02 00:29:40,"The principle is that the splitter consider as lateralized a component with at least 95% of its voxels in one hémisphère. What you observés means that this région vas more than 5% of its voxel in the right hémisphère. I will check that tomorrow.
",nan,nan
12,issue_comment,918,nilearn,nilearn,salma1601,2016-02-02 10:22:19,"Everything works great for cortical atlases. Seems to me it is just as you said @AlexandreAbraham

> Already splitted atlases should not be splitted again. The atlas you plot is actually not modified in our but the list of labels is modified even when it should not be.
",nan,nan
8,issue_comment,918,nilearn,nilearn,AlexandreAbraham,2016-02-02 11:53:47,"Do you use the last version of the PR? I can't reproduce your problem.
",nan,nan
13,pull_request_commit_comment,918,nilearn,nilearn,banilo,2016-02-02 15:08:29,"Perhaps add check on `ho.description`?
",9ffef88b03f894712ccaaadba28ce22198bd5526,"(43, '', u'nilearn/datasets/tests/test_atlas.py')"
10,issue_comment,918,nilearn,nilearn,salma1601,2016-02-02 18:33:14,"> Do you use the last version of the PR?

No, sorry !! everything looks right now including for subcortical atalses
",nan,nan
9,issue_comment,918,nilearn,nilearn,AlexandreAbraham,2016-02-03 13:22:43,"Merging then!
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
28,issue_comment,915,nilearn,nilearn,KamalakerDadi,2015-12-16 22:19:26,"I think there is a PR in nilearn sandbox to get started and can be ported here. I guess.
",nan,nan
9,issue_comment,915,nilearn,nilearn,KamalakerDadi,2015-12-17 13:15:46,"> This is the one: nilearn/nilearn_sandbox#1

Yup, the link which @GaelVaroquaux provided has direct downloading of data without in need of asking for password. So, may be adapt code to this weblink or may download data and group upload them in nitrc ? @AlexandreAbraham 
",nan,nan
3,issue_comment,915,nilearn,nilearn,AlexandreAbraham,2015-12-18 10:22:42,"I think that there is no need to mirror it. However, somebody should dig into the mat files to see if there is any useful information in there.
",nan,nan
10,issue_comment,915,nilearn,nilearn,pbellec,2015-12-18 15:04:01,"The mat files contain all the covariates that have been regressed out of the data (motion parameters, mean CSF signal, etc). It also contains a list of time frames that have been removed from the time series by censoring for high motion. This means there are missing time points, which is not a problem for correlation, partial correlation, etc but needs to be taken into account as soon as you model the dynamics. 
",nan,nan
11,issue_comment,915,nilearn,nilearn,pbellec,2015-12-18 15:05:52,"There is also a csv file with the demographic and clinical variables, as well as a measure of frame displacement (à la power), which is the average FD for all time frames left after censoring. 
",nan,nan
12,issue_comment,915,nilearn,nilearn,GaelVaroquaux,2015-12-18 19:36:40,"> It also contains a list of time frames that have been removed from the
> time series by censoring for high motion. This means there are missing
> time points

That's nasty! It means that the data cannot be time-filtered. We
absolutely need to warn people clearly about this in the description of
the data, as they will overlook this fact, and apply eg time filtering.
",nan,nan
13,issue_comment,915,nilearn,nilearn,pbellec,2015-12-19 01:03:39,"I see. These data originate for a publication and have already been filtered smoothed etc (check the README.md file for full details by the way). Thinking about it, for the purpose of integration in nilearn, it may be better to have unsmooth data with minimal denoising applied. I could of course package the motion parameters, FD measures, CSF WM signal etc for people to regress out (or censor) if they want, but not enforce these choices on the user. Do you think this would be more useful? If you guys think it's worth it, I'd just make a separate ""minimally preprocessed"" release. 
",nan,nan
14,issue_comment,915,nilearn,nilearn,GaelVaroquaux,2015-12-19 10:12:34,"> Thinking about it, for the purpose of integration in nilearn, it may be
> better to have unsmooth data with minimal denoising applied. I could of
> course package the motion parameters, FD measures, CSF WM signal etc
> for people to regress out (or censor) if they want, but not enforce
> these choices on the user.

That would be awesome. We could easily have a switch in the downloader
that would download one or the other. We could also demonstrate in an
example how the NiftiMasker can be used to retrieve the full preprocessed
from the minimally preprocessed.
",nan,nan
15,issue_comment,915,nilearn,nilearn,banilo,2015-12-19 22:35:13,"> by censoring for high motion

Isn't this what they call ""scrubbing""?
",nan,nan
16,issue_comment,915,nilearn,nilearn,pbellec,2015-12-20 04:47:48,"@GaelVaroquaux Then I'll work on that asap. 
@banilo you're right, the approach applied here is the (Power et al. Neuroimage 2012) scrubbing method, based on their FD measure. Power et al. (Neuroimage 2014) have investigated the idea of replacing the ""bad"" time points by values extrapolated from the ""good"" time points in the regression, and further started using the term censoring. But in this release the bad time points have simply been eliminated. 
",nan,nan
29,issue_comment,915,nilearn,nilearn,KamalakerDadi,2016-01-11 16:32:07,"@pbellec Could you let us know if you have released the package suitable for integration in nilearn ? 
",nan,nan
20,issue_comment,915,nilearn,nilearn,pbellec,2016-01-12 03:07:53,"Sorry for the delay. Working on it. 
",nan,nan
27,issue_comment,915,nilearn,nilearn,banilo,2016-01-12 22:35:44,"I am also working with COBRE data...
",nan,nan
17,issue_comment,915,nilearn,nilearn,KamalakerDadi,2016-01-18 15:45:48,"@pbellec Is there any source where I could download all datasets ? At the moment, I can download only data together of size https://ndownloader.figshare.com/articles/1160600/versions/15 1GB. Am I missing something here ?
",nan,nan
18,issue_comment,915,nilearn,nilearn,KamalakerDadi,2016-01-23 09:41:04,"Any opinion regarding the format of the data? hdf5 ? 
question received from @pbellec 
",nan,nan
19,issue_comment,915,nilearn,nilearn,GaelVaroquaux,2016-01-23 11:06:24,"> Any opinion regarding the format of the data? hdf5 ? question received from @pbellec

hdf5 is not an option as it would be bringing in externel dependencies.

We should abide by http://bids.neuroimaging.io/ Which means that we
should probably be using tab separated files. We can compress them in a
gz file.
",nan,nan
30,issue_comment,915,nilearn,nilearn,KamalakerDadi,2016-01-23 11:32:22,"@GaelVaroquaux Thank you. I will post this opinion to brain hack group.
",nan,nan
4,issue_comment,915,nilearn,nilearn,AlexandreAbraham,2016-01-23 20:02:41,"But the data ils already in nifti... There is no need for conversion.
",nan,nan
21,issue_comment,915,nilearn,nilearn,pbellec,2016-01-23 20:32:07,"@AlexandreAbraham it's for the covariates that come with the images (motion parameters, average WM and CSF signals, global signal, etc). Currently they are stored in a hdf5 file. I am going to try to format them in tsv files, taking inspiration from bids as @GaelVaroquaux suggests, and I'll see how it goes.   
",nan,nan
5,issue_comment,915,nilearn,nilearn,AlexandreAbraham,2016-01-25 09:38:49,"@pbellec, On the website, I see Nifti and .mat files. Aren't the covariates stored in the .mat? In that case, there is no need for conversion, they are readable in Python.

If you have an hdf5 file, can you share it? I already have scripts to convert them to other formats. Maybe I can help.
",nan,nan
31,issue_comment,915,nilearn,nilearn,KamalakerDadi,2016-01-25 09:45:27,"I think the format we are discussing about is for new release with minimal preprocessed version.
",nan,nan
6,issue_comment,915,nilearn,nilearn,AlexandreAbraham,2016-01-25 13:17:43,"Oh, OK! Now I get it.
",nan,nan
22,issue_comment,915,nilearn,nilearn,pbellec,2016-02-10 09:30:48,"OK so this turned out to be [much more work](https://github.com/SIMEXP/niak/issues/122) than I had expected, as it forced me to separate the generation of confounds from their actual regression in the niak preprocessing pipeline. But hopefully this will help make the outputs much more re-usable so it's all good. Here is my proposition. 

There will be a file `<subject>_<session>_<run>_n.nii.gz` per subject. The _n suffix is for ""spatially normalized"", a la SPM. Actual processing steps will include: 
1.  Slice timing correction.
2.  Motion estimation (within- and between-run for each label).
3.  Linear and non-linear spatial normalization of the anatomical image.
4.  Coregistration of the anatomical volume with the target volume of 
5.  Concatenation of the T2-to-T1 and T1-to-stereotaxic-nl
6.  Resampling of the functional data in the stereotaxic space.

No regression of confounds, no smoothing. For each dataset, there will be a file `<subject>_<session>_<run>_confounds.tsv.gz`. It is a compressed file of tabulation-separated-values. See an example [here](https://drive.google.com/file/d/0B3fQhLcXWtDRb084YmczQ1lrRDA/view?usp=sharing). Each column is a confound, and the first row is a label. 

The labels will be explained in a separate json file, called [niak_confounds.json](https://drive.google.com/file/d/0B3fQhLcXWtDRNXpfeThTN3Q2eEE/view?usp=sharing). Note that some labels may be used multiple times: there are several covariates for slow time drift for example. I didn't want to include the frequency in the labels, because I did not want the labels to change from one dataset to the other. 

Hopefully, with that type of preprocessed data it will be easy to try alternative regression paths / smoothing directly from nilearn. Please let me know what you think. 

@chrisfilo I have tried to follow the spirit of BIDS here. Please let me know if you think this could be further improved in that direction. 
",nan,nan
25,issue_comment,915,nilearn,nilearn,KamalakerDadi,2016-02-10 14:17:51,"So, an impediment here:

I am writing a fetcher for https://figshare.com/articles/COBRE_preprocessed_with_NIAK_0_12_4/1160600  named as ""fully preprocessed"" and download time seems to be more than 1 hour fetching data from link ""Download all"". 

So, question? Any suggestions how to overcome this ? may be if we want to restrict downloading limited subjects ? Ping @GaelVaroquaux @AlexandreAbraham 
",nan,nan
23,issue_comment,915,nilearn,nilearn,pbellec,2016-02-11 03:50:50,"Not sure how much of a problem this is. Definitely not suitable for a quick tutorial, but this resource opens up possibilities for real data exploration. Would seem reasonable to have an option to download only a portion of the data. Another work-around would be to get time series on, say, 1000 or 3000 brain parcels. @GaelVaroquaux did not seem too keen on this option last time we talked. One last option would be to stick with 4D datasets but go down to a 4 or even 5 mm isotropic resolution. 
",nan,nan
7,issue_comment,915,nilearn,nilearn,AlexandreAbraham,2016-02-11 12:19:36,"@GaelVaroquaux Should we make an option to download part of the dataset? This dataset will only be used for analysis so I think that people will tend to download the whole stuff and not single subjects.
",nan,nan
26,issue_comment,915,nilearn,nilearn,GaelVaroquaux,2016-02-11 12:24:30,"Unlike @pbellec, I disagree that an hour download is not a problem. It's
a huge one.

However, I think that we should move on. The figshare interface makes it
hard to write code that does partial downloads. Figshare is also clearly
bandwidth limited: the download speed is limited on their side. What I
have in mind is that, in a latter PR, we will create a mirror of the data
on Nitrc, which has a fast download and makes it easier to organize
partial downloads.
",nan,nan
24,issue_comment,915,nilearn,nilearn,pbellec,2016-02-12 00:52:49,"Alright, I'll try downsampling, and upload on zenodo. I'll check how fast is the download. I assume you are fine with the new format. Chris has started a document to formalize a BIDS preproc organization, but this is going to take a while so I'll move on with the current format. Will keep you posted. 
",nan,nan
8,issue_comment,915,nilearn,nilearn,AlexandreAbraham,2016-02-17 14:37:07,"Fixed in #989.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
5,issue_comment,914,nilearn,nilearn,salma1601,2015-12-16 13:54:36,"I have another question @AlexandreAbraham 

``` Python
atlas = datasets.fetch_atlas_harvard_oxford('cort-maxprob-thr25-1mm', symmetric_split=True)
```

`print(atlas.labels[:5])` gives the right regions

``` Python
['Background', 'Frontal Pole, right part', 'Insular Cortex, right part', 'Superior Frontal Gyrus, right part', 'Middle Frontal Gyrus, right part']
```

while `print(atlas.labels[-5:])` gives the left regions 

``` Python
['Planum Polare, left part', ""Heschl's Gyrus (includes H1 and H2), left part"", 'Planum Temporale, left part', 'Supracalcarine Cortex, left part', 'Occipital Pole, left part']
```

but when plotting they seem to me inverted because I expected the intensity growing from 0 for the Background to its maximum in occipital regions. Did I get something wrong ?

``` Python
from nilearn import plotting
plotting.plot_stat_map(atlas.maps)
```

![ho_atlas](https://cloud.githubusercontent.com/assets/7080143/11842318/3336b2e6-a403-11e5-98be-06b0e8800a17.png)
",nan,nan
3,issue_comment,914,nilearn,nilearn,AlexandreAbraham,2015-12-16 17:31:15,"> the type of the output changes if symmetric_split is True or False

You're right, I'll fix it.

> the parameter symmetric_split is allowed to be True for 'sub-maxprob-thr25-1mm' but [...]

Already splitted atlases should not be splitted again. The atlas you plot is actually not modified in our but the list of labels is modified even when it should not be. The code for that is quite horrible, I will rewrite it.

However, I have no RuntimeError, could you give me the trace of the error?
",nan,nan
6,issue_comment,914,nilearn,nilearn,salma1601,2015-12-16 17:57:58,"> You're right, I'll fix it

Thanks ! and what about the right/left labels, is there a mismatch ?

> could you give me the trace of the error?

RuntimeError                              Traceback (most recent call last)
<ipython-input-181-aac264309bdf> in <module>()
----> 1 datasets.fetch_atlas_harvard_oxford('sub-maxprob-thr25-1mm', symmetric_split=True)

/home/sb238920/CODE/Parietal/nilearn/nilearn/datasets/atlas.py in fetch_atlas_harvard_oxford(atlas_name, data_dir, symmetric_split, resume, verbose)
    259     # ndimage.find_objects output contains None elements for labels
    260     # that do not exist
--> 261     found_slices = (s for s in ndimage.find_objects(atlas)
    262                     if s is not None)
    263     middle_ind = (atlas.shape[0] - 1) // 2

/usr/lib/python2.7/dist-packages/scipy/ndimage/measurements.pyc in find_objects(input, max_label)
    267         max_label = input.max()
    268 
--> 269     return _nd_image.find_objects(input, max_label)
    270 
    271 

RuntimeError: data type not supported
",nan,nan
4,issue_comment,914,nilearn,nilearn,AlexandreAbraham,2015-12-17 08:12:05,"> and what about the right/left labels, is there a mismatch ?

Like I said, the labels returned by the function when `symmetric_split=True` are wrong.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
40,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2016-02-25 20:27:21,"I'd prefer if the acceptable value for ""hemi"" would be ""left"" and ""right"", rather than ""lh"" and ""rh"", which are a bit cryptic.
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/plotting/surf_plotting.py')"
41,pull_request_commit_comment,1016,nilearn,nilearn,AlexandreAbraham,2016-02-25 21:09:33,"I guess that the final `[0]` means `lh`. I think we should rather make two fields `fsaverage_pial_left` and `fsaverage_pial_right`.
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
42,pull_request_commit_comment,1016,nilearn,nilearn,AlexandreAbraham,2016-02-25 21:14:06,"You can use `nibabel.nifti1.intent_codes['NIFTI_INTENT_POINTSET']` rather than `1008`
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/plotting/surf_plotting.py')"
43,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-02-25 21:33:39,"May be you can write few lines about what this example does. For example, I don't know what `nki` is ?
stating that we are fetching so and so datasets and visualizing them.
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
44,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-02-25 21:34:30,"pin point reference may be :func:nilearn.plotting.plot_surf_stat_map ?
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
45,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-02-25 21:35:46,"All examples start with ############### to have head line representation. If you want you can have a look at other examples.
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
46,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-02-25 21:36:09,"you can use `plotting.show()`
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
47,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-02-25 21:37:36,"yes that would be more clear.
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
48,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-02-25 21:39:37,"may be its not necessary to import matplotlib
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
49,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-02-25 21:40:54,"adding `title` would be nice I guess ?
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
15,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2016-02-25 21:44:36,"Example looks great. Just minor details on example `plot_surf_stat_map`
",nan,nan
50,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-02-25 21:52:29,"you may also need to add in `doc/modules/reference.rst`
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/__init__.py')"
51,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2016-02-27 12:18:11,"Agree, fixed it.
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/plotting/surf_plotting.py')"
52,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2016-02-27 12:18:34,"Agree, I changed it.
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
53,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2016-02-27 12:19:22,"Yes, I will add a description both of the dataset and the example asap.
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
54,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2016-02-27 12:19:36,"Done
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
55,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2016-02-27 12:20:03,"Oh good, changed it.
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
56,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2016-02-27 12:20:23,"Yes, no it isn't necessary anymore.
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
57,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2016-02-27 12:20:47,"Done
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/__init__.py')"
10,issue_comment,1016,nilearn,nilearn,juhuntenburg,2016-02-27 12:29:33,"Yes I agree about the white space. My colleague uses another function to crop the image and combine medial and lateral view into one display: https://github.com/soligschlager/brainsurfacescripts/blob/temp/plotting.py#L343-L420 Would some version of that be an option? Then I would look into it with her. 

Or I will check whether it is possible to avoid the white space in matplotlib in the first place
",nan,nan
58,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2016-02-27 13:28:28,"> I guess that the final [0] means lh. I think we should rather make two fields
> fsaverage_pial_left and fsaverage_pial_right.

+1!
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
59,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2016-02-27 13:30:07,"> May be you can write few lines about what this example does. For example, I
> don't know what nki is ?
> stating that we are fetching so and so datasets and visualizing them.

And tell us that this is resting activation.

I just realized something: is it possible to download the FS standard
parcellations from the web? That would make an awesome visualization
example.
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
60,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2016-02-27 13:30:47,"> pin point reference may be :func:nilearn.plotting.plot_surf_stat_map ?

I think that this is OK, as long as there is a section about surface
visualization in the docs.
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
61,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2016-02-27 13:40:05,"> you can use plotting.show()

Yes. We do this to avoid having to teach beginners to import matplotlib.
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
62,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2016-02-27 14:05:09,"Should the ""abs"" be an ""np.abs""?
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/plotting/surf_plotting.py')"
63,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2016-02-28 11:34:00,"The parcellations are provided with the FS distribution, so I guess we could use them? The problem is that this function is not exactly optimized to plot labels / rois: the boundaries will be blurred because of the interpolation of vertex values to face values. An easy way around this should be to use the median value instead of the mean. But I thought this would go into a separate function (something similar to plot_roi?) and thus separate example. 
I agree that the data that is used now not a great example, because it isn't a stat map either, but just some random volume of a time series. So maybe I should look into creating an example map from the nki dataset? Or would it be an option to just use some map from Neurovault for now?
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
64,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2016-02-28 16:03:45,"> The parcellations are provided with the FS distribution, so I guess we could
> use them?

Well, we cannot rely on people having FS installed, so we would need to
provide downloaders, and for this we would need to check that there
exists URLs where we can download them.

> median value instead of the mean. But I thought this would go into a separate
> function (something similar to plot_roi?) and thus separate example.

I agree. Let's do this later.

> So maybe I should look into creating an example map from the nki
> dataset?

Let's worry about this later.
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
65,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2016-02-28 16:24:01,"Or just upload them to the example dataset just as we did for the fsaverage mesh?
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
66,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2016-02-28 16:24:36,"> Or just upload them to the example dataset just as we did for the fsaverage
> mesh?

It's an option indeed.
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
16,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2016-07-12 20:26:06,"Hi @juhuntenburg Any progress on this ?
",nan,nan
11,issue_comment,1016,nilearn,nilearn,juhuntenburg,2016-07-13 05:16:31,"Hi @KamalakerDadi: ah yes, good reminder.
1. White space around the figure:
   I looked into this but didn't find a solution yet. In the volumetric plotting code, I figure this is the step to adapt the bounds: https://github.com/nilearn/nilearn/blob/master/nilearn/plotting/displays.py#L92-L94 ? 
   But since I don't use imshow here I don't see how to translate it directly. I tried to change the bounding box of the 3d axis with ax.set_clip_box but it didn't help. Maybe one of you has an idea that they could point me to?
2. Example / documentation: 
   I would like to replace the example which plots an arbitrary volume of a time series with one that plots seed-based connectivity of the example dataset. I will look into this asap and then also write a proper documentation of the example. 

Are there any other crucial points for now?
",nan,nan
17,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2016-07-13 09:00:29,"Thanks @juhuntenburg 

> White space around the figure:

I will try to search for some solutions/hints.

> Example / documentation: 

yes, please. It looks interesting.
",nan,nan
12,issue_comment,1016,nilearn,nilearn,juhuntenburg,2016-07-17 20:52:50,"I have reworked the example. For this the Destrieux parcellation (shipped with Freesurfer) would need to be added to the Nilearn NKI dataset. For testing you can find the file here: https://www.dropbox.com/s/j66g4ljqaj5hz3a/lh.aparc.a2009s.annot?dl=0
Happy for feedback!
",nan,nan
13,issue_comment,1016,nilearn,nilearn,juhuntenburg,2016-07-17 20:55:08,"I also want to make a second function plot_surf_roi (very similar just using the median instead of mean value for the face color and some other defaults) and display the seed region as well.
",nan,nan
14,issue_comment,1016,nilearn,nilearn,juhuntenburg,2016-07-17 20:59:34,"The current function is not ideal for plotting labels (atlas, roi) because it interpolates the values and doesn't create clean borders. This can easily be changed by using the median value instead of the mean to calculate the face colors. 
Does that make more sense?
",nan,nan
18,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2016-07-18 20:47:11,"Can you please rebase and resolve the conflicts ?

I can review your PR again this week.
",nan,nan
67,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-07-19 08:55:29,"May be you can use here: `nilearn.plotting.plot_surf_stat_map`. Thats the reason for circleCI failure I guess.
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
68,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2016-07-20 10:00:22,"Done!
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
69,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-07-21 09:42:53,"reason for CircleCI failure. 

If you are looking for a destrieux atlas, why don't you pick from nilearn ? `fetch_atlas_destrieux_2009` 
Is it not the same you are using here ?
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
70,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-07-21 09:44:18,"Ok may be its not I have seen the reference after commenting. Destrieux et al, (2010)
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
71,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2016-07-21 09:57:40,"Actually I am not sure it is a different parcellation (It is called 2009 within Freesurfer but the final atlas was published 2010), but anyhow the main difference is that this is surface space and the one in Nilearn is a volume, right?
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
72,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-07-21 10:54:24,"May be can you have a look at the maps. I could not differentiate between surface and volume. But this may help fetched from that atlas description.

## Notes

The 'Destrieux' cortical atlas is based on a parcellation scheme
that first divided the cortex into gyral and sulcal regions,
the limit between both being given by the curvature value of the surface.
A gyrus only includes the cortex visible on the pial view,
the hidden cortex (banks of sulci) are marked sulcus.
The result is a complete labeling of cortical sulci and gyri.

## References

Fischl, Bruce, et al. ""Automatically parcellating the human cerebral cortex.""
Cerebral cortex 14.1 (2004): 11-22.

Destrieux, C., et al. ""A sulcal depth-based anatomical parcellation
of the cerebral cortex."" NeuroImage 47 (2009): S151.
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
73,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2016-07-21 12:01:49,"So the one in nilearn is definitely a volume (you can load it in MNI space). What I use here is basically just a dictionary associating nodes indices in fsaverage5 space with labels of the Destrieux parcellation, this is what is saved in Freesurfer's standard .a2009s.annot output. I am pretty sure the underlying parcellation is the same, but afaik there is no trivial way to translate one into the other (i.e. without using additional tools like the ones from Freesurfer) so that I could simply use the one that is already in Nilearn on the surface. 
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
74,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2016-07-21 12:06:37,"> What I use here is basically just a dictionary associating nodes indices in
> fsaverage5 space with labels of the Destrieux parcellation, this is what is
> saved in Freesurfer's standard .a2009s.annot output. I am pretty sure the
> underlying parcellation is the same, but afaik there is no trivial way to
> translate one into the other

Indeed
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
75,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2016-08-25 14:51:25,"Should we call this function ""fetch_surf_nki_enhance""? Just like we have prefixed all the atlas fetching functions with fetch_atlas?
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'doc/modules/reference.rst')"
76,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2016-08-25 14:57:48,"This part of the docstring still needs to be finished.
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/plotting/surf_plotting.py')"
4,issue_comment,1016,nilearn,nilearn,juhuntenburg,2016-09-20 06:59:21,"Hi, I've been working on the additional plotting function and starting to write the data fetcher for the Destrieux surface atlas. I was wondering if I should include the fsaverage5 surface giftis in that fetcher as well (without them I can't plot the atlas), like I did in the nki fetcher. Or, if there should be an independent fetcher for fsaverage5 (and I remove these files from the nki fetcher as well)?
",nan,nan
5,issue_comment,1016,nilearn,nilearn,GaelVaroquaux,2016-09-20 07:00:12,"I think that an independent fsaverage fetcher seems right.
",nan,nan
6,issue_comment,1016,nilearn,nilearn,juhuntenburg,2016-09-20 07:06:33,"Ok cool, what is the best way to create the new datasets on nitrc? Can I get access to do that?
",nan,nan
7,issue_comment,1016,nilearn,nilearn,GaelVaroquaux,2016-09-20 07:08:11,"> Ok cool, what is the best way to create the new datasets on nitrc? Can I get access to do that?

Ask @AlexandreAbraham, if he is in the same room than you. Else, ping him
",nan,nan
8,issue_comment,1016,nilearn,nilearn,juhuntenburg,2016-09-20 07:51:24,"Ah Vienna brainhack, no not there, will contact him
",nan,nan
9,issue_comment,1016,nilearn,nilearn,AlexandreAbraham,2016-09-20 07:57:46,"Creating a new dataset on nitrc requires some ""click click"" actions. I can do it for you.
",nan,nan
19,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2016-10-26 09:06:30,"> (Please ignore the recent changes for now, working on finishing this with @Joaoloula at brainhack and will then rebase etc.)

Thank you for getting back to this. Feel free to ping us if it is ready for reviewing.
",nan,nan
38,issue_comment,1016,nilearn,nilearn,Joaoloula,2016-10-26 16:16:32,"On the coverage department, we can write tests for the new code if you think it's a good idea. As for the fetch_surf_fsaverage5 docstring formatting, I'm under the impression it's just an empty line missing before the Parameters, can you confirm this before I commit?
",nan,nan
20,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2016-10-26 16:24:36,"> On the coverage department, we can write tests for the new code if you think it's a good idea.

Its always a good idea to test the written code.

> As for the fetch_surf_fsaverage5 docstring formatting, I'm under the impression it's just an empty line missing before the Parameters, can you confirm this before I commit?

Can you check on your machine by cd doc folder in nilearn and run `make html-strict` ? You will come to know whether failure is fixed or not.
",nan,nan
77,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:19:35,"I would write ""Download and load Destrieux et al, 2010 cortical atlas."" and after one line empty space

I would write ""This atlas returns 74 sulco-gyral structures per hemisphere distributed with Freesurfer in fsaverage5 surface space.""

I choose to update with 2010 paper. The annotations are described well in this paper. At some point, users might ask about the reference point from where we have picked those annotations.",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
78,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:19:52,type forec -> force,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
79,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:20:11,May be we can remove one default,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
80,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:21:50,"Returns section needs to be updated. What we return here are path to annotations in .annot format.
I would update with the same as what you have written in destrieux_surface.rst file.",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
81,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:22:05,This can be removed I guess.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
82,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:22:41,Why don't we return by loading them rather than path to .annot file ?,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
83,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:23:04,I would update with 2010 reference paper.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
84,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:23:57,Is this reference necessary seems like we have reflected with same reference as in ```fetch_atlas_destrieux_2009``` ?,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
85,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:24:23,opts is not use anywhere ?,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
86,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:24:49,typo patterens -> patterns,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/description/destrieux_surface.rst')"
87,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:25:35,"On the top you have cited 2010 paper. But, here you referred 2009 paper.",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/description/destrieux_surface.rst')"
88,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:25:56,left -> right,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/description/destrieux_surface.rst')"
89,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:28:24,circle ci error can be fixed by giving an empty space between one line description and Parameters.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/func.py')"
90,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:29:03,PEP8. two empty lines required between functions.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/func.py')"
91,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:29:25,May be you forgot to remove this ?,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/func.py')"
92,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:30:24,May be we need reduce default size in ```n_subjects``` to reduce the burden on CircleCI build ? 10 would be good I guess.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/func.py')"
93,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:36:11,Full stop (```.```) is not necessary in the title/headline. I haven't seen anything of that sort with other examples.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_atlas.py')"
94,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:38:11,"Same comment here on (```.```)

Also, title/headline needs to be in single line like in other examples. Sphinx build will fail to consider as title of the example if it is in two lines.",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
95,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:41:38,"You may have missed to add references for Dale et al, 1999 and Fischl et al, 1999.",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/description/fsaverage5.rst')"
96,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:45:25,"PEP 8, missing white space here 'rh annot':9342 -> 'rh annot': 9342",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
97,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:47:26,Missing indent at [(annot_file)......],ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
98,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:47:51,Missing indent at resume,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
99,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:53:44,May be NKI can be expanded or atleast in Notes section ?,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(1, '', u'nilearn/datasets/description/nki_enhanced_surface.rst')"
100,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:56:37,From what I see in description file and also return line. You are returning ```func_left``` and ```func_right```. This needs to be updated I guess.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/func.py')"
101,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 09:58:47,fsaverage5 space surface would be more informative.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/func.py')"
102,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 10:01:00,Missing documentation for parameters ```verbose``` and ```resume```.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/func.py')"
103,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 10:09:09,Documentation missing for verbose and resume.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
104,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 10:23:42,"I am trying to download files. Id: 'A00028185', 'A00033747', seems to download well.

But, I have error fetching 'A00035072'. May this subject id is not available ?

```python
URLError: <urlopen error EOF occurred in violation of protocol (_ssl.c:590)| Error while fetching file A00035072_rh_preprocessed_fsaverage5_fwhm6.gii; dataset fetching aborted.>
```",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(61, '', u'nilearn/datasets/func.py')"
105,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 10:28:32,"Also, worth to write that the images we return are Gifti-like images.

I would write
```python 
- 'func_right' : Gifti-like images
      Paths to functional resting-state images
```                         ",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/func.py')"
106,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2016-11-24 10:39:59,"Ok, now its seems downloading well 'A00035072' both 'lh' and 'rh'. Sorry about previous error comment.",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(61, '', u'nilearn/datasets/func.py')"
107,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2017-01-05 12:02:22,We would need to import nibabel to load the annot file. Should we do this?,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
108,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2017-01-05 12:57:03,"The example should write in the current directory, and not in /tmp: /tmp might not exist (eg on Windows).",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
109,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2017-01-05 12:59:09,"If we end up using ""check_surf_data"" in the examples, we should probably rename it ""load_surf_data"", so that it makes sense to the user.",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
110,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2017-01-05 12:59:54,This comment should probably be addressed.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/func.py')"
111,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-05 13:04:12,Seems like it is too long.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
112,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-05 13:06:30,Empty line missing below.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
113,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-05 13:06:50,I would prefer true -> True,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
114,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-05 13:11:27,Can we keep string -> str ?,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
115,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-05 13:11:36,Same here string -> str,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
116,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-05 13:12:27,string -> str,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/func.py')"
117,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-05 13:13:04,string -> str,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/func.py')"
118,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-05 13:17:32,+1,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
119,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-05 13:25:36,Empty line space missing below.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/func.py')"
120,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-05 13:25:44,string -> str,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/func.py')"
121,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-05 13:25:57,"same here, string -> str",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/func.py')"
122,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-05 13:26:46,May we should express that files returned are gifti files ?,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/func.py')"
123,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-05 13:33:54,May be adding ```title``` to the plots ? ,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_atlas.py')"
124,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2017-01-05 13:40:35,"We should probably use relative imports here: ""from .._utils.compat import _basestring""

Also, these imports should be moved to the end of the list of imports, as imports should be ordered from general (standard library) to local.",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/plotting/surf_plotting.py')"
125,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2017-01-05 13:41:14,This empty line should be removed.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/plotting/surf_plotting.py')"
126,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-05 13:47:24,Seems like it is ```surf_map_data``` ?,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/plotting/surf_plotting.py')"
127,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-05 13:48:48,Could you please add documentation ?,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/plotting/surf_plotting.py')"
128,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-05 13:51:51,"Same here, can you please add documentation ?",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/plotting/surf_plotting.py')"
129,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-05 14:01:32,[PEP 8] -> line too long,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/plotting/surf_plotting.py')"
130,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-05 14:13:58,"I would write more informative error message. ""Format of data file is not recognized. Expected file formats are .nii, .nii.gz, ........ You provided .format(surf_data)""",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/plotting/surf_plotting.py')"
131,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-05 14:14:39,Same comment as above here. More informative error message.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/plotting/surf_plotting.py')"
132,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-05 14:23:54,"Can we raise an error directly here rather than inside ?

```python
else:
      raise ValueError(Format of the given data file is not recognized. Expected file formats are .nii, .nii.gz, ........ You provided .format(surf_data))
```

From what I understood, only two types are accepted, either string or numpy array.",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/plotting/surf_plotting.py')"
133,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2017-01-09 14:10:43,I'm not sure how to break these lines correctly,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/plotting/surf_plotting.py')"
134,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2017-01-09 17:24:10,"Good point, but how would I find out the format that is given if it's none of the ones we support? Just print out the ending of the filename?",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/plotting/surf_plotting.py')"
135,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2017-01-09 17:57:25,"But then I guess change the erro message? Because ""file format not understood"" doesn't really make sense when the input was a numpy array?",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/plotting/surf_plotting.py')"
21,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2017-01-11 12:39:28,plotting functions would be only smoke tests unless there are error messages which needs to tested if they are raised or not. For example using ```assert_raises_regex```.,nan,nan
136,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2017-02-03 07:02:26,"This needs to run without internet connection, hence you should use (as in the other tests of this file), the test set up / tear down:

<pre>
 @with_setup(setup_mock, teardown_mock)
 @with_setup(tst.setup_tmpdata, tst.teardown_tmpdata)
</pre>",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(5, '', u'nilearn/datasets/tests/test_atlas.py')"
137,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2017-02-09 10:40:10,I don't think that we still need this import in the example.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_atlas.py')"
138,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2017-02-09 10:41:17,Nitpick: I think that it would be better to add a split above this to have only one plot per cell.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_atlas.py')"
139,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2017-02-09 10:42:29,"We have found that it's useful to print the value of these variables so that people understand what they are (filepaths). Indeed, people don't realize that they just need to give file names to the functions.",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_atlas.py')"
140,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2017-02-09 10:44:38,Missing empty line here.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
141,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2017-02-09 10:47:36,"I think that the title of this example could be improved: the example isn't that basic: it included array manipulation to build a seed-based regression.

Maybe I would suggest ""Seed-based connectivity on the surface""",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
142,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2017-02-09 10:49:45,It would be useful to add a see also pointing to the other seed-based connectivity http://nilearn.github.io/auto_examples/03_connectivity/plot_seed_to_voxel_correlation.html and add a see also on the other example pointing here.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(24, '', u'examples/01_plotting/plot_surf_stat_map.py')"
143,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2017-02-09 10:51:06,"It would be nice to add titles, basically underline the above, and similar on each cell. It makes the example easier to read.",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
144,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2017-02-09 10:59:53,Same remark on printing a few of these variables and adding a comment pointing out that these are just file names.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
145,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2017-02-09 11:02:04,It might be useful to split the cell below is several smaller cells: it's easier to comprehend.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(112, '', u'examples/01_plotting/plot_surf_stat_map.py')"
146,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2017-02-09 11:07:17,"Do we need that full file, or can we have a shortened version of it?",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/plotting/tests/data/test.label')"
147,pull_request_commit_comment,1016,nilearn,nilearn,GaelVaroquaux,2017-02-09 11:12:16,"Here you are using the global, unseeded PRNG. We try to always avoid this, and to use a local PRNG created by rng = np.random.RandomState(0)",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/plotting/tests/test_surf_plotting.py')"
22,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-16 09:22:10,"Two failures with respect to version dependency nibabel 1.1.0. ```freesurfer``` module is not implemented in nibabel 1.1.0 and also class ```gifti.GiftiDataArray``` has no argument ```intent```. Hence tests failed with nibabel version dependency 1.1.0.

I am not sure of another failure ```Key Error: <type 'int'>``` when writing empty dictionary to gifti file. Can you please have a look ?

May be we could do something like this to fix the tests:
```python
if LooseVersion(nibabel.__version__) == LooseVersion('1.1.0'):
    # Old nibabel cannot use freesurfer module to load the surf atlases
    # Therefore, we
    raise SkipTest
```
We need to add as a ""Note"" in documentation of atlas fetchers as well as in plotting examples about minimum version requirement of nibabel. This could be as a warning for users particularly who use nibabel==1.1.0. Do you agree ?

I will keep updating with another version failures if any ?",nan,nan
23,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-16 09:40:24,">What's the minimum version of nibabel required? Could one of you do a bisection on the versions of nibabel to find this out?

1.2.0
Ref: http://nipy.org/nibabel/changelog.html#changelog",nan,nan
24,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-16 09:51:20,">Kamalakar, do you want to do it (change the CI and the specified versions in the docs and in our checks, grep the code to make sure that we don't have compatibility layers that are lying around for version 1.1.0), and send a PR. We'll review it, merge it, and Julia can then rebase on master to get rid of these issues.

I am going to try it. Soon do a PR.",nan,nan
25,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-16 09:58:40,Bumping the requirement to 1.2.0 can fix freesurfer but not argument failure ```intent``` from class gifti.GiftiDataArray ? Any hints with @juhuntenburg ,nan,nan
26,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-16 09:59:08,">Also, @KamalakerDadi did you get my e-mail on the report?

I got it. Thanks. I need to go through it.",nan,nan
148,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-16 10:08:12,Documentation for 'description' is missing here.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
149,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-16 10:13:13,"I am in favour of like this:

- 'labels' : list
            Contains labels defined to regions.

Same with 'map_left' : numpy.ndarray
                               index into 'labels' for each vertex on the left hemishpere
                               of the fsaverage5 surface

Also, could you correct spelling of ""hemishpere"" to ""hemisphere""",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
150,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-16 10:15:06,Indents are missing in my previous comment. Also a worth to check. Useful for doc build with sphinx.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
27,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-16 13:32:22,">Can anyone give me a hint on what might be going on with the destrieux datafetcher test, i.e. what could be the reason it fails since I added the test setup / teardown decorators?

I cannot reproduce the failure. May be I am missing something.

I think it is better to rebase after NiBabel bump PR is merged to get rid of atleast some failures and then fix remaining ones.",nan,nan
151,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-17 13:46:32,"Saying that it's ""pial"" is missing in the comment. Like as you said below with inflated.",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_atlas.py')"
152,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-17 13:54:44,What you retrieve here is bunch of templates. May be we need to update that we retrieve templates and then pick one specific template as a background for plotting. For clarity sake.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_atlas.py')"
153,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2017-02-17 14:01:42,"Not sure if I understand. It is the same template, just once inflated and once not inflated. Should I add that?",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_atlas.py')"
28,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-17 14:28:56,">Don't test the loading functions to recognize missing intents when loading gifti

If I understood correctly, you want to test the function only for newest version. i.e. nibabel 2.1.
Using ```LooseVersion``` can be helpful if I am correct.
```python
from distutils.version import LooseVersion
```",nan,nan
154,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-17 14:37:08,"Yeah I agree. But you have bunch of templates in fsaverage not one template. I would just write ""Retrieving fsaverage5 surface based templates and use them for plotting"" ",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_atlas.py')"
155,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2017-02-17 14:37:39,Done,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_atlas.py')"
156,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2017-02-17 14:37:42,"Done
",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_atlas.py')"
157,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2017-02-17 14:39:29,"Oh didnt see your comment. I did something slightly different: 
""Retrieve fsaverage5 surface dataset, which contains pial and inflated version of the surface template as well as sulcal depth maps""",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_atlas.py')"
29,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-17 15:12:45,"Same as like with argument ```intent```, we have similar no attribute errors with ```write_morph_data``` and ```write_geometry```with older versions.",nan,nan
158,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-17 15:16:19,Empty line missing below.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(36, '', u'nilearn/datasets/atlas.py')"
30,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-17 15:27:59,"I would rather say doing version check and run tests passing with latest nibabel versions. As users now a days are mostly updating to most recent versions. Mostly, few users will have older versions. We can also have opinions from @GaelVaroquaux @AlexandreAbraham ",nan,nan
159,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-17 15:36:39,"Here, we have some documentation misalignent problems.

 ""data"" can be aligned right below ----------- and missing ""empty line"" between (dictionary-like object, contains:) and (- 'labels' : list) and no space before colon for return argument 'labels' and missing empty line between each return argument.",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
160,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-17 15:54:56,"Actually, I saw tests you test with 76 labels but you have written 74 here ? Can you tell me difference ?",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
161,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-17 15:57:52,I just saw other fetchers. They have return arguments in double quotes but not single quotes. May be that's why sphix fails. Can you also correct them ?,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
162,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-17 16:39:47,Could you tell me why index to labels are 10242 but not 76 ?,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/tests/test_atlas.py')"
31,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-17 16:50:29,"Reminder: Just in case, if you have forgot to add tests for NKI fetcher.",nan,nan
39,issue_comment,1016,nilearn,nilearn,codecov[bot],2017-02-21 18:19:14,"# [Codecov](https://codecov.io/gh/nilearn/nilearn/pull/1016?src=pr&el=h1) Report
> Merging [#1016](https://codecov.io/gh/nilearn/nilearn/pull/1016?src=pr&el=desc) into [master](https://codecov.io/gh/nilearn/nilearn/commit/e5ecaa0af59bd3f5720e0d4dc97a14e638e2b63e?src=pr&el=desc) will **decrease** coverage by `-0.29%`.
> The diff coverage is `96.13%`.


```diff
@@            Coverage Diff             @@
##           master    #1016      +/-   ##
==========================================
- Coverage    94.3%   94.02%   -0.29%     
==========================================
  Files         116      118       +2     
  Lines       12896    13310     +414     
==========================================
+ Hits        12162    12515     +353     
- Misses        734      795      +61
```


| [Impacted Files](https://codecov.io/gh/nilearn/nilearn/pull/1016?src=pr&el=tree) | Coverage Δ | |
|---|---|---|
| [nilearn/datasets/__init__.py](https://codecov.io/gh/nilearn/nilearn/compare/e5ecaa0af59bd3f5720e0d4dc97a14e638e2b63e...bd7e4dbe7846e6a85814274c8e1e8a8b9981c414?src=pr&el=tree#diff-bmlsZWFybi9kYXRhc2V0cy9fX2luaXRfXy5weQ==) | `100% <ø> (ø)` | :white_check_mark: |
| [nilearn/plotting/tests/test_surf_plotting.py](https://codecov.io/gh/nilearn/nilearn/compare/e5ecaa0af59bd3f5720e0d4dc97a14e638e2b63e...bd7e4dbe7846e6a85814274c8e1e8a8b9981c414?src=pr&el=tree#diff-bmlsZWFybi9wbG90dGluZy90ZXN0cy90ZXN0X3N1cmZfcGxvdHRpbmcucHk=) | `100% <100%> (ø)` | |
| [nilearn/datasets/atlas.py](https://codecov.io/gh/nilearn/nilearn/compare/e5ecaa0af59bd3f5720e0d4dc97a14e638e2b63e...bd7e4dbe7846e6a85814274c8e1e8a8b9981c414?src=pr&el=tree#diff-bmlsZWFybi9kYXRhc2V0cy9hdGxhcy5weQ==) | `96.13% <100%> (+0.3%)` | :white_check_mark: |
| [nilearn/datasets/tests/test_atlas.py](https://codecov.io/gh/nilearn/nilearn/compare/e5ecaa0af59bd3f5720e0d4dc97a14e638e2b63e...bd7e4dbe7846e6a85814274c8e1e8a8b9981c414?src=pr&el=tree#diff-bmlsZWFybi9kYXRhc2V0cy90ZXN0cy90ZXN0X2F0bGFzLnB5) | `100% <100%> (ø)` | :white_check_mark: |
| [nilearn/datasets/tests/test_struct.py](https://codecov.io/gh/nilearn/nilearn/compare/e5ecaa0af59bd3f5720e0d4dc97a14e638e2b63e...bd7e4dbe7846e6a85814274c8e1e8a8b9981c414?src=pr&el=tree#diff-bmlsZWFybi9kYXRhc2V0cy90ZXN0cy90ZXN0X3N0cnVjdC5weQ==) | `100% <100%> (ø)` | :white_check_mark: |
| [nilearn/datasets/tests/test_func.py](https://codecov.io/gh/nilearn/nilearn/compare/e5ecaa0af59bd3f5720e0d4dc97a14e638e2b63e...bd7e4dbe7846e6a85814274c8e1e8a8b9981c414?src=pr&el=tree#diff-bmlsZWFybi9kYXRhc2V0cy90ZXN0cy90ZXN0X2Z1bmMucHk=) | `100% <100%> (ø)` | :white_check_mark: |
| [nilearn/datasets/struct.py](https://codecov.io/gh/nilearn/nilearn/compare/e5ecaa0af59bd3f5720e0d4dc97a14e638e2b63e...bd7e4dbe7846e6a85814274c8e1e8a8b9981c414?src=pr&el=tree#diff-bmlsZWFybi9kYXRhc2V0cy9zdHJ1Y3QucHk=) | `90.9% <100%> (+2.02%)` | :white_check_mark: |
| [nilearn/plotting/__init__.py](https://codecov.io/gh/nilearn/nilearn/compare/e5ecaa0af59bd3f5720e0d4dc97a14e638e2b63e...bd7e4dbe7846e6a85814274c8e1e8a8b9981c414?src=pr&el=tree#diff-bmlsZWFybi9wbG90dGluZy9fX2luaXRfXy5weQ==) | `78.94% <100%> (+1.16%)` | :white_check_mark: |
| [nilearn/datasets/func.py](https://codecov.io/gh/nilearn/nilearn/compare/e5ecaa0af59bd3f5720e0d4dc97a14e638e2b63e...bd7e4dbe7846e6a85814274c8e1e8a8b9981c414?src=pr&el=tree#diff-bmlsZWFybi9kYXRhc2V0cy9mdW5jLnB5) | `88.83% <87.87%> (-0.3%)` | :x: |
| [nilearn/plotting/surf_plotting.py](https://codecov.io/gh/nilearn/nilearn/compare/e5ecaa0af59bd3f5720e0d4dc97a14e638e2b63e...bd7e4dbe7846e6a85814274c8e1e8a8b9981c414?src=pr&el=tree#diff-bmlsZWFybi9wbG90dGluZy9zdXJmX3Bsb3R0aW5nLnB5) | `91.44% <91.44%> (ø)` | |
| ... and [15 more](https://codecov.io/gh/nilearn/nilearn/pull/1016?src=pr&el=tree-more) | |

------

[Continue to review full report at Codecov](https://codecov.io/gh/nilearn/nilearn/pull/1016?src=pr&el=continue).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/nilearn/nilearn/pull/1016?src=pr&el=footer). Last update [e5ecaa0...ba96ad6](https://codecov.io/gh/nilearn/nilearn/compare/e5ecaa0af59bd3f5720e0d4dc97a14e638e2b63e...ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1?src=pr&el=footer&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).",nan,nan
163,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2017-02-22 08:16:25,"One label is ""Unknown"" and one is ""Medial wall"", so only 74 real labels. Still seems kind of confusing, I'll fix it",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'nilearn/datasets/atlas.py')"
32,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-22 08:55:49,I am going to add tests for NKI fetcher.,nan,nan
164,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-22 16:21:54,Can you add ```b'G_cingul-Post-dorsal'``` to make it to unicode. If not fails with Python 3.,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
165,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-22 17:23:38,```load_surf_data``` data loader should be in datasets.py or no ?,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(89, '', u'examples/01_plotting/plot_surf_stat_map.py')"
33,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-23 08:18:09,">I added a test, but not entirely sure if this is how it should be. Maybe you can have a look and take it from there?

Tests you have added are good. I think its no need to take.",nan,nan
34,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-23 08:18:24,Can you please rebase onto master ?,nan,nan
35,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-23 08:27:37,">@KamalakerDadi I just addressed your small comments regarding sphinx, let me know if that fixes it

Sphinx issues are mostly of documentation. We can fix travis and then move on to sphinx.",nan,nan
166,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2017-02-23 10:18:17,no i dont think so ,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(89, '', u'examples/01_plotting/plot_surf_stat_map.py')"
167,pull_request_commit_comment,1016,nilearn,nilearn,juhuntenburg,2017-02-23 10:19:05,done,ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(None, '', u'examples/01_plotting/plot_surf_stat_map.py')"
36,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-23 10:20:25,We decided to skip tests.,nan,nan
168,pull_request_commit_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-23 10:21:49,"imports needs to be reordered. More general to local.
import os
import tempfile

import nibabel
......",ba96ad67f4d0eb3f9265aadfdc0e856dc290f8c1,"(1, '', u'nilearn/plotting/tests/test_surf_plotting.py')"
37,issue_comment,1016,nilearn,nilearn,KamalakerDadi,2017-02-23 10:33:18,Thanks for fixing conflicts and rebasing. I will do the rest.,nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
4,issue_comment,916,nilearn,nilearn,pbellec,2015-12-16 14:46:12,"Thanks @GaelVaroquaux for opening this issue. I had a look at what's involved. Looks like it needs
1. a description file urchs_2015.rst under datasets/description
2. the code to actually download the dataset should be added in datasets/atlas.py
3. a test to check the integrity of the download should be added in tests/test_atlas.py

Can you please confirm I am not missing anything? I can certainly draft (1). Could give a shot at (2) and (3) by adapting code for other templates, let me know what you think. 
",nan,nan
3,issue_comment,916,nilearn,nilearn,AlexandreAbraham,2016-02-17 14:37:42,"Fixed in #984 
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
3,issue_comment,30,nilearn,nilearn,GaelVaroquaux,2013-10-11 11:34:57,"@eickenberg : now that the Kamitani data is online, and that we have a working code in the frontiers to demo it, do you think that you could work on merging this into nilearn?

Talk to @AlexandreAbraham on how this should be done.
",nan,nan
6,issue_comment,30,nilearn,nilearn,AlexandreAbraham,2013-10-11 12:06:31,"The miyawaki (ex-kamitani) example has been merged. Are you talking about the advanced aspects of the example ? (retinotopic mapping...)
",nan,nan
4,issue_comment,30,nilearn,nilearn,GaelVaroquaux,2013-10-11 12:07:38,"> The miyawaki (ex-kamitani) example has been merged.

Good. As the issue was still open, I hadn't realized.

> re you talking about the advanced aspects of the example ? (retinotopic
> mapping...)

We should probably have an advanced example for that.
",nan,nan
7,issue_comment,30,nilearn,nilearn,AlexandreAbraham,2013-10-11 12:09:11,"As Michael and I will be attending a conference together this week end, I guess that we could use that time to set up a nice example ;). The code exists, it's just a matter of copy/paste/clean.
",nan,nan
5,issue_comment,30,nilearn,nilearn,GaelVaroquaux,2013-10-11 12:13:10,"Awesome. I am asking because we just got some heat from cog-neuro people
to teach them Nilearn. So we need better examples and documentation...
",nan,nan
8,issue_comment,30,nilearn,nilearn,eickenberg,2014-03-31 15:48:23,"I'm interested. Would this be basically the same thing as we have already
done or are there extra dimensions?

On Mon, Mar 31, 2014 at 5:44 PM, Alexandre Abraham <notifications@github.com

> wrote:
> 
> Okay, this one is old. I'll put it back on my todo-list. @eickenberghttps://github.com/eickenbergdo you feel like working on it? The goal would be to make an example out of
> the study we made in the frontiers paper. If you want to work on it, please
> let me know, I already started a while ago but drop it because of higher
> priorities.
> 
> ## 
> 
> Reply to this email directly or view it on GitHubhttps://github.com/nilearn/nilearn/issues/30#issuecomment-39104048
> .
",nan,nan
9,issue_comment,30,nilearn,nilearn,eickenberg,2014-03-31 15:55:23,"OK cool

On Mon, Mar 31, 2014 at 5:51 PM, Alexandre Abraham <notifications@github.com

> wrote:
> 
> I was thinking of putting the exact same thing but you can improve it if
> you want. I've already done some work to generate the figures entirely in
> matplotlib instead of relying on an external latex files (which is
> mandatory for nilearn examples).
> 
> I can initiate a PR and then we could work on it.
> 
> ## 
> 
> Reply to this email directly or view it on GitHubhttps://github.com/nilearn/nilearn/issues/30#issuecomment-39104855
> .
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
5,pull_request_commit_comment,1008,nilearn,nilearn,GaelVaroquaux,2016-02-24 16:27:09,"Shouldn't we be using a _safe_get_data? I am worried about the sideeffect.
",59115ddf599966611387fb6083f3e423c114c3d8,"(22, '', u'nilearn/plotting/img_plotting.py')"
6,pull_request_commit_comment,1008,nilearn,nilearn,AlexandreAbraham,2016-02-24 16:49:15,"I was going to open an issue about that. The original code used `get_data()` so I kept it to minimize the impact of the PR.
",59115ddf599966611387fb6083f3e423c114c3d8,"(22, '', u'nilearn/plotting/img_plotting.py')"
 , , , , , , , , , 
 , , , , , , , , , 
5,issue_comment,1002,nilearn,nilearn,GaelVaroquaux,2016-02-23 09:48:10,"OK, @KamalakerDadi has modified the whats_new. This is ready to merge. Please, one more review and merge away!
",nan,nan
6,issue_comment,1002,nilearn,nilearn,AlexandreAbraham,2016-02-23 10:33:45,"LGTM. I'll merge after lunch if CircleCI is happy :)
",nan,nan
7,issue_comment,1002,nilearn,nilearn,GaelVaroquaux,2016-02-23 11:53:22,":beers: !
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
3,issue_comment,1000,nilearn,nilearn,GaelVaroquaux,2016-02-19 14:54:12,"We can't have a build matrix. That would be too costly. 

I might be convinced to change the default python to 3 on circle,  though

Sent from my phone. Please forgive brevity and mis spelling

On Feb 19, 2016, 15:50, at 15:50, Arthur Mensch notifications@github.com wrote:

> Given the issue #999 #998, it would be a good idea to run the example
> set in Python 3. Does CircleCI allows build matrix ?
> 
> By the way this is the issue #1000, cheers
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/issues/1000
",nan,nan
4,issue_comment,1000,nilearn,nilearn,lesteve,2016-03-02 14:27:47,"Have you tried running the examples examples/02_decoding/plot_mixed_gambles_space_net.py with python 3 ?
",nan,nan
5,issue_comment,1000,nilearn,nilearn,lesteve,2016-03-02 14:56:59,"Have you seen that @arthurmensch opened the issue #998 and #999? Looks like you fixed #999 already maybe you want to open a PR for it.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
18,pull_request_commit_comment,977,nilearn,nilearn,lesteve,2016-02-04 12:16:27,"If you are unsure about something, it is better to add a comment on github to get the discussion going rather than in the source file.

Why not use threshold=edge_threshold here?
",9015f5a2107488473db1fa12bae0e5e40275b2d3,"(None, '', u'nilearn/plotting/displays.py')"
4,issue_comment,977,nilearn,nilearn,KamalakerDadi,2016-02-05 12:15:34,"Any reviews on this PR ?
",nan,nan
5,issue_comment,977,nilearn,nilearn,lesteve,2016-02-05 12:32:33,"> Any reviews on this PR ?

Should we use an existing example to demonstrate this feature?
",nan,nan
19,pull_request_commit_comment,977,nilearn,nilearn,lesteve,2016-02-05 12:35:41,"Should it be True by default? Just asking, no strong opinion about that.
",9015f5a2107488473db1fa12bae0e5e40275b2d3,"(51, '', u'nilearn/plotting/img_plotting.py')"
20,pull_request_commit_comment,977,nilearn,nilearn,lesteve,2016-02-05 12:37:26,"Keep the parenthesis and colon on the line above.
",9015f5a2107488473db1fa12bae0e5e40275b2d3,"(109, '', u'nilearn/plotting/displays.py')"
6,issue_comment,977,nilearn,nilearn,KamalakerDadi,2016-02-05 12:40:36,"> Should we use an existing example to demonstrate this feature?

Yes but I am not sure which one? 

Also I am not sure whether we normalize on (vmin, vmax) or (0, vmax) ?
For example below one, we have vmin values always even if the threshold is high 98%. Any suggestions are welcome.

![colorbar_woblue](https://cloud.githubusercontent.com/assets/11410385/12846623/d7512c4e-cc0d-11e5-98c6-79b40446787b.png)
",nan,nan
21,pull_request_commit_comment,977,nilearn,nilearn,KamalakerDadi,2016-02-05 12:43:51,"I prefer to be False since glass brain is overlapped with colorbar as you can see in recent picture I posted. May be some code lines to tweak ?
",9015f5a2107488473db1fa12bae0e5e40275b2d3,"(51, '', u'nilearn/plotting/img_plotting.py')"
22,pull_request_commit_comment,977,nilearn,nilearn,lesteve,2016-02-05 12:51:18,"This is very clever but a bit nasty. Basically you noticed that the `im` argument of _colorbar_show only needed a  `.cmap` and a `.norm` and you defined it appropriately on the GlassBrainAxes instance so that everything just works when you pass a GlassBrainAxes instance to _colorbar_show.

I am wondering whether the signature of the _colorbar_show function to have a `norm` and a `cmap` object and refactor the code accordingly. You will probably need to move the vmin, vmax computation here too rather than _add_lines so that you have both cmap and norm available here.
",9015f5a2107488473db1fa12bae0e5e40275b2d3,"(None, '', u'nilearn/plotting/displays.py')"
23,pull_request_commit_comment,977,nilearn,nilearn,KamalakerDadi,2016-02-05 12:54:07,"> This is very clever but a bit nasty.

Given the code I have and given the number of different classes inheritances I have. I have no other choice to move forward.
",9015f5a2107488473db1fa12bae0e5e40275b2d3,"(None, '', u'nilearn/plotting/displays.py')"
24,pull_request_commit_comment,977,nilearn,nilearn,lesteve,2016-02-05 12:54:45,"1. There is no overlapping in the first pictures you posted. Did you change the size of the figure?
2. This is not a great argument about which default to chose ...
",9015f5a2107488473db1fa12bae0e5e40275b2d3,"(51, '', u'nilearn/plotting/img_plotting.py')"
25,pull_request_commit_comment,977,nilearn,nilearn,KamalakerDadi,2016-02-05 12:55:36,"> Basically you noticed that the im argument of _colorbar_show only needed a .cmap and a >.norm and you defined it appropriately on the GlassBrainAxes instance so that everything just > works when you pass a GlassBrainAxes instance to _colorbar_show.

Yes
",9015f5a2107488473db1fa12bae0e5e40275b2d3,"(None, '', u'nilearn/plotting/displays.py')"
26,pull_request_commit_comment,977,nilearn,nilearn,KamalakerDadi,2016-02-05 12:59:40,"> There is no overlapping in the first pictures you posted. Did you change the size of the figure?

I tweaked a bit manually.

> This is not a great argument about which default to chose ...

I am open to any choice. Just that I mentioned what is happening
",9015f5a2107488473db1fa12bae0e5e40275b2d3,"(51, '', u'nilearn/plotting/img_plotting.py')"
27,pull_request_commit_comment,977,nilearn,nilearn,AlexandreAbraham,2016-02-05 13:02:47,"> Given the code I have and given the number of different classes inheritances I have. I have no other choice to move forward.

I don't see anything nasty here... He is using a method of its own class, this is totally legit.

The question is whether we accept to have this hack until somebody decide to clean this code.
",9015f5a2107488473db1fa12bae0e5e40275b2d3,"(None, '', u'nilearn/plotting/displays.py')"
7,issue_comment,977,nilearn,nilearn,KamalakerDadi,2016-02-05 13:05:18,"> I am wondering whether the signature of the _colorbar_show function to have a norm and a cmap >object and refactor the code accordingly. You will probably need to move the vmin, vmax >computation here too rather than _add_lines so that you have both cmap and norm available here.

That's doable. But it was not clear enough to me in the issue discussion.
",nan,nan
28,pull_request_commit_comment,977,nilearn,nilearn,KamalakerDadi,2016-02-05 13:31:12,"> clean this code

meaning specific to colorbar with common usage to both `plot_stat_map` and `plot_connectome`
",9015f5a2107488473db1fa12bae0e5e40275b2d3,"(None, '', u'nilearn/plotting/displays.py')"
29,pull_request_commit_comment,977,nilearn,nilearn,lesteve,2016-02-05 13:34:55,"> I don't see anything nasty here... He is using a method of its own class, this is totally legit.

The `im` argument in _colorbar_show is expected to be some kind of image object as produced by plt.imshow (matplotlib.image.AxesImage), hence the name. At least this is what happening in the rest of the code. Suddenly you are passing some kind of axis object which is very surprising. ""How can that even work"" is how I felt until I realised that the .cmap and .norm attributes were set on the GlassBrainAxes instance just for the sole purpose of making _colorbar_show work.

> The question is whether we accept to have this hack until somebody decide to clean this code.

I would say yes if we want this to be in the release. Clear no, otherwise, but that just my feeling.

I don't think it is that much work to do what I proposed. There may be better alternatives too.
",9015f5a2107488473db1fa12bae0e5e40275b2d3,"(None, '', u'nilearn/plotting/displays.py')"
30,pull_request_commit_comment,977,nilearn,nilearn,KamalakerDadi,2016-02-05 13:37:49,"> I don't think it is that much work to do what I proposed.

Does this specific to only `plot_connectome` ?
",9015f5a2107488473db1fa12bae0e5e40275b2d3,"(None, '', u'nilearn/plotting/displays.py')"
31,pull_request_commit_comment,977,nilearn,nilearn,AlexandreAbraham,2016-02-05 14:23:55,"> Suddenly you are passing some kind of axis object which is very surprising. ""How can that even work"" is how I felt until I realised that the .cmap and .norm attributes were set on the GlassBrainAxes instance just for the sole purpose of making _colorbar_show work.

By definition, the classes defined here with suffix ""Axes"" are supposed to be classes compatible with matplotlib Axes in order to be able to feed them to functions that are supposed to process Axes... So, in my sense, this hack makes sense in that context.

I mean, this hack is not nastier than the whole system already is.
",9015f5a2107488473db1fa12bae0e5e40275b2d3,"(None, '', u'nilearn/plotting/displays.py')"
32,pull_request_commit_comment,977,nilearn,nilearn,lesteve,2016-02-05 15:00:15,"> By definition, the classes defined here with suffix ""Axes"" are supposed to be classes compatible with matplotlib Axes in order to be able to feed them to functions that are supposed to process Axes... So, in my sense, this hack makes sense in that context.

Is that actually true? I thought they were just wrapping a matplotlib Axes through their `.ax` attribute.
",9015f5a2107488473db1fa12bae0e5e40275b2d3,"(None, '', u'nilearn/plotting/displays.py')"
33,pull_request_commit_comment,977,nilearn,nilearn,AlexandreAbraham,2016-02-05 15:09:54,"Docstring says `An MPL axis-like object`, this is why I've always believed that.
",9015f5a2107488473db1fa12bae0e5e40275b2d3,"(None, '', u'nilearn/plotting/displays.py')"
8,issue_comment,977,nilearn,nilearn,AlexandreAbraham,2016-02-16 13:25:18,"I am not comfortable with the idea of a PR that adds a feature and refactor a part of the code at the same time. Can we merge it and do the refactoring in another PR?
",nan,nan
9,issue_comment,977,nilearn,nilearn,GaelVaroquaux,2016-02-16 15:22:35,"From what I understood in the discussion, the layout by default isn't always good? Looking at the pictures that are posted in the discussion, I have the feeling that they were resized manually. Is this the case?

If the layout isn't right by default, it's probably something that we need to address.
",nan,nan
10,issue_comment,977,nilearn,nilearn,lesteve,2016-02-16 15:35:02,"> From what I understood in the discussion, the layout by default isn't always good?

That's my understanding too. There is a comment by @KamalakerDadi that seems to indicate so: https://github.com/nilearn/nilearn/pull/977#discussion_r52012514.

> If the layout isn't right by default, it's probably something that we need to address.

Yup. I am hazarding a wild guess, it may be the case that there is some code to leave some additional space for the colorbar that is not inherited in the plot_connectome case.
",nan,nan
11,issue_comment,977,nilearn,nilearn,GaelVaroquaux,2016-02-16 17:02:36,"> Yup. I am hazarding a wild guess, it may be the case that there is some
> code to leave some additional space for the colorbar that is not
> inherited in the plot_connectome case.

Agreed.
",nan,nan
34,pull_request_commit_comment,977,nilearn,nilearn,GaelVaroquaux,2016-02-22 13:51:58,"@lesteve : I disagree: such a layout makes it easy to add new arguments. It's actually good practice to do this in Python.
",9015f5a2107488473db1fa12bae0e5e40275b2d3,"(109, '', u'nilearn/plotting/displays.py')"
12,issue_comment,977,nilearn,nilearn,GaelVaroquaux,2016-02-22 14:16:49,"@lesteve : we addressed your comment on the fact that we were a bit hacking the _show_colorbar function signature by changing it to be more explicit.

We also fixed the positioning of the locator. Once circleci finishes running, this will be visible from the examples/03_connectivity/plot_probabilistic_atlas_extraction.py example.
",nan,nan
13,issue_comment,977,nilearn,nilearn,GaelVaroquaux,2016-02-22 16:48:50,"LGTM. The colorbar is now rendering well by default, as can be seen in the following example:
https://circle-artifacts.com/gh/nilearn/nilearn/1259/artifacts/0/home/ubuntu/nilearn/doc/_build/html/auto_examples/03_connectivity/plot_probabilistic_atlas_extraction.html

One thing to do: add an entry to whats_new.

:+1: for merge after this.
",nan,nan
14,issue_comment,977,nilearn,nilearn,KamalakerDadi,2016-02-22 16:59:56,"> One thing to do: add an entry to whats_new.

Ok, I am on it.

Also, by default `colorbar=True` ?
",nan,nan
15,issue_comment,977,nilearn,nilearn,GaelVaroquaux,2016-02-22 17:02:03,"> Also, by default colorbar=True ?

I'd rather not. Nine times out of ten the info plotted is not
quantitative.
",nan,nan
16,issue_comment,977,nilearn,nilearn,GaelVaroquaux,2016-02-22 17:47:13,"I made a new PR in https://github.com/nilearn/nilearn/pull/1002 because the history got tangled.
",nan,nan
17,issue_comment,977,nilearn,nilearn,KamalakerDadi,2016-02-23 09:07:41,"closing this one as I messed up with this. You can follow the same PR in a cleaned mode at #1002 
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
27,pull_request_commit_comment,976,nilearn,nilearn,GaelVaroquaux,2016-02-02 11:12:06,"What if total_size is None? (which is possible given the code above)
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
28,pull_request_commit_comment,976,nilearn,nilearn,GaelVaroquaux,2016-02-02 11:14:50,"I think that I would prefer having an iteration counter of the ""while"" loop, and reporting only if that iteration counter is an integer fraction of report_frequency, ie

<pre>
if i // report_frequency == 1:
   report
</pre>


I find that such a logic is more robust than a logic on the chunk size (and easier to read).
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
29,pull_request_commit_comment,976,nilearn,nilearn,aabadie,2016-02-02 12:32:26,"If total_size is None, the whole remaining content is downloaded. So normally it's not None at this point.
see https://github.com/nilearn/nilearn/pull/976/files#diff-c22120ae66106d07e452aed0f968c08eR150
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
30,pull_request_commit_comment,976,nilearn,nilearn,aabadie,2016-02-02 12:32:47,"Indeed, I'll try to make this clearer.
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
31,pull_request_commit_comment,976,nilearn,nilearn,aabadie,2016-02-02 13:07:26,"Reading at the code more carefully, total_size can be None, in case of a failure. See https://github.com/nilearn/nilearn/pull/976/files#diff-c22120ae66106d07e452aed0f968c08eR158
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
32,pull_request_commit_comment,976,nilearn,nilearn,aabadie,2016-02-02 13:19:55,"Using modulo operator makes things clearer.
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
5,issue_comment,976,nilearn,nilearn,GaelVaroquaux,2016-02-02 13:40:07,"I would still like some progress on circleCI, to be able to debug download problems. 

Sent from my phone. Please forgive brevity and mis spelling

On Feb 2, 2016, 14:37, at 14:37, ""Loïc Estève"" notifications@github.com wrote:

> > This is what I first tried but this totally disable the output. I
> > prefer having a subset of messages instead.
> > 
> > Indeed, CircleCI replaces carriage returns (\r) by newlines.
> 
> Just to reiterate, we are looking for a CircleCI-specific work-around
> here, because CircleCI changes '\r' into newlines. On a terminal I am
> not sure you would only change the rate of refresh and I am not
> convinced this would be really useful. This is why I was saying that
> setting verbose=0 in CircleCI seemed to do the job well enough.
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/976#issuecomment-178576602
",nan,nan
6,issue_comment,976,nilearn,nilearn,aabadie,2016-02-02 13:45:53,"still about playing on verbose default value, with the current design setting `verbose=2` to keep the same behaviour as the one with `verbose=1` has a global impact.
In the end, I prefer my change, which is less intrusive: it fixes the initial problem but doesn't change the default behaviour.
",nan,nan
7,issue_comment,976,nilearn,nilearn,aabadie,2016-02-02 15:38:22,"> CircleCI replaces carriage returns (\r) by newlines.

Looking at the behavior on circle ci, to me the problem is more due to the refresh rate. The default behaviour (update the line each time a block 8192 bytes is downloaded) is too fast and circle CI cannot handle correctly the '\r'. There are other places where writing to `sys.stderr` is used and the problem doesn't happen because the time between 2 displays is long enough for circle ci output to handle the '\r' correctly.
Renaming `report_frequency` with `report_updates` would probably better reflect what this option actually does. Maybe we can use a higher fixed value (something like 100) and remove all CIRCLECI related code.
",nan,nan
8,issue_comment,976,nilearn,nilearn,GaelVaroquaux,2016-02-02 15:40:43,"What you're suggesting is to say that we don't update more than eg once a
second might fix the problem? That would be awesome.
",nan,nan
9,issue_comment,976,nilearn,nilearn,aabadie,2016-02-02 15:43:47,"> What you're suggesting is to say that we don't update more than eg once a second might fix the problem? That would be awesome.

I looked at the output on circle (with the change of this PR) and noticed that each 4 lines (`Downloaded xx% ...`) were displayed and correctly overwritten.
",nan,nan
10,issue_comment,976,nilearn,nilearn,GaelVaroquaux,2016-02-02 15:50:44,"> ```
> we don't update more than eg once a second might fix the problem?
> ```
> 
> I looked at the output on circle (with the change of this PR) and
> noticed that each 4 lines (Downloaded xx% ...) were displayed and
> correctly overwritten.

OK, let's try a rule with ""no update more than once a second"" then, and
see what it gives.
",nan,nan
11,issue_comment,976,nilearn,nilearn,AlexandreAbraham,2016-02-02 15:52:02,"> I looked at the output on circle (with the change of this PR) and noticed that each 4 lines (Downloaded xx% ...) were displayed and correctly overwritten.

OK, the behavior of the output is very strange... For example:

```
Downloading data from https://www.nitrc.org/frs/download.php/7783/adhd40_0010064.tgz ...
Downloading data from https://www.nitrc.org/frs/download.php/7784/adhd40_0010128.tgz ...
Downloading data from https://www.nitrc.org/frs/download.php/7785/adhd40_0021019.tgz ...
Downloading data from https://www.nitrc.org/frs/download.php/7786/adhd40_0023008.tgz ...
Downloading data from https://www.nitrc.org/frs/download.php/7787/adhd40_0023012.tgz ...
Downloading data from https://www.nitrc.org/frs/download.php/7788/adhd40_0027011.tgz ...
Downloading data from https://www.nitrc.org/frs/download.php/7789/adhd40_0027018.tgz ...
Downloading data from https://www.nitrc.org/frs/download.php/7790/adhd40_0027034.tgz ...
Downloading data from https://www.nitrc.org/frs/download.php/7791/adhd40_0027037.tgz ...
Downloading data from https://www.nitrc.org/frs/download.php/7792/adhd40_1019436.tgz ...
Downloading data from https://www.nitrc.org/frs/download.php/7793/adhd40_1206380.tgz ...
Downloading data from https://www.nitrc.org/frs/download.php/7794/adhd40_1418396.tgz ...
Downloading data from https://www.nitrc.org/frs/download.php/7795/adhd40_1517058.tgz ...
Downloading data from https://www.nitrc.org/frs/download.php/7796/adhd40_1552181.tgz ...
Downloading data from https://www.nitrc.org/frs/download.php/7797/adhd40_1562298.tgz ...
Downloading data from https://www.nitrc.org/frs/download.php/7798/adhd40_1679142.tgz ...
Downloading data from https://www.nitrc.org/frs/download.php/7799/adhd40_2014113.tgz ...
Downloading data from https://www.nitrc.org/frs/download.php/7800/adhd40_2497695.tgz ...
Downloading data from https://www.nitrc.org/frs/download.php/7801/adhd40_2950754.tgz ...
Downloaded 67925261 of 67925261 bytes (100.00%,    0.0s remaining) ...done. (67.9253 MB, 12 seconds, 0 min)
Extracting data from /home/ubuntu/nilearn_data/adhd/358cf54c801c6157e7ce6865e8dd53e2/adhd40_3007585.tgz..... done.

Downloaded 32919780 of 32919780 bytes (100.00%,    0.0s remaining) ...done. (32.9198 MB, 8 seconds, 0 min)
Extracting data from /home/ubuntu/nilearn_data/adhd/358cf54c801c6157e7ce6865e8dd53e2/adhd40_3154996.tgz..... done.
```

Here, the ""Downloaded..."" messages should be after each ""Downloading..."" line. I won't try to understand what's happening but, if it is okay just to print less, I'll be happy!
",nan,nan
12,issue_comment,976,nilearn,nilearn,aabadie,2016-02-02 16:50:24,">  I won't try to understand what's happening but, if it is okay just to print less, I'll be happy!

Looking at the current build on circle ci, the last commit of this PR works like a charm ! no more output flooding, one can see the download progression for each % (now it's an int, we don't need 2 precision digits).
Tell me if this makes you happy.
",nan,nan
33,pull_request_commit_comment,976,nilearn,nilearn,aabadie,2016-02-02 16:56:09,"I made a typo here (_of_ should be _or_)
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
13,issue_comment,976,nilearn,nilearn,GaelVaroquaux,2016-02-02 17:27:33,"Indeed, it does look great now. Thanks a lot. +1 for merge!
",nan,nan
34,pull_request_commit_comment,976,nilearn,nilearn,aabadie,2016-02-03 08:58:20,"Typo is fixed.
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
14,issue_comment,976,nilearn,nilearn,aabadie,2016-02-03 08:58:49,"is it ok for you @AlexandreAbraham ?
",nan,nan
15,issue_comment,976,nilearn,nilearn,AlexandreAbraham,2016-02-03 09:47:16,"I'm OK to set the update ""per percent"" on CircleCI but I don't see the interest of doing it for the everyday user, when we can do a more regular update. For instance, if I take the biggest file I've ever downloaded through nilearn, 3GB, that means one update per 30MB which means less than one update per minute on my crappy connection @home. With that update rate, I'll never know if the download is ongoing or stalled.

But since I've no strong feeling about that and that situation (downloading big files) is very rare, I will follow the decision made by the others.
",nan,nan
16,issue_comment,976,nilearn,nilearn,GaelVaroquaux,2016-02-03 09:52:39,"> I'm OK to set the update ""per percent"" on CircleCI but I don't see the
> interest of doing it for the everyday user, when we can do a more
> regular update.

I feel the same.

How about a time-based decision: I would like an update every couple of
second. It seems that this would solve the circleCI problem too.
",nan,nan
17,issue_comment,976,nilearn,nilearn,aabadie,2016-02-03 09:55:04,"> How about a time-based decision: I would like an update every couple of second. It seems that this would solve the circleCI problem too.

I agree. I can try to slightly change the output messages with an activity like character just to show that something is running.
",nan,nan
18,issue_comment,976,nilearn,nilearn,GaelVaroquaux,2016-02-03 09:56:22,"> I agree. I can try to slightly change the output messages with an
> activity like character just to show that something is running.

I would also not display percents, but a finer resolution. That would
show progress
",nan,nan
19,issue_comment,976,nilearn,nilearn,aabadie,2016-02-03 09:57:36,"> I would also not display percents, but a finer resolution. That would show progress

Ok
",nan,nan
20,issue_comment,976,nilearn,nilearn,aabadie,2016-02-03 10:31:25,"> How about a time-based decision

Done, the download report is refreshed every half second and looking at circle ci output now, it works.
",nan,nan
35,pull_request_commit_comment,976,nilearn,nilearn,lesteve,2016-02-03 10:42:40,"1e6 is already a float so you don't need float(1e6)
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
36,pull_request_commit_comment,976,nilearn,nilearn,aabadie,2016-02-03 12:28:54,"Removed.
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
37,pull_request_commit_comment,976,nilearn,nilearn,lesteve,2016-02-03 12:31:45,"Another slight niggle: you can use `'... {1:.0f} {2:.0f}'.format(dt, dt // 60)` if you want to print without decimal digit. Also it will round to the closer int in contrast to your method.
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
38,pull_request_commit_comment,976,nilearn,nilearn,lesteve,2016-02-03 12:33:16,"you can do `t0 = t_display = time.time()`
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
39,pull_request_commit_comment,976,nilearn,nilearn,lesteve,2016-02-03 12:34:24,"I would use time_last_read and time_last_report for the variable names.
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
40,pull_request_commit_comment,976,nilearn,nilearn,lesteve,2016-02-03 12:35:15,"time_last_report = time_last_read (rather than time.time())
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
21,issue_comment,976,nilearn,nilearn,aabadie,2016-02-03 12:44:45,"I applied your comments applied @lesteve 
",nan,nan
22,issue_comment,976,nilearn,nilearn,lesteve,2016-02-03 12:46:07,"> I applied your comments applied @lesteve

Thanks. There was a weird Travis failure on the python 2.7 distrib related to pip being unable to install nose-timer. Let's hope it was just a temporary glitch!
",nan,nan
41,pull_request_commit_comment,976,nilearn,nilearn,lesteve,2016-02-03 12:51:18,"Are the 4 decimals really that useful?
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
42,pull_request_commit_comment,976,nilearn,nilearn,lesteve,2016-02-03 12:51:25,"Maybe 2 is good enough.
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
43,pull_request_commit_comment,976,nilearn,nilearn,aabadie,2016-02-03 12:56:05,"> Maybe 2 is good enough.

That's what I used initially, but with very small data, you can have something like 0.0MB downloaded. Maybe a more clever string (using KB, MB, GB) depending on the size could be better.
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
44,pull_request_commit_comment,976,nilearn,nilearn,AlexandreAbraham,2016-02-03 13:00:28,"IMHO, problems in this code may rise from big files, not small ones. I wouldn't spend time on that.
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
45,pull_request_commit_comment,976,nilearn,nilearn,lesteve,2016-02-03 13:02:06,"I see. To be honest you already have the size in bytes on the left (in master):

```
Downloaded 314803244 of 314803244 bytes (100.0%,    0.0s remaining) ...done. (314.8032 MB, 665 seconds, 11 min)
```

so maybe just drop it.
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
46,pull_request_commit_comment,976,nilearn,nilearn,aabadie,2016-02-03 13:04:20,"I pushed a change about this. Tell me if it's ok.
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
47,pull_request_commit_comment,976,nilearn,nilearn,aabadie,2016-02-03 13:11:47,"> so maybe just drop it.

I reverted the change. It's now back to master version.
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
59,pull_request_commit_comment,976,nilearn,nilearn,lesteve,2016-02-03 13:20:59,"Could you move this to the `else` clause above?
",1369e6da2834ed8626e144969bfee7ceab61a91c,"(39, 173, u'nilearn/datasets/utils.py')"
60,pull_request_commit_comment,976,nilearn,nilearn,AlexandreAbraham,2016-02-03 13:45:29,"This is not necessary. After the `break`, this code is directly executed.
",1369e6da2834ed8626e144969bfee7ceab61a91c,"(39, 173, u'nilearn/datasets/utils.py')"
23,issue_comment,976,nilearn,nilearn,AlexandreAbraham,2016-02-03 13:46:45,"I'll merge after circleCI is happy.
",nan,nan
61,pull_request_commit_comment,976,nilearn,nilearn,lesteve,2016-02-03 13:53:10,"Just feels more readable.
",1369e6da2834ed8626e144969bfee7ceab61a91c,"(39, 173, u'nilearn/datasets/utils.py')"
62,pull_request_commit_comment,976,nilearn,nilearn,aabadie,2016-02-03 14:47:47,"I don't see the point, this block is only executed if `report_hook` is True. Or maybe you want the full `if` statement in the `else` clause of the `while` loop ?
",1369e6da2834ed8626e144969bfee7ceab61a91c,"(39, 173, u'nilearn/datasets/utils.py')"
24,issue_comment,976,nilearn,nilearn,AlexandreAbraham,2016-02-03 14:58:57,"CircleCI failure seems unrelated. Can anybody confirm?
",nan,nan
63,pull_request_commit_comment,976,nilearn,nilearn,AlexandreAbraham,2016-02-03 14:59:50,"For me, the current version is more readable. The block is executed at the end of the while loop.
",1369e6da2834ed8626e144969bfee7ceab61a91c,"(39, 173, u'nilearn/datasets/utils.py')"
64,pull_request_commit_comment,976,nilearn,nilearn,lesteve,2016-02-03 15:09:27,"You would have the decision to exit the loop at the same place where you print the last report, that's all.
",1369e6da2834ed8626e144969bfee7ceab61a91c,"(39, 173, u'nilearn/datasets/utils.py')"
25,issue_comment,976,nilearn,nilearn,lesteve,2016-02-03 15:12:09,"> CircleCI failure seems unrelated. Can anybody confirm?

Looks like the download of http://www.nitrc.org/frs/download.php/1071/NYU_TRT_session1a.tar.gz failed.

```
Downloading data from http://www.nitrc.org/frs/download.php/1071/NYU_TRT_session1a.tar.gz ...
________________________________________________________________________________
../examples/03_connectivity/plot_rest_clustering.py is not compiling:
Traceback (most recent call last):
  File ""/home/ubuntu/nilearn/doc/sphinxext/sphinx_gallery/gen_rst.py"", line 467, in execute_script
    exec(code_block, example_globals)
  File ""<string>"", line 8, in <module>
  File ""/home/ubuntu/nilearn/nilearn/datasets/func.py"", line 382, in fetch_nyu_rest
    verbose=verbose)
  File ""/home/ubuntu/nilearn/nilearn/datasets/utils.py"", line 702, in _fetch_files
    overwrite=overwrite)
  File ""/home/ubuntu/nilearn/nilearn/datasets/utils.py"", line 529, in _fetch_file
    data = url_opener.open(request)
  File ""/usr/lib/python2.7/urllib2.py"", line 404, in open
    response = self._open(req, data)
  File ""/usr/lib/python2.7/urllib2.py"", line 422, in _open
    '_open', req)
  File ""/usr/lib/python2.7/urllib2.py"", line 382, in _call_chain
    result = func(*args)
  File ""/usr/lib/python2.7/urllib2.py"", line 1214, in http_open
    return self.do_open(httplib.HTTPConnection, req)
  File ""/usr/lib/python2.7/urllib2.py"", line 1187, in do_open
    r = h.getresponse(buffering=True)
  File ""/usr/lib/python2.7/httplib.py"", line 1051, in getresponse
    response.begin()
  File ""/usr/lib/python2.7/httplib.py"", line 415, in begin
    version, status, reason = self._read_status()
  File ""/usr/lib/python2.7/httplib.py"", line 371, in _read_status
    line = self.fp.readline(_MAXLINE + 1)
  File ""/usr/lib/python2.7/socket.py"", line 476, in readline
    data = self._sock.recv(self._rbufsize)
error: [Errno 104] Connection reset by peer

```
",nan,nan
65,pull_request_commit_comment,976,nilearn,nilearn,aabadie,2016-02-03 15:20:05,"I removed it and changed the refresh condition in the loop. It should make everybody happy :)
",1369e6da2834ed8626e144969bfee7ceab61a91c,"(39, 173, u'nilearn/datasets/utils.py')"
48,pull_request_commit_comment,976,nilearn,nilearn,lesteve,2016-02-03 15:30:00,"total_size can be None maybe just use `not chunk` (which is the exit condition)
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
49,pull_request_commit_comment,976,nilearn,nilearn,aabadie,2016-02-03 15:39:21,"Done
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(None, '', u'nilearn/datasets/utils.py')"
50,pull_request_commit_comment,976,nilearn,nilearn,AlexandreAbraham,2016-02-03 15:58:01,"I can even go further! :trollface: 

```
    chunk = True
    while chunk:
        time_last_display = time.time()
        while time.time() < time_last_display + 0.5:
            chunk = response.read(chunk_size)
            if not chunk:
                break
            bytes_so_far += len(chunk)
            local_file.write(chunk)
        else:
            _chunk_report_(len(chunk), bytes_so_far,
                           total_size, initial_size, t0)
```
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(28, '', u'nilearn/datasets/utils.py')"
51,pull_request_commit_comment,976,nilearn,nilearn,aabadie,2016-02-03 16:31:10,"> I can even go further!

You missed the `report_chunk` check ;)
",b5dabd5302c81136fd278ee8a406176ac20266b1,"(28, '', u'nilearn/datasets/utils.py')"
26,issue_comment,976,nilearn,nilearn,lesteve,2016-02-03 17:20:58,"All CIs are green, merging, thanks !
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
3,issue_comment,857,nilearn,nilearn,lesteve,2015-11-25 15:35:44,"Just for later reference do you have a standalone snippet that reproduces the problem?
",nan,nan
4,issue_comment,857,nilearn,nilearn,salma1601,2015-11-26 07:56:02,"``` Python
from nilearn import plotting, datasets
haxby_dataset = datasets.fetch_haxby(n_subjects=1)
haxby_anat_filename = haxby_dataset.anat[0]

# Plotting anatomical maps
import matplotlib.pylab as plt
figure, (axes1, axes2) = plt.subplots(2, 1)
for axes in [axes1, axes2]:
    plotting.plot_img(haxby_anat_filename, axes=axes,
                      colorbar=True, display_mode='z')
plt.show()
```
",nan,nan
5,issue_comment,857,nilearn,nilearn,bthirion,2015-11-26 08:04:49,"If you resize the figure, the rendering is not too bad, is it ?
",nan,nan
6,issue_comment,857,nilearn,nilearn,salma1601,2015-11-26 08:12:30,"![figure_1](https://cloud.githubusercontent.com/assets/7080143/11418143/6efa0f62-941d-11e5-8da2-f10836637433.png)
Yes but my brains become too small. Plus I have to make it so wide that it does not fit into my screen so I find this strange isn't it? 
",nan,nan
7,issue_comment,857,nilearn,nilearn,AlexandreAbraham,2015-11-26 08:18:57,"There is clearly a bug regarding the size of the colorbar. Didn't ben fix that bug in one od his unmerged PRs?
",nan,nan
8,issue_comment,857,nilearn,nilearn,lesteve,2015-11-26 08:31:22,"I seem to remember he had similar or related complaints but I was unable to find anything useful.
",nan,nan
9,issue_comment,857,nilearn,nilearn,GaelVaroquaux,2015-11-26 10:29:09,"> If you resize the figure, the rendering is not too bad, is it ?

Things should work by default :).
",nan,nan
10,issue_comment,857,nilearn,nilearn,AlexandreAbraham,2015-11-26 11:50:29,"> Things should work by default :).

The problem is that it's not the point of view of matplotolib.

I took a quick look at your problem. It comes from the fact that you create subplots by hand, which is not supported by nilearn. By doing this, you break the automatic behavior of matplotlib on which nilearn rely.

For example,  if you do this:
`figure, (axes1, axes2) = plt.subplots(2, 1, figsize=(10,5))`

You obtain something more reasonable althought the text still overlaps with the figure.

Solving this problem is not trivial unfortunately. The best way is maybe to do 2 separate figures.
",nan,nan
11,issue_comment,857,nilearn,nilearn,GaelVaroquaux,2015-11-26 11:54:01,"> I took a quick look at your problem. It comes from the fact that you create
> subplots by hand, which is not supported by nilearn.

OK. I agree that it is very difficult to support.

Maybe we should deprecate this feature. I know that some people won't be
happy, but it is a road to unexpected behavior.
",nan,nan
12,issue_comment,857,nilearn,nilearn,arthurmensch,2015-11-26 11:54:26,"You could try to use plt.figure (layout='tight') to automatically move
subplots to avoid overlap
Le 26 nov. 2015 09:12, ""salma1601"" notifications@github.com a écrit :

> [image: figure_1]
> https://cloud.githubusercontent.com/assets/7080143/11418143/6efa0f62-941d-11e5-8da2-f10836637433.png
> Yes but my brains become too small. Plus I have to make it so wide that it
> does not fit into my screen so I find this strange isn't it?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/857#issuecomment-159843056.
",nan,nan
13,issue_comment,857,nilearn,nilearn,AlexandreAbraham,2015-11-26 12:14:55,"> OK. I agree that it is very difficult to support.

It requires to call proper matplotlib methods to get information on the display instead of relying on the magical ability of matplotlib to find a good size for the plots.

> Maybe we should deprecate this feature. I know that some people won't be
> happy, but it is a road to unexpected behavior.

Note that if you plot each line in a separate plot, the result is very ugly although there is no overlap of figures.

I think that I should explicit what happens in matplotlib and how this problem can be solved. When you plot something, before any call to `pyplot.show()`, matplotlib is unaware of the size of the plots. When you show (or save them), matplotlib will do the maths and adapt the size of the figure to the content, trying to avoid overlaps, with more or less success. When using subplots, a default size is given to the figure, I don't know exactly how it works, but the magic is gone. In that case, if some behavior relied on the magic instead of plotting things carefully by defining the boundaries of each axis, things are messed up.

People from matplotlib solved this kink of layout problems by introducing the GridSpec layout. It allows to create a grid of plots easily, get the correct sizes and set constraints on them. We did not use that in nilearn because, historically, we supported matplotlib 0.99 and this has been introduced in matplotlib 1.0.
",nan,nan
14,issue_comment,857,nilearn,nilearn,GaelVaroquaux,2015-11-26 12:31:21,"> I think that I should explicit what happens in matplotlib and how this problem
> can be solved. When you plot something, before any call to pyplot.show(),
> matplotlib is unaware of the size of the plots. When you show (or save them),
> matplotlib will do the maths and adapt the size of the figure to the content,

Indeed, and we are overriding this behavior in nilearn by registering a
specific formatter. It's tricky: most people don't understand this code.
But it's the code that makes the plots look nice by default.

We could make this formatter aware of the colorbar. That might be the
right way to do it. It requires someone who can understand the matplotlib
formatters to pick this up. That's the rare resource.

As a side note, it would be interesting to dig up the PR where @bcipolli
had worked on this. It might be that the solution is in it.
",nan,nan
15,issue_comment,857,nilearn,nilearn,bcipolli,2015-11-26 14:48:04,"@salma1601 can you post a code snippet to reproduce the problem? 

As far as code I've done for plotting, I'm not sure any would fix this:
- I messed with the colorbar in #464 (merged).
- I played around with subplots in #212, code here: https://github.com/nilearn/nilearn/compare/master...bcipolli:issue-212
- I messed with the label colors (described [here](https://github.com/nilearn/nilearn/issues/449#issuecomment-75629299)) in this branch https://github.com/nilearn/nilearn/compare/master...bcipolli:issue-449

I doubt that any of these branches will solve the problem, but I'd be happy to try (if I can get a code snippet to reproduce the issue). I can also debug it if nothing here solves it.
",nan,nan
16,issue_comment,857,nilearn,nilearn,bcipolli,2015-11-26 14:48:46,"(note: just saw the code snippet; would be great to move/copy that to the issue-opening post)
",nan,nan
17,issue_comment,857,nilearn,nilearn,bcipolli,2015-11-26 15:54:36,"I just tried the `plot_mosiac` branch, and it has the same issue.

When we talked before, subplotting was considered to be advanced behavior. The default behavior actually works fine, using the reproducing script: 

![image](https://cloud.githubusercontent.com/assets/4072455/11426426/3b122164-942a-11e5-8ad2-71ceaef2750d.png)

Simply setting the image size to compensate for the size of the plots also works (as detailed above):

``` python
figure, (axes1, axes2) = plt.subplots(2, 1, figsize=(18, 5))
```

![image](https://cloud.githubusercontent.com/assets/4072455/11426708/e8fda266-942b-11e5-9228-7e0e5c7db499.png)

And reducing the # of cuts allows cuts to be larger:

``` python
    plotting.plot_img(haxby_anat_filename, axes=axes,
                      colorbar=True, display_mode='z', cut_coords=4)
```

![image](https://cloud.githubusercontent.com/assets/4072455/11426679/b5eb95cc-942b-11e5-88b1-8460e12eca6f.png)

So, the default behavior works, and there are lots of ways to set things up for more advanced users that work just fine. IMHO, there's not much need to address this via a matplotlib formatter.
",nan,nan
18,issue_comment,857,nilearn,nilearn,GaelVaroquaux,2015-11-26 15:56:21,"> So, the default behavior works, and there are lots of ways to set
> things up for more advanced users that work just fine. IMHO, there's
> not much need to address this via a matplotlib formatter.

OK. Thanks for your analysis. We might want to close that issue, then.
",nan,nan
19,issue_comment,857,nilearn,nilearn,AlexandreAbraham,2015-11-26 15:58:18,"Is the space between the subplots acceptable? For me, it's a show-stopper if I consider publishing the image somewhere.
",nan,nan
20,issue_comment,857,nilearn,nilearn,salma1601,2015-11-26 20:03:53,"Thanks for all the explanations ! 

> Is the space between the subplots acceptable?

Yes the space between the subplots is strange for me, but I guess this is also tricky.
",nan,nan
21,issue_comment,857,nilearn,nilearn,AlexandreAbraham,2016-02-18 12:52:08,"I have noticed that now we require matplotlib > 1.1.1. That means that we actually can use GridSpec layout which should make all that stuff easier. I'll close this issue but keep your example in a more general one about colorbar code refactoring.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
5,pull_request_commit_comment,970,nilearn,nilearn,aabadie,2016-02-01 09:19:38,"This seems to be the essential change of this PR (along with the doctrings changes above). I would only keep those and create an extra PR for the pep8.
",4569e392f7a24662afcf1613c4ae13e6dbedc2b7,"(None, '', u'nilearn/datasets/func.py')"
6,pull_request_commit_comment,970,nilearn,nilearn,KamalakerDadi,2016-02-01 09:21:12,"Its just a minor changes in this PR, I think it can be acceptible ?
",4569e392f7a24662afcf1613c4ae13e6dbedc2b7,"(None, '', u'nilearn/datasets/func.py')"
7,pull_request_commit_comment,970,nilearn,nilearn,AlexandreAbraham,2016-02-01 09:55:12,"By default, all subjects must be loaded. We only want 30 subjects for the examples.
",4569e392f7a24662afcf1613c4ae13e6dbedc2b7,"(None, '', u'nilearn/datasets/func.py')"
8,pull_request_commit_comment,970,nilearn,nilearn,aabadie,2016-02-01 09:55:56,"Well, the changes related to pep8 are more important than the ones related to the number of subjects. I propose to separate them in 2 distinct commits.
",4569e392f7a24662afcf1613c4ae13e6dbedc2b7,"(None, '', u'nilearn/datasets/func.py')"
9,pull_request_commit_comment,970,nilearn,nilearn,KamalakerDadi,2016-02-01 10:00:50,"Reverted. I will address in another PR.
",4569e392f7a24662afcf1613c4ae13e6dbedc2b7,"(None, '', u'nilearn/datasets/func.py')"
10,pull_request_commit_comment,970,nilearn,nilearn,KamalakerDadi,2016-02-01 10:06:34,"Ok, then I remove last 10 ids ?
",4569e392f7a24662afcf1613c4ae13e6dbedc2b7,"(None, '', u'nilearn/datasets/func.py')"
11,pull_request_commit_comment,970,nilearn,nilearn,AlexandreAbraham,2016-02-01 10:09:14,"No, this function should not be touched. The examples should be modified.
",4569e392f7a24662afcf1613c4ae13e6dbedc2b7,"(None, '', u'nilearn/datasets/func.py')"
12,pull_request_commit_comment,970,nilearn,nilearn,KamalakerDadi,2016-02-01 10:12:16,"I don't think in examples we have more than 30 subjects. Correct me if I am wrong.
",4569e392f7a24662afcf1613c4ae13e6dbedc2b7,"(None, '', u'nilearn/datasets/func.py')"
13,pull_request_commit_comment,970,nilearn,nilearn,GaelVaroquaux,2016-02-01 10:13:51,"No, that exactly what I would like the change to be about. I'd like ""n_subjects=30"" explicitly by default in the definition of this function.
",4569e392f7a24662afcf1613c4ae13e6dbedc2b7,"(None, '', u'nilearn/datasets/func.py')"
14,pull_request_commit_comment,970,nilearn,nilearn,AlexandreAbraham,2016-02-01 10:18:41,"I don't see the rationale of this decision. The original issue was because CircleCI was downloading too much data. Changing the default number of subject will change nothing.
",4569e392f7a24662afcf1613c4ae13e6dbedc2b7,"(None, '', u'nilearn/datasets/func.py')"
15,pull_request_commit_comment,970,nilearn,nilearn,GaelVaroquaux,2016-02-01 12:35:48,"> I don't see the rationale of this decision.

We want smaller datasets for the tutorials. If during a tutorial a user
just types this function with no arguments, we want to download only 30
subjects, as it's enough for most things.

That requirement comes from my experience teaching tutorials.
",4569e392f7a24662afcf1613c4ae13e6dbedc2b7,"(None, '', u'nilearn/datasets/func.py')"
16,pull_request_commit_comment,970,nilearn,nilearn,AlexandreAbraham,2016-02-01 13:03:54,"> We want smaller datasets for the tutorials.

The original issue #897 talked about CircleCI, this is why I was puzzled.

> If during a tutorial a user just types this function with no arguments, we want to download only 30 subjects, as it's enough for most things.

What is puzzling me here is: Is nilearn a tool made for tutorials or for studies? People that wants to actually study this dataset may be puzzled by this behavior.

I would be in favor of creating a `fetch_tutorial_adhd` for this special purpose. Because, if space is the only issue, I suggest to restrain the study to the lighter subjects. Here are some stats:

| Dataset | Control/ADHD count | Size in MB |
| --- | --- | --- |
| Full ADHD | 20/20 | 1791.88 |
| 30 first subjects of ADHD | 15/15 | 1305.22 |
| 30 smaller subjects of ADHD | 16/14 | 1128.36 |
| 24 smaller subjects of ADHD | 13/11 | 785.87 |
| 15 smaller subjects of ADHD | 8/7 | 398.28 |
",4569e392f7a24662afcf1613c4ae13e6dbedc2b7,"(None, '', u'nilearn/datasets/func.py')"
17,pull_request_commit_comment,970,nilearn,nilearn,GaelVaroquaux,2016-02-01 13:09:53,"> What is puzzling me here is: Is nilearn a tool made for tutorials or for
> studies? People that wants to actually study this dataset may be puzzled by
> this behavior.

But the datasets are only for tutorials / demos. And beside, it's just
like the fetch_haxby, which only downloads 1 subject by default.

> I would be in favor of creating a fetch_tutorial_adhd for this special
> purpose.

How about we keep it simple and don't over engineer things. It's just a
question of changing a default, from n_subjects=None to n_subjects=30.

We've already checked that all the examples work well with only 30
subjects, so we can just stick to the simple solution.
",4569e392f7a24662afcf1613c4ae13e6dbedc2b7,"(None, '', u'nilearn/datasets/func.py')"
18,pull_request_commit_comment,970,nilearn,nilearn,AlexandreAbraham,2016-02-01 13:32:44,"OK, let it be then.
",4569e392f7a24662afcf1613c4ae13e6dbedc2b7,"(None, '', u'nilearn/datasets/func.py')"
 , , , , , , , , , 
 , , , , , , , , , 
5,issue_comment,978,nilearn,nilearn,aabadie,2016-02-04 12:47:16,"@AlexandreAbraham, it would be great to have it in next release :)
",nan,nan
6,issue_comment,978,nilearn,nilearn,AlexandreAbraham,2016-02-04 13:00:13,"+1 for including it in the upcoming release. This is a good start for the contributing part. Let's wait for CircleCI.

PS: have you seen that the appveyor build has been cancelled... Does anybody know the reason?
",nan,nan
7,issue_comment,978,nilearn,nilearn,lesteve,2016-02-04 13:03:50,"Could it be because of this:

```
More recent ""master"" branch build has been stated.
```
",nan,nan
8,issue_comment,978,nilearn,nilearn,aabadie,2016-02-04 16:56:54," @AlexandreAbraham, @lesteve, all tests passed, should be ready to be merged :)
",nan,nan
9,pull_request_commit_comment,978,nilearn,nilearn,KamalakerDadi,2016-02-05 09:49:42,"May be its not part of your PR but the link is outdated here.

You could replace with http://python-xy.github.io/ if its the suitable one. Apart from that fine with me.
",ed66d141d051b40c48cf30acf4047bdfc89980c2,"(9, '', u'doc/install_doc_component.html')"
10,pull_request_commit_comment,978,nilearn,nilearn,aabadie,2016-02-05 09:53:49,"Indeed, it's not part of the ""real"" changes of this PR but a misconfiguration of my IDE automatically removed trailing spaces in html files. The broken link fix could be part of another PR I think.
",ed66d141d051b40c48cf30acf4047bdfc89980c2,"(9, '', u'doc/install_doc_component.html')"
11,pull_request_commit_comment,978,nilearn,nilearn,lesteve,2016-02-05 10:09:49,"This README.rst will be mostly looked at on github, not sure that this line is worth it.

Then just say ""Detailed instructions ...""
",ed66d141d051b40c48cf30acf4047bdfc89980c2,"(6, '', u'README.rst')"
12,pull_request_commit_comment,978,nilearn,nilearn,lesteve,2016-02-05 10:10:49,"For the record the link is not broken per se, it's just a ""This project has moved"" page with the up-to-date link to github.io.
",ed66d141d051b40c48cf30acf4047bdfc89980c2,"(9, '', u'doc/install_doc_component.html')"
13,pull_request_commit_comment,978,nilearn,nilearn,aabadie,2016-02-05 10:27:57,"I created #980 to fix this.
",ed66d141d051b40c48cf30acf4047bdfc89980c2,"(6, '', u'README.rst')"
 , , , , , , , , , 
 , , , , , , , , , 
3,issue_comment,736,nilearn,nilearn,banilo,2015-08-04 18:00:57,"How should we debug when we exceed the preset memory limit?
",nan,nan
4,issue_comment,736,nilearn,nilearn,AlexandreAbraham,2015-08-04 20:05:23,"You can get the stack trace using pdb. You can also set a breakpoint using the memory profiler.
",nan,nan
5,issue_comment,736,nilearn,nilearn,GaelVaroquaux,2015-10-13 18:53:48,"Testing could be done by having a specific suite of test (not the main one), run by the CI system and relying on either ulimits, or https://pypi.python.org/pypi/memory_profiler
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
16,pull_request_commit_comment,1033,nilearn,nilearn,GaelVaroquaux,2016-02-29 14:12:01,"The '|' at the beginning of this line seems fishy to me. Is this valid rst?
",de9ee901c5be600cb0aed61d1da159fbcb213fa6,"(None, '', u'doc/manipulating_images/data_preparation.rst')"
5,issue_comment,1033,nilearn,nilearn,GaelVaroquaux,2016-02-29 16:10:12,"Indeed, circleCI failed :(
",nan,nan
17,pull_request_commit_comment,1033,nilearn,nilearn,aabadie,2016-02-29 16:45:37,"that's a typo on my side, sorry. I pushed a fix.
",de9ee901c5be600cb0aed61d1da159fbcb213fa6,"(None, '', u'doc/manipulating_images/data_preparation.rst')"
9,issue_comment,1033,nilearn,nilearn,aabadie,2016-02-29 21:48:01,"> Indeed, circleCI failed :(

@GaelVaroquaux, fixed !
",nan,nan
18,pull_request_commit_comment,1033,nilearn,nilearn,KamalakerDadi,2016-02-29 22:15:10,"@aabadie It would be nice if you ""print affine"" and show before and after resampling effect, which gives nice illustration to the example.
",de9ee901c5be600cb0aed61d1da159fbcb213fa6,"(None, '', u'examples/04_manipulating_images/plot_resample_to_template.py')"
19,pull_request_commit_comment,1033,nilearn,nilearn,KamalakerDadi,2016-02-29 22:15:43,"to a template reference ""image"" ?
",de9ee901c5be600cb0aed61d1da159fbcb213fa6,"(None, '', u'doc/manipulating_images/manipulating_images.rst')"
20,pull_request_commit_comment,1033,nilearn,nilearn,KamalakerDadi,2016-02-29 22:16:24,"Resampling ""an image"" to a given reference image
",de9ee901c5be600cb0aed61d1da159fbcb213fa6,"(None, '', u'doc/manipulating_images/data_preparation.rst')"
21,pull_request_commit_comment,1033,nilearn,nilearn,KamalakerDadi,2016-02-29 22:18:51,"May be title should focus to say about ""resampling"" ?
",de9ee901c5be600cb0aed61d1da159fbcb213fa6,"(None, '', u'examples/04_manipulating_images/plot_resample_to_template.py')"
22,pull_request_commit_comment,1033,nilearn,nilearn,KamalakerDadi,2016-02-29 22:19:38,"space missing after import.
",de9ee901c5be600cb0aed61d1da159fbcb213fa6,"(None, '', u'examples/04_manipulating_images/plot_resample_to_template.py')"
10,issue_comment,1033,nilearn,nilearn,aabadie,2016-03-01 13:29:19,"@KamalakerDadi, I addressed your comments. Circle CI was failing due a bad indentation in the documentation I added. Let's see if it passes now.
",nan,nan
11,issue_comment,1033,nilearn,nilearn,aabadie,2016-03-01 14:55:47,"@GaelVaroquaux, @KamalakerDadi, CI's tests passed. The generated documentation seems ok: https://circle-artifacts.com/gh/aabadie/nilearn/273/artifacts/0/home/ubuntu/nilearn/doc/_build/html/index.html
",nan,nan
6,issue_comment,1033,nilearn,nilearn,GaelVaroquaux,2016-03-01 14:58:13,"Indeed. Why do you use ""dim"" in the plotting? I tend to think that simple examples should focus on conveying only one message, and thus avoid any unecessary options.
",nan,nan
12,issue_comment,1033,nilearn,nilearn,aabadie,2016-03-01 15:20:03,"> Why do you use ""dim"" in the plotting?

I copy pasted this from another example and didn't change that. Will do !
",nan,nan
13,issue_comment,1033,nilearn,nilearn,aabadie,2016-03-01 15:23:36,"@GaelVaroquaux, indeed, removing the ndim option creates a nicer rendering (less bright).
",nan,nan
14,issue_comment,1033,nilearn,nilearn,aabadie,2016-03-02 09:17:32,"@GaelVaroquaux, @KamalakerDadi still any comment about this one ?
",nan,nan
15,issue_comment,1033,nilearn,nilearn,KamalakerDadi,2016-03-02 09:22:41,"I have no comments. LGTM
",nan,nan
7,issue_comment,1033,nilearn,nilearn,GaelVaroquaux,2016-03-02 09:23:27,"Merged. Thanks
",nan,nan
8,issue_comment,1033,nilearn,nilearn,GaelVaroquaux,2016-03-02 09:23:28,"LGTM to me too. Let's merge!
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
6,issue_comment,1030,nilearn,nilearn,lesteve,2016-02-27 14:29:37,"Once you do that you could also add the nilearn_cache folder in the CircleCI cache. I think this is likely to speed-up running the examples significatively. The problem may be that the nilearn_cache grows with time and I am not sure what the size limit is for the CircleCI cache.
",nan,nan
3,issue_comment,1030,nilearn,nilearn,GaelVaroquaux,2016-02-27 14:53:11,"> The problem may be that the nilearn_cache grows with time

You're going to fix that, though :).

> and I am not sure what the size limit is for the CircleCI cache.

I think that with the datasets we are very close to that limit. It's
actually a problem.
",nan,nan
7,issue_comment,1030,nilearn,nilearn,banilo,2016-02-29 12:56:50,"> I suggest to create one nilearn_cache directory in examples, and then, in each subfolder of examples, do a simlink to that directory.

Perhaps I am missing something. But why not set a default nilearn caching directory somewhere in the home directory for all applications of nilearn software by that user? This would also cover the examples.

Having to set/consider that argument may also be a show stopper for newcomers.
",nan,nan
4,issue_comment,1030,nilearn,nilearn,GaelVaroquaux,2016-02-29 12:58:34,"> Perhaps I am missing something. But why not set a default nilearn caching
> directory somewhere in the home directory for all applications of nilearn
> software by that user?

I really don't like creating files where users don't expect them.

> Having to set/consider that argument may also be a show stopper for newcomers.

The nilearn_cache folders get big in a non-controled way. We cannot
implicitely create them. I would like them to be always explicit.
",nan,nan
5,issue_comment,1030,nilearn,nilearn,GaelVaroquaux,2016-06-13 14:15:31,"Fixed. Closing.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
13,pull_request_commit_comment,1031,nilearn,nilearn,banilo,2016-02-29 12:50:07,"replacement by an identical statement?
",758672f72ed59aceebd55037ce11bd6e46325830,"(None, '', u'circle.yml')"
14,pull_request_commit_comment,1031,nilearn,nilearn,GaelVaroquaux,2016-02-29 16:13:17,"I think that you need to keep this line, as it is used to detect if there are no tracebacks in the logs produced while building the docs.
",758672f72ed59aceebd55037ce11bd6e46325830,"(None, '', u'circle.yml')"
5,issue_comment,1031,nilearn,nilearn,GaelVaroquaux,2016-02-29 16:14:57,"Aside from my comment, this looks good: you did succeed to remove the tests. Judging by the other runs, you gained 4 minutes on the total cycle. This is a good thing! Thanks.
",nan,nan
15,pull_request_commit_comment,1031,nilearn,nilearn,sahmed95,2016-02-29 20:21:34,"Even I was thinking the same. But I was confused because this is a change in circle.yml and appveyor build was failing. I will update this. Thank you
",758672f72ed59aceebd55037ce11bd6e46325830,"(None, '', u'circle.yml')"
16,pull_request_commit_comment,1031,nilearn,nilearn,GaelVaroquaux,2016-02-29 20:25:18,"> Even I was thinking the same. But I was confused because this is a change in
> circle.yml and appveyor build was failing.

appveyor has a lot of spurious failures :(
",758672f72ed59aceebd55037ce11bd6e46325830,"(None, '', u'circle.yml')"
10,issue_comment,1031,nilearn,nilearn,aabadie,2016-02-29 21:40:19,"Forget my previous comment, it should be fine if this PR is merged before (I was worrying about merge conflicts but that's fine in fact)
",nan,nan
6,issue_comment,1031,nilearn,nilearn,GaelVaroquaux,2016-02-29 21:41:53,"Indeed, if this PR does the job with regards to removing the test, it's interesting to merge it to benefit directly from this, and build the conda support above.
",nan,nan
7,issue_comment,1031,nilearn,nilearn,GaelVaroquaux,2016-02-29 21:42:10,"Let's wait for CircleCI to finish :)
",nan,nan
11,issue_comment,1031,nilearn,nilearn,aabadie,2016-02-29 21:42:59,"with conda and this PR, we should be 15-20 minutes faster. Then we could try MKL !
",nan,nan
12,issue_comment,1031,nilearn,nilearn,aabadie,2016-02-29 21:44:28,"@sahmed95, about appveyor to me it's a genuine issue on their side. I can restart the build.
",nan,nan
8,issue_comment,1031,nilearn,nilearn,GaelVaroquaux,2016-02-29 21:52:03,"OK. This ran beautifully on CircleCI. I am thus merging. Thanks a lot!
",nan,nan
9,issue_comment,1031,nilearn,nilearn,GaelVaroquaux,2016-02-29 22:11:25,"> @GaelVaroquaux Cool. I was just going through the other discussions (conda and
> mkl). Let me know if I can contribute.

How about this one:
https://github.com/nilearn/nilearn/issues/958

> Also, do you have a gitter room for nilearn?

I don't do well with chat: I run so many things, and not all software
related. I like the issue traker, because it is not time dependent and is
open to everybody.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
7,issue_comment,1037,nilearn,nilearn,aabadie,2016-03-01 16:48:54,"@GaelVaroquaux : awesome ! it worked https://circleci.com/gh/aabadie/nilearn/276 :beers: 
",nan,nan
15,pull_request_commit_comment,1037,nilearn,nilearn,GaelVaroquaux,2016-03-01 18:21:06,"I think that we can remove this file, as we are no longer using it, right?
",30c7f6aca0e551440fe146ea3c12fed41d3d5e14,"(None, '', u'continuous_integration/circle_ci_test.sh')"
5,issue_comment,1037,nilearn,nilearn,GaelVaroquaux,2016-03-01 18:24:41,"Great job!

I don't really see a speed up. Maybe this can be improved by installing the MKL, with ""conda install mkl"", for instance on line 31 of circle.yml.
",nan,nan
8,issue_comment,1037,nilearn,nilearn,aabadie,2016-03-01 18:30:13,"> Great job!
> Thanks
> 
> I don't really see a speed up. Maybe this can be improved by installing the MKL, with ""conda install mkl"", for instance on line 31 of circle.yml
> Indeed, that would be worth a try. There is already a speedup in the install step which is now only taking about 1 minute and a half (instead of more than 10).
",nan,nan
16,pull_request_commit_comment,1037,nilearn,nilearn,aabadie,2016-03-01 18:32:58,"> In continuous_integration/circle_ci_test.sh:
> I think that we can remove this file, as we are no longer using it, right ?
> Ah yes, I forgot this one. Will do it when time permits. In the mean time, I'll make conda less verbose using --quiet option. We are getting closer !
",30c7f6aca0e551440fe146ea3c12fed41d3d5e14,"(None, '', u'continuous_integration/circle_ci_test.sh')"
9,issue_comment,1037,nilearn,nilearn,aabadie,2016-03-01 18:34:58,"> Anaconda 2.5 is mkl enabled by default
> Yes, I saw that but our install script removes it.
> Le 1 mars 2016 19:30, ""Alexandre Abadie"" notifications@github.com a
> écrit :
> 
> > > Great job!
> > > Thanks
> > > 
> > > I don't really see a speed up. Maybe this can be improved by installing
> > > the MKL, with ""conda install mkl"", for instance on line 31 of circle.yml
> > > Indeed, that would be worth a try. There is already a speedup in the
> > > install step which is now only taking about 1 minute and a half (instead of
> > > more than 10).
> > 
> > —
> > Reply to this email directly or view it on GitHub
> > https://github.com/nilearn/nilearn/pull/1037#issuecomment-190843506.
> 
> —
> Reply to this email directly or view it on GitHub.
",nan,nan
10,issue_comment,1037,nilearn,nilearn,aabadie,2016-03-01 21:18:14,"@GaelVaroquaux, jI pushed a last commit adressing your previous comments. I also keep the use of mkl, just to be sure it's really faster. The answer is : not that much : https://circleci.com/gh/aabadie/nilearn/279
",nan,nan
11,issue_comment,1037,nilearn,nilearn,aabadie,2016-03-01 21:21:27,"Comparing with the previous successful build (https://circleci.com/gh/aabadie/nilearn/276), the documentation generation step is 8 minutes faster with mkl.
",nan,nan
12,issue_comment,1037,nilearn,nilearn,aabadie,2016-03-01 21:26:21,"Comparing with a master build (before the skip test PR merge), it's now 23 minutes faster (23% faster).
",nan,nan
6,issue_comment,1037,nilearn,nilearn,GaelVaroquaux,2016-03-02 06:03:09,"That looks great: it's faster, and the code is as complex, or maybe a bit simpler.

I such that we merge and that, in a separate pull request, someone enables Python3 (and fixes the examples that don't work in Python3)
",nan,nan
13,issue_comment,1037,nilearn,nilearn,aabadie,2016-03-02 08:10:11,"@GaelVaroquaux, I pushed one last commit for making comments clearer in CI scripts.
",nan,nan
14,issue_comment,1037,nilearn,nilearn,aabadie,2016-03-02 09:16:59,"Travis is failing but the issue is not related to this PR : memory profiling test error (again)
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
23,issue_comment,1034,nilearn,nilearn,MartinPerez,2016-02-29 16:12:19,"sorry rebasing ...
",nan,nan
5,issue_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-02-29 16:27:43,"This does look very nice! On the images at the top (with a white background), there is a strange yellow background color. 
",nan,nan
24,issue_comment,1034,nilearn,nilearn,MartinPerez,2016-02-29 16:29:19,"You mean the two first images? I see it white :S
",nan,nan
6,issue_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-02-29 16:30:25,"I am positive that there is something in the background. I can see the rectangles.
",nan,nan
25,issue_comment,1034,nilearn,nilearn,MartinPerez,2016-02-29 16:33:44,"in two screens (desktop, laptop) I see it white. No yellow background... @AlexandreAbraham what do you see?
",nan,nan
38,pull_request_commit_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-02-29 16:36:26,"We want to keep this example as simple as possible. I suggest that we remove that last line, which belongs more to the advanced example.
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'examples/01_plotting/plot_demo_glass_brain.py')"
39,pull_request_commit_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-02-29 16:37:37,"Can we have a demo of ""lzr"", which I suspect is the mode useful mode.
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'examples/01_plotting/plot_demo_glass_brain_extensive.py')"
40,pull_request_commit_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-02-29 16:43:37,"Am I wrong to think that if we modify the base class ""draw_left_right"" method, around line 115, we don't need to reimplement this method in the derived class?
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
41,pull_request_commit_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-02-29 16:47:00,"It seems to me that there's a lot of copy/paste with regards to the base-class method (in GlassBrainAxes). I would prefer modifying it to support l/r projection.
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
42,pull_request_commit_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-02-29 16:50:50,"I'd like an ""lzr"" mode, I think.
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
43,pull_request_commit_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-02-29 16:51:48,"Is this change intentional? I have the feeling that it is not right.
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/img_plotting.py')"
44,pull_request_commit_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-02-29 16:52:30,"Could we also test the functionality with a call to plot_glass_brain.
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/tests/test_displays.py')"
26,issue_comment,1034,nilearn,nilearn,MartinPerez,2016-02-29 17:24:08,"I fixed the background issue and discovered on the way that I have some yellow daltonism, haha.

![figure_10](https://cloud.githubusercontent.com/assets/8766915/13402645/83d017bc-df11-11e5-9fab-4eb6c43bf6a6.png)
",nan,nan
45,pull_request_commit_comment,1034,nilearn,nilearn,MartinPerez,2016-02-29 17:24:53,"no problem
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'examples/01_plotting/plot_demo_glass_brain_extensive.py')"
46,pull_request_commit_comment,1034,nilearn,nilearn,MartinPerez,2016-02-29 17:25:41,"ok
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'examples/01_plotting/plot_demo_glass_brain.py')"
47,pull_request_commit_comment,1034,nilearn,nilearn,MartinPerez,2016-02-29 17:27:30,"I just mention the default value already implemented. You mean I should not mention it, or that the default itself is wrong?
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/img_plotting.py')"
48,pull_request_commit_comment,1034,nilearn,nilearn,MartinPerez,2016-02-29 17:28:18,"Like in the examples?
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/tests/test_displays.py')"
49,pull_request_commit_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-02-29 17:34:52,"> I just mention the default value already implemented. You mean I should not
> mention it, or that the default itself is wrong?

The default is ""None"": we are talking about ""output_file"", aren't we?
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/img_plotting.py')"
50,pull_request_commit_comment,1034,nilearn,nilearn,MartinPerez,2016-02-29 17:37:49,"I also noticed that some changes would just mean one line in the parent classes. Nonetheless I put all the changes in the GlassBrainHemisphericAxes class for 2 reasons. First its not just GlassBrainAxes but also BaseAxes that would have modifications, I thought having spread changes across multiple classes for one feature might be confusing in the future and could break some other derived class (so far its assume for all the plotting framework that only xyz exist). Second I am not sure how the changes introduced would interact with the connectomics plots that also use the GlassBrainAxes class. I think putting this together and checking how this should be used with the connectomics should be a different PR. @GaelVaroquaux what do you think?
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
51,pull_request_commit_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-02-29 17:39:07,"Yes, with a simple smoketest.
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/tests/test_displays.py')"
52,pull_request_commit_comment,1034,nilearn,nilearn,MartinPerez,2016-02-29 17:41:44,"sorry you are right. mistake during the rebase merge just done.
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/img_plotting.py')"
27,issue_comment,1034,nilearn,nilearn,MartinPerez,2016-02-29 18:46:03,"Addressed all comments. Added lyr, lzr and lzry and actually generalized the code to accept any order of labels in the future, which also simplified the hemispheric projector class. Added smoke test on test_img_plotting.py.

Examples here:

![figure_11](https://cloud.githubusercontent.com/assets/8766915/13405055/f95bfff4-df1c-11e5-947d-dd3a07e4d795.png)
![figure_12](https://cloud.githubusercontent.com/assets/8766915/13405057/fa809a7a-df1c-11e5-8e44-407ddc9d593e.png)
",nan,nan
28,issue_comment,1034,nilearn,nilearn,MartinPerez,2016-03-01 11:23:08,"circle ci seems to fail due to sphinx and doc generation? Can anyone please give me a hand to understand this error. Codacy fails for what was pointed out by @GaelVaroquaux  about code duplication in displays.py in GlassBrainHemisphericAxes class
",nan,nan
53,pull_request_commit_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-03-01 20:19:48,"Your problem with circleCI might be that you cannot have a line return here. It's possible that this just needs to be a very long line.
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/img_plotting.py')"
29,issue_comment,1034,nilearn,nilearn,MartinPerez,2016-03-01 22:43:07,"circle ci pass now. The appveyor new error seems unrelated to the changes of this PR.

# 

## ERROR: nilearn.decomposition.tests.test_base.test_mask_reducer

Traceback (most recent call last):
  File ""C:\Miniconda-x64\lib\site-packages\nose\case.py"", line 197, in runTest
    self.test(_self.arg)
  File ""C:\Miniconda-x64\lib\site-packages\nilearn\decomposition\tests\test_base.py"", line 41, in test_mask_reducer
    n_jobs=2, random_state=0)
  File ""C:\Miniconda-x64\lib\site-packages\nilearn\decomposition\base.py"", line 110, in mask_and_reduce
    ) for img, confound in zip(imgs, confounds))
  File ""C:\Miniconda-x64\lib\site-packages\sklearn\externals\joblib\parallel.py"", line 818, in **call**
    self._terminate_pool()
  File ""C:\Miniconda-x64\lib\site-packages\sklearn\externals\joblib\parallel.py"", line 549, in _terminate_pool
    self._pool.terminate()  # terminate does a join()
  File ""C:\Miniconda-x64\lib\site-packages\sklearn\externals\joblib\pool.py"", line 583, in terminate
    super(MemmapingPool, self).terminate()
  File ""C:\Miniconda-x64\lib\multiprocessing\pool.py"", line 465, in terminate
    self._terminate()
  File ""C:\Miniconda-x64\lib\multiprocessing\util.py"", line 207, in __call__
    res = self._callback(_self._args, **self._kwargs)
  File ""C:\Miniconda-x64\lib\multiprocessing\pool.py"", line 513, in _terminate_pool
    p.terminate()
  File ""C:\Miniconda-x64\lib\multiprocessing\process.py"", line 137, in terminate
    self._popen.terminate()
  File ""C:\Miniconda-x64\lib\multiprocessing\forking.py"", line 312, in terminate
    _subprocess.TerminateProcess(int(self._handle), TERMINATE)
WindowsError: [Error 5] Access is denied
",nan,nan
54,pull_request_commit_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-03-02 06:09:50,"To make the HTML view of the example simpler to comprehend, I think that it would be good to have 3 different ""cells"" in this example, one per plot.
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'examples/01_plotting/plot_demo_glass_brain.py')"
55,pull_request_commit_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-03-02 06:13:01,"I don't really mind if the modifications propagate up if it makes the code simpler. For classes that don't accept ""l"" or ""r"", we can always capture this in the **init**
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
56,pull_request_commit_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-03-02 06:13:31,"Also, I forgot to mention, but I would love the connectome plots to have logic for ""l"" and ""r"" too.
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
57,pull_request_commit_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-03-02 06:44:07,"That last one should be ""right_side"", no?
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/glass_brain.py')"
58,pull_request_commit_comment,1034,nilearn,nilearn,AlexandreAbraham,2016-03-02 09:17:24,"+1 for pushing the code in upper classes. If you are afraid of breaking stuff, maybe we can do it in 2 times? Merging this one. and refactoring afterward.
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
59,pull_request_commit_comment,1034,nilearn,nilearn,AlexandreAbraham,2016-03-02 09:19:22,"I'm pretty sure that this copy is not necessary. This is not a big deal, though.
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
60,pull_request_commit_comment,1034,nilearn,nilearn,AlexandreAbraham,2016-03-02 09:20:11,"Assuming that data is centered seems dangerous to me. You should use the affine to get the ""real"" coordinate of the center.
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
61,pull_request_commit_comment,1034,nilearn,nilearn,AlexandreAbraham,2016-03-02 09:20:47,"Can you comment on these lines?
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
62,pull_request_commit_comment,1034,nilearn,nilearn,MartinPerez,2016-03-02 11:56:04,"r reuses the same image as x. So I left it with the same id when getting info from the files. Would you prefer to duplicate the image files with a new name?
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/glass_brain.py')"
63,pull_request_commit_comment,1034,nilearn,nilearn,MartinPerez,2016-03-02 12:02:26,"How should it be done? I was just trying to avoid modifying the original data ""passed by reference"" to the transform_to_2d function. Could I instead just do data=data to create a new function local variable?
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
64,pull_request_commit_comment,1034,nilearn,nilearn,MartinPerez,2016-03-02 12:03:24,"I see your point, i will address this
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
65,pull_request_commit_comment,1034,nilearn,nilearn,MartinPerez,2016-03-02 12:04:04,"ok. enough to clarify i am flipping in the saggital cut?
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
66,pull_request_commit_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-03-02 12:05:01,"> r reuses the same image as x. So I left it with the same id when getting info
> from the files.

Of course. Sorry for the noise.
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/glass_brain.py')"
67,pull_request_commit_comment,1034,nilearn,nilearn,MartinPerez,2016-03-02 12:08:37,"I would really prefer to merge and refactor in another PR. Also I will need someone to give me a hand with the connectome since I dont work with these I am not sure I understand what it means for the connectome plots to have 'l' and 'r' logic. Would it be in the 'l' case just to overlay the same markers and lines flipped?
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
30,issue_comment,1034,nilearn,nilearn,MartinPerez,2016-03-10 12:11:08,"@AlexandreAbraham I addressed your comments. We merge the PR and start a new one to push to upper classes and add connectomics?
",nan,nan
31,issue_comment,1034,nilearn,nilearn,MartinPerez,2016-03-10 12:12:58,"@chrisfilo thanks for the reference, I will check it out.
",nan,nan
68,pull_request_commit_comment,1034,nilearn,nilearn,banilo,2016-03-10 12:16:07,"empty line
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
69,pull_request_commit_comment,1034,nilearn,nilearn,banilo,2016-03-10 12:19:20,"massage or message? :-P
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
7,issue_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-03-10 12:24:41,"> We merge the PR and start a new one to push to upper classes and add connectomics?

I would like the code duplication to be addressed before this lands in
master. Code duplication makes the repo hard to read and understand. I
don't want to degrade the quality of the repo, even with the promise that
it will improve later.
",nan,nan
32,issue_comment,1034,nilearn,nilearn,MartinPerez,2016-03-10 12:46:04,"> I would like the code duplication to be addressed before this lands in master

ok I will work on the upper classes then. 

Who can give me a hand with checking the logic of the connectomics, or I leave that for later?
",nan,nan
12,issue_comment,1034,nilearn,nilearn,MartinPerez,2016-03-21 10:55:04,"![connectome](https://cloud.githubusercontent.com/assets/8766915/13916520/737e06e4-ef5b-11e5-8ae5-b791339be912.png)

well connectome included and code generalized to upper classes. I also figured out that it was completely unnecessary to have the svg image for the right hemisphere, since the matplotlib x axis could be inverted.
",nan,nan
13,issue_comment,1034,nilearn,nilearn,MartinPerez,2016-03-21 10:56:45,"of course added smoke test and example update for connectome
",nan,nan
70,pull_request_commit_comment,1034,nilearn,nilearn,aabadie,2016-03-21 11:10:47,"Maybe this comment could be removed.
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'examples/01_plotting/plot_demo_glass_brain.py')"
71,pull_request_commit_comment,1034,nilearn,nilearn,aabadie,2016-03-21 11:11:50,"""Demo glass brain plotting using whole brain saggital cuts.""
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'examples/01_plotting/plot_demo_glass_brain.py')"
72,pull_request_commit_comment,1034,nilearn,nilearn,AlexandreAbraham,2016-04-26 13:09:01,"This will not work if the affine is not diagonal. Is that always the case? If so, you could just do `data_selection=data[:int(x_center), :, :]` to avoid the copy above.
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
73,pull_request_commit_comment,1034,nilearn,nilearn,MartinPerez,2016-04-26 14:22:14,"@AlexandreAbraham as I understood from http://nipy.org/nibabel/coordinate_systems.html, the affine is not necessarily diagonal but is invertible and its last row is 0,0,0,1. Nibabel documentation explain that [i,j,k,1] = dot(inv(M), [x,y,z,1]) so I am trusting thats the case. Since for the glass brain we are in MNI space I am assuming I can consider space coordinates 0,0,0 to ask for the actual voxel indices corresponding to the center.

Does this answer your question?
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
74,pull_request_commit_comment,1034,nilearn,nilearn,MartinPerez,2016-04-27 16:29:57,"I am not sure this is a good way to avoid a crash during smoke testing. Basically this will avoid the function crashing if the img passed has an affine that maps coordinate 0mm to a voxel index out of the array. How should handle that case. Actually raise a warning/error to the user?
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
33,issue_comment,1034,nilearn,nilearn,MartinPerez,2016-04-27 16:31:31,"@AlexandreAbraham Its fine now, but there is a small problem if the user tried to pass an img not in mni space, which should not be the case anyway. Could you please give me your opinion on how to handle that?
",nan,nan
36,issue_comment,1034,nilearn,nilearn,KamalakerDadi,2016-04-27 16:50:20,"> but there is a small problem if the user tried to pass an img not in mni space, which should not be the case anyway. Could you please give me your opinion on how to handle that?

For me solution to this problem is to add a line saying that images should be in MNI space. We always pressure this point to users to avoid surprising results.
",nan,nan
8,issue_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-04-27 16:51:37,"> For me solution to this problem is to add a line saying that images should be
> in MNI space. We always pressure this point to users to avoid surprising
> results.

+1
",nan,nan
37,issue_comment,1034,nilearn,nilearn,KamalakerDadi,2016-04-27 16:52:08,"Please also add a line about this new feature in `whats_new.rst`
",nan,nan
34,issue_comment,1034,nilearn,nilearn,MartinPerez,2016-04-28 11:51:01,"@KamalakerDadi I created version 0.2.5 in whats_new.rst, I assume thats the next release.
",nan,nan
35,issue_comment,1034,nilearn,nilearn,MartinPerez,2016-04-28 12:10:37,"@AlexandreAbraham it seems there is an unrelated error in travis.
ERROR: nilearn.tests.test_testing.test_memory_usage
",nan,nan
75,pull_request_commit_comment,1034,nilearn,nilearn,KamalakerDadi,2016-05-13 15:05:58,"what it means by whole brain saggital cuts ?
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'examples/01_plotting/plot_demo_glass_brain.py')"
76,pull_request_commit_comment,1034,nilearn,nilearn,KamalakerDadi,2016-05-13 15:06:20,"saggital -> sagittal
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'examples/01_plotting/plot_demo_glass_brain.py')"
77,pull_request_commit_comment,1034,nilearn,nilearn,KamalakerDadi,2016-05-13 15:51:59,"It would be easy to catch quickly using title something like plot_glass_brain with display_mode='lyrz'
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'examples/01_plotting/plot_demo_glass_brain.py')"
78,pull_request_commit_comment,1034,nilearn,nilearn,KamalakerDadi,2016-05-13 15:52:38,"same with here some `title`s would be useful.
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'examples/01_plotting/plot_demo_glass_brain_extensive.py')"
14,issue_comment,1034,nilearn,nilearn,MartinPerez,2016-05-19 10:14:32,"took care of all comments and tests passed except for the unrelated memory profiler one in travis.
",nan,nan
79,pull_request_commit_comment,1034,nilearn,nilearn,lesteve,2016-05-19 11:02:34,"This needs to be a header, look at how it is done for the 0.2.4 section.
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'doc/whats_new.rst')"
80,pull_request_commit_comment,1034,nilearn,nilearn,lesteve,2016-05-19 11:07:20,"Dow we really need all these variations?
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'examples/01_plotting/plot_demo_glass_brain_extensive.py')"
81,pull_request_commit_comment,1034,nilearn,nilearn,lesteve,2016-05-19 11:11:17,"you can put that in the same if clause: `if self.direction == 'r' and xc >=0`
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
82,pull_request_commit_comment,1034,nilearn,nilearn,lesteve,2016-05-19 11:11:40,"same remark as above you can put it in the same if clause.
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
83,pull_request_commit_comment,1034,nilearn,nilearn,lesteve,2016-05-19 11:16:40,"I wouldn't add a dot at the end since that's not what is done for other parameters
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/img_plotting.py')"
15,issue_comment,1034,nilearn,nilearn,lesteve,2016-05-19 11:18:20,"It would be worth to modify the docs to show the new modes in http://nilearn.github.io/plotting/index.html#different-display-modes.
",nan,nan
84,pull_request_commit_comment,1034,nilearn,nilearn,AlexandreAbraham,2016-05-19 11:19:44,"+1, I guess 2 plots are enough ;).
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'examples/01_plotting/plot_demo_glass_brain_extensive.py')"
85,pull_request_commit_comment,1034,nilearn,nilearn,AlexandreAbraham,2016-05-19 11:25:11,"The code above will only work if the affine is diagonal. Are we sure that it is diagonal at this point?
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(75, '', u'nilearn/plotting/displays.py')"
86,pull_request_commit_comment,1034,nilearn,nilearn,MartinPerez,2016-05-19 11:45:37,"@AlexandreAbraham as I understood from http://nipy.org/nibabel/coordinate_systems.html, the affine is not necessarily diagonal but is invertible and its last row is 0,0,0,1. Nibabel documentation explain that [i,j,k,1] = dot(inv(M), [x,y,z,1]) so I am trusting thats the case. Since for the glass brain we are in MNI space I am assuming I can consider space coordinates 0,0,0 to ask for the actual voxel indices corresponding to the center.

Does this answer your question?
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(75, '', u'nilearn/plotting/displays.py')"
9,issue_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-05-19 11:49:56,"What's the status on the hemisphere plotting of connectomes in this PR?

PS: sorry, I think that I just introduced a trivial conflict with master.
",nan,nan
16,issue_comment,1034,nilearn,nilearn,MartinPerez,2016-05-19 11:51:06,"@GaelVaroquaux its also ready for the connectome. Look for the image above.
",nan,nan
10,issue_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-05-19 11:55:45,"Indeed, very nice!

We would need a tiny example demoing it.

Maybe you can do a new example in the plotting section that demos plot connectome and replace the image in https://circle-artifacts.com/gh/nilearn/nilearn/1495/artifacts/0/home/ubuntu/nilearn/doc/_build/html/plotting/index.html#different-plotting-functions by the image it generates (and link to that example).

I think that, for now, we could use a hard-coded set of coordinates and connectivity matrix, for instance inspired by: https://circle-artifacts.com/gh/nilearn/nilearn/1495/artifacts/0/home/ubuntu/nilearn/doc/_build/html/auto_examples/03_connectivity/plot_adhd_spheres.html#sphx-glr-auto-examples-03-connectivity-plot-adhd-spheres-py

It would enable us to demo the hemisphere plotting for connectomes.
",nan,nan
87,pull_request_commit_comment,1034,nilearn,nilearn,lesteve,2016-05-19 14:12:44,"By the way just wondering what should we do if xc == 0 (maybe that never happens in practice I am not sure). Should we not show the marker on both 'l' and 'r' plots?
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
88,pull_request_commit_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-05-19 14:16:46,"> By the way just wondering what should we do if xc == 0 (maybe that never
> happens in practice I am not sure). Should we not show the marker on both 'l'
> and 'r' plots?

Actually, that's probably a good idea. And that way we have edges going
to it in both plot (this needs to be documented in the docstrings of
add_marker and plot_connectome).
",51518558cc84f9105ac0c051eb0b8916b5dfadf5,"(None, '', u'nilearn/plotting/displays.py')"
17,issue_comment,1034,nilearn,nilearn,MartinPerez,2016-05-23 15:03:08,"In the auto_examples folder, there is the 'connectivity' folder instead of '03_connectivity' although many links still point to '03_connectivity'. Should I change the folder name or is this a new standard to enforce in all links?
",nan,nan
18,issue_comment,1034,nilearn,nilearn,KamalakerDadi,2016-05-23 16:02:33,"> Should I change the folder name or is this a new standard to enforce in all links?

No, you don't have to it will generate it automatically while you `make html` in doc folder. 
",nan,nan
19,issue_comment,1034,nilearn,nilearn,MartinPerez,2016-05-24 18:14:47,"@lesteve I illustrate the new display modes using two examples from glass brain. Did not make it extensive in the images but instead added reference to the remaining possible modes in the text at the side.

@GaelVaroquaux I modified the simple example you mentioned and emphasized the case x==0.
https://circle-artifacts.com/gh/nilearn/nilearn/1520/artifacts/0/home/ubuntu/nilearn/doc/_build/html/auto_examples/03_connectivity/plot_adhd_spheres.html

Also made link to image and examples in https://circle-artifacts.com/gh/nilearn/nilearn/1520/artifacts/0/home/ubuntu/nilearn/doc/_build/html/plotting/index.html#different-display-modes

Also addressed remaining comments.
",nan,nan
20,issue_comment,1034,nilearn,nilearn,bthirion,2016-05-25 21:49:58,"LGTM.
",nan,nan
21,issue_comment,1034,nilearn,nilearn,AlexandreAbraham,2016-06-07 15:05:42,"LGTM too. Merging. Thanks a lot!
",nan,nan
11,issue_comment,1034,nilearn,nilearn,GaelVaroquaux,2016-06-07 15:11:21,"Whoooot
",nan,nan
22,issue_comment,1034,nilearn,nilearn,MartinPerez,2016-06-07 16:08:23,"Awesome! thanks!
On Jun 7, 2016 5:11 PM, ""Gael Varoquaux"" notifications@github.com wrote:

> Whoooot
> 
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> https://github.com/nilearn/nilearn/pull/1034#issuecomment-224311972, or mute
> the thread
> https://github.com/notifications/unsubscribe/AIXFw3NsUXQYwkzt_0SRwEMZroAcDQhBks5qJYobgaJpZM4HljwT
> .
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
4,pull_request_commit_comment,1024,nilearn,nilearn,GaelVaroquaux,2016-02-26 15:18:42,"Your lines are definitely long than 79 chars :)
",070072a1a0c1c5e2a9370ac11874a09fbddc7b04,"(None, '', u'examples/03_connectivity/plot_seed_based_correlation.py')"
5,pull_request_commit_comment,1024,nilearn,nilearn,GaelVaroquaux,2016-02-26 15:19:45,"Could you call this pcc_coords please
",070072a1a0c1c5e2a9370ac11874a09fbddc7b04,"(None, '', u'examples/03_connectivity/plot_seed_based_correlation.py')"
6,pull_request_commit_comment,1024,nilearn,nilearn,GaelVaroquaux,2016-02-26 15:22:01,"Can you make the line below the title as long as the text (to be valid restructured text).
",070072a1a0c1c5e2a9370ac11874a09fbddc7b04,"(None, '', u'examples/03_connectivity/plot_seed_based_correlation.py')"
7,pull_request_commit_comment,1024,nilearn,nilearn,GaelVaroquaux,2016-02-26 15:27:20,"Do you need the ""np.array"" here? If so, we need to fix add_markers.
",070072a1a0c1c5e2a9370ac11874a09fbddc7b04,"(None, '', u'examples/03_connectivity/plot_seed_based_correlation.py')"
8,pull_request_commit_comment,1024,nilearn,nilearn,fliem,2016-02-26 15:29:45,"It fails without np.array

  File ""<string>"", line 6, in <module>
  File ""/Users/franzliem/Dropbox/Workspace/nilearn/nilearn/plotting/displays.py"", line 740, in add_markers
    marker_coords, direction, return_direction=True)
  File ""/Users/franzliem/Dropbox/Workspace/nilearn/nilearn/plotting/displays.py"", line 209, in _coords_3d_to_2d
    return coords_3d[:, dimensions], coords_3d[:, index]
TypeError: list indices must be integers, not tuple

> Am 26.02.2016 um 16:27 schrieb Gael Varoquaux notifications@github.com:
> 
> In examples/03_connectivity/plot_seed_based_correlation.py https://github.com/nilearn/nilearn/pull/1024#discussion_r54256888:
> 
> > +
> > +# Finally, we can tranform the correlation array back to a Nifti image object, that we can save.
> > +seed_based_correlation_img = brain_masker.inverse_transform(seed_based_correlations.T)
> > +seed_based_correlation_img.to_filename('sbc_z.nii.gz')
> > +
> > +
> > +################################################
> > +# Plotting the seed-based correlation map
> > +# ----------------------------------------------
> > +# We can also plot this image and perform thresholding to only show values more extreme than +/- 0.3.
> > +# Furthermore, we can display the location of the seed with a sphere and set the cross to the center
> > +# of the seed region of interest.
> > +from nilearn import plotting
> > +
> > +display = plotting.plot_stat_map(seed_based_correlation_img, threshold=0.3, cut_coords=dmn_coords[0])
> > +display.add_markers(marker_coords=np.array(dmn_coords), marker_color='g', marker_size=300)
> > Do you need the ""np.array"" here? If so, we need to fix add_markers.
> 
> —
> Reply to this email directly or view it on GitHub https://github.com/nilearn/nilearn/pull/1024/files#r54256888.
",070072a1a0c1c5e2a9370ac11874a09fbddc7b04,"(None, '', u'examples/03_connectivity/plot_seed_based_correlation.py')"
9,pull_request_commit_comment,1024,nilearn,nilearn,GaelVaroquaux,2016-02-26 15:35:24,"I would add here: that ""This example is an advanced one that requires manipulating the data with numpy.

Note the difference between images, that lie in brain space space, and the numpy array, corresponding to the data inside the mask"".
",070072a1a0c1c5e2a9370ac11874a09fbddc7b04,"(None, '', u'examples/03_connectivity/plot_seed_based_correlation.py')"
10,pull_request_commit_comment,1024,nilearn,nilearn,GaelVaroquaux,2016-02-26 16:27:06,"Could you name this variable ""pcc_coords"", as it's really the pcc, not the DMN.
",070072a1a0c1c5e2a9370ac11874a09fbddc7b04,"(None, '', u'examples/03_connectivity/plot_seed_based_correlation.py')"
11,pull_request_commit_comment,1024,nilearn,nilearn,GaelVaroquaux,2016-02-26 16:27:43,"Why the extra split?
",070072a1a0c1c5e2a9370ac11874a09fbddc7b04,"(None, '', u'examples/03_connectivity/plot_seed_based_correlation.py')"
12,pull_request_commit_comment,1024,nilearn,nilearn,fliem,2016-02-26 17:16:20,"As not to make the chapter too long. Should I merge the two?

> Am 26.02.2016 um 17:27 schrieb Gael Varoquaux notifications@github.com:
> 
> In examples/03_connectivity/plot_seed_based_correlation.py https://github.com/nilearn/nilearn/pull/1024#discussion_r54265321:
> 
> > -    detrend=True, standardize=True,
> > -    low_pass=0.1, high_pass=0.01, t_r=2.,
> > -    memory='nilearn_cache', memory_level=1, verbose=0)
> >   +
> >   +##########################################################################
> >   +# Then we extract the brain-wide voxel-wise time series while regressing
> >   +# out the confounds as before
> >   +brain_time_series = brain_masker.fit_transform(func_filename,
> > -                                               confounds=[confound_filename])
> >   +
> >   +
> >   +##########################################################################
> >   +# Inspecting the extracted time series
> >   +# ------------------------------------
> >   +
> >   +##########################################################################
> >   Why the extra split?
> 
> —
> Reply to this email directly or view it on GitHub https://github.com/nilearn/nilearn/pull/1024/files#r54265321.
",070072a1a0c1c5e2a9370ac11874a09fbddc7b04,"(None, '', u'examples/03_connectivity/plot_seed_based_correlation.py')"
13,pull_request_commit_comment,1024,nilearn,nilearn,GaelVaroquaux,2016-02-26 17:21:36,"> Should I merge the two?

Please!
",070072a1a0c1c5e2a9370ac11874a09fbddc7b04,"(None, '', u'examples/03_connectivity/plot_seed_based_correlation.py')"
14,pull_request_commit_comment,1024,nilearn,nilearn,GaelVaroquaux,2016-02-26 17:43:40,"Darn, there is an indentation error in the line above.
",070072a1a0c1c5e2a9370ac11874a09fbddc7b04,"(None, '', u'examples/03_connectivity/plot_seed_based_correlation.py')"
15,pull_request_commit_comment,1024,nilearn,nilearn,GaelVaroquaux,2016-02-26 17:45:26,"Code formatting guidelines say that you should indent the ""seed_based_correlation"" to match the right after the opening parenthesis.
",070072a1a0c1c5e2a9370ac11874a09fbddc7b04,"(None, '', u'examples/03_connectivity/plot_seed_based_correlation.py')"
16,pull_request_commit_comment,1024,nilearn,nilearn,fliem,2016-02-26 19:26:26,"Like this?

> Am 26.02.2016 um 18:45 schrieb Gael Varoquaux notifications@github.com:
> 
> In examples/03_connectivity/plot_seed_based_correlation.py https://github.com/nilearn/nilearn/pull/1024#discussion_r54275997:
> 
> > +# been variance-standardized during extraction. To have them standardized to
> > +# norm unit, we further have to divide the result by the length of the time
> > +# series.
> > +import numpy as np
> > +
> > +seed_based_correlations = np.dot(brain_time_series.T, seed_time_series) / \
> > -                          seed_time_series.shape[0]
> >   +
> >   +################################################
> >   +# The resulting array will contain a value representing the correlation
> >   +# values between the signal in the **seed region** of interest and **each
> >   +# voxel's signal**, and will be of shape (n_voxels, 1). The correlation
> >   +# values can potentially range between -1 and 1.
> >   +print(""seed-based correlation shape: (%s, %s)"" % seed_based_correlations.shape)
> >   +print(""seed-based correlation: min = %.3f; max = %.3f"" % (
> >   +seed_based_correlations.min(), seed_based_correlations.max()))
> >   Code formatting guidelines say that you should indent the ""seed_based_correlation"" to match the right after the opening parenthesis.
> 
> —
> Reply to this email directly or view it on GitHub https://github.com/nilearn/nilearn/pull/1024/files#r54275997.
",070072a1a0c1c5e2a9370ac11874a09fbddc7b04,"(None, '', u'examples/03_connectivity/plot_seed_based_correlation.py')"
17,pull_request_commit_comment,1024,nilearn,nilearn,GaelVaroquaux,2016-02-26 19:53:11,"Yes! 

Sent from my phone. Please forgive brevity and mis spelling

On Feb 26, 2016, 20:26, at 20:26, fliem notifications@github.com wrote:

> > +# been variance-standardized during extraction. To have them
> > standardized to
> > +# norm unit, we further have to divide the result by the length of
> > the time
> > +# series.
> > +import numpy as np
> > +
> > +seed_based_correlations = np.dot(brain_time_series.T,
> > seed_time_series) / \
> > -                          seed_time_series.shape[0]
> >   +
> >   +################################################
> >   +# The resulting array will contain a value representing the
> >   correlation
> >   +# values between the signal in the **seed region** of interest and
> >   **each
> >   +# voxel's signal**, and will be of shape (n_voxels, 1). The
> >   correlation
> >   +# values can potentially range between -1 and 1.
> >   +print(""seed-based correlation shape: (%s, %s)"" %
> >   seed_based_correlations.shape)
> >   +print(""seed-based correlation: min = %.3f; max = %.3f"" % (
> >   +seed_based_correlations.min(), seed_based_correlations.max()))
> 
> Like this?
> 
> > Am 26.02.2016 um 18:45 schrieb Gael Varoquaux
> > notifications@github.com:
> > 
> > In examples/03_connectivity/plot_seed_based_correlation.py
> > https://github.com/nilearn/nilearn/pull/1024#discussion_r54275997:
> > 
> > > +# been variance-standardized during extraction. To have them
> > > standardized to
> > > +# norm unit, we further have to divide the result by the length of
> > > the time
> > > +# series.
> > > +import numpy as np
> > > +
> > > +seed_based_correlations = np.dot(brain_time_series.T,
> > > seed_time_series) / \
> > > -                          seed_time_series.shape[0]
> > >   +
> > >   +################################################
> > >   +# The resulting array will contain a value representing the
> > >   correlation
> > >   +# values between the signal in the **seed region** of interest and
> > >   **each
> > >   +# voxel's signal**, and will be of shape (n_voxels, 1). The
> > >   correlation
> > >   +# values can potentially range between -1 and 1.
> > >   +print(""seed-based correlation shape: (%s, %s)"" %
> > >   seed_based_correlations.shape)
> > >   +print(""seed-based correlation: min = %.3f; max = %.3f"" % (
> > >   +seed_based_correlations.min(), seed_based_correlations.max()))
> > >   Code formatting guidelines say that you should indent the
> > >   ""seed_based_correlation"" to match the right after the opening
> > >   parenthesis.
> > 
> > —
> > Reply to this email directly or view it on GitHub
> > https://github.com/nilearn/nilearn/pull/1024/files#r54275997.
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/1024/files#r54289477
",070072a1a0c1c5e2a9370ac11874a09fbddc7b04,"(None, '', u'examples/03_connectivity/plot_seed_based_correlation.py')"
18,pull_request_commit_comment,1024,nilearn,nilearn,GaelVaroquaux,2016-02-27 09:09:38,"It's actually ""input_data"", rather than ""in_data""
",070072a1a0c1c5e2a9370ac11874a09fbddc7b04,"(73, '', u'examples/03_connectivity/plot_seed_based_correlation.py')"
19,pull_request_commit_comment,1024,nilearn,nilearn,GaelVaroquaux,2016-02-27 09:39:04,"I'll fix that and merge. Thanks!
",070072a1a0c1c5e2a9370ac11874a09fbddc7b04,"(73, '', u'examples/03_connectivity/plot_seed_based_correlation.py')"
 , , , , , , , , , 
 , , , , , , , , , 
8,pull_request_commit_comment,1027,nilearn,nilearn,GaelVaroquaux,2016-02-26 17:17:01,"Did you check that this renders well. I have doubt on the indentation in seealso for multiple lines.
",ca9864e61011aefc788afcf65b8ed821ec65c676,"(None, '', u'nilearn/image/resampling.py')"
9,pull_request_commit_comment,1027,nilearn,nilearn,GaelVaroquaux,2016-02-26 17:17:23,"Same comment about seealso.
",ca9864e61011aefc788afcf65b8ed821ec65c676,"(None, '', u'nilearn/image/resampling.py')"
5,issue_comment,1027,nilearn,nilearn,GaelVaroquaux,2016-02-26 17:29:28,"Looks great!

Can you add the function to doc/module/reference.rst, and also in the narrative documentation where resample_img is documented (do a git graph resample_img).
",nan,nan
10,pull_request_commit_comment,1027,nilearn,nilearn,bthirion,2016-02-26 18:08:19,"attribute
",ca9864e61011aefc788afcf65b8ed821ec65c676,"(None, '', u'examples/04_manipulating_images/plot_affine_transformation.py')"
11,pull_request_commit_comment,1027,nilearn,nilearn,bthirion,2016-02-26 18:09:33,"Indicates
",ca9864e61011aefc788afcf65b8ed821ec65c676,"(None, '', u'nilearn/image/resampling.py')"
6,issue_comment,1027,nilearn,nilearn,GaelVaroquaux,2016-02-26 18:17:39,"LGTM aside from the typo spotted by Bertrand 
",nan,nan
12,pull_request_commit_comment,1027,nilearn,nilearn,aabadie,2016-02-26 21:41:18,"Done (sorry I missed this comment)
",ca9864e61011aefc788afcf65b8ed821ec65c676,"(None, '', u'nilearn/image/resampling.py')"
7,issue_comment,1027,nilearn,nilearn,GaelVaroquaux,2016-02-27 09:14:00,"Merging. Thank you (you forgot to add in whats_new, and a versionadded in the docstring would have been great, but I'll do that myself).
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
13,pull_request_commit_comment,1026,nilearn,nilearn,GaelVaroquaux,2016-02-26 16:28:57,"Is this change necessary?
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'nilearn/plotting/img_plotting.py')"
14,pull_request_commit_comment,1026,nilearn,nilearn,GaelVaroquaux,2016-02-26 16:29:49,"Could you remove the comment line
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'nilearn/plotting/img_plotting.py')"
15,pull_request_commit_comment,1026,nilearn,nilearn,GaelVaroquaux,2016-02-26 16:33:05,"Could you format this according to the numpy doc standard: a Parameters section, and Example as a section.

The reason that I ask this, is that the docstring is invalid currently.

Also, the examples should be doctests.
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'nilearn/plotting/img_plotting.py')"
16,pull_request_commit_comment,1026,nilearn,nilearn,GaelVaroquaux,2016-02-26 16:33:28,"isinstance(cmap, basestring)
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'nilearn/plotting/img_plotting.py')"
17,pull_request_commit_comment,1026,nilearn,nilearn,arthurmensch,2016-02-26 16:34:36,"This is unused anyway
Le 26 févr. 2016 17:33, ""Gael Varoquaux"" notifications@github.com a
écrit :

> In nilearn/plotting/img_plotting.py
> https://github.com/nilearn/nilearn/pull/1026#discussion_r54266010:
> 
> > @@ -815,6 +834,32 @@ def plot_prob_atlas(maps_img, anat_img=MNI152TEMPLATE, view_type='auto',
> >      return display
> > 
> > +def _cmap_discretize(cmap, N):
> > -    """"""Return a discrete colormap from the continuous colormap cmap.
> >   +
> > -        cmap: colormap instance, eg. cm.jet.
> > -        N: number of colors.
> >   +
> > -    Example
> > -        x = resize(arange(100), (5,100))
> > -        djet = cmap_discretize(cm.jet, 5)
> > -        imshow(x, cmap=djet)
> 
> Could you format this according to the numpy doc standard: a Parameters
> section, and Example as a section.
> 
> The reason that I ask this, is that the docstring is invalid currently.
> 
> Also, the examples should be doctests.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/1026/files#r54266010.
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'nilearn/plotting/img_plotting.py')"
18,pull_request_commit_comment,1026,nilearn,nilearn,GaelVaroquaux,2016-02-26 17:48:10,"I think that colorbar should be False by default (and in the example just add one being ""True"").
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'nilearn/plotting/img_plotting.py')"
19,pull_request_commit_comment,1026,nilearn,nilearn,GaelVaroquaux,2016-02-26 17:48:26,"The reason that I think that is that it isn't that informative.
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'nilearn/plotting/img_plotting.py')"
20,pull_request_commit_comment,1026,nilearn,nilearn,GaelVaroquaux,2016-02-26 17:49:03,"I think that the variable 'our_cmap' is not used.
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'nilearn/plotting/img_plotting.py')"
21,pull_request_commit_comment,1026,nilearn,nilearn,bthirion,2016-02-26 18:28:02,"on my box, this creates grayscale colorbars :-( 
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'examples/01_plotting/plot_prob_atlas.py')"
22,pull_request_commit_comment,1026,nilearn,nilearn,bthirion,2016-02-26 18:30:54,"Would it be possible to support user-supplied labels (sorry if my question is silly, I don't know this code well) ?
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'nilearn/plotting/img_plotting.py')"
23,pull_request_commit_comment,1026,nilearn,nilearn,GaelVaroquaux,2016-02-26 18:37:25,"No because they are too big and we cannot do a good layout.

Sent from my phone. Please forgive brevity and mis spelling

On Feb 26, 2016, 19:30, at 19:30, bthirion notifications@github.com wrote:

> > -        our_cmap = cmap
> > -        display._colorbar = True
> > -   
> >   display._show_colorbar(matplotlib.colors.LinearSegmentedColormap.
> > -                               from_list('segmented colors',
> > -                                         color_list, n_maps + 1),
> > -                               matplotlib.colors.Normalize(1, n_maps
> > - 1))
> > -        tick_locator = matplotlib.ticker.MaxNLocator(nbins=10)
> > -        display.locator = tick_locator
> > -        display._cbar.update_ticks()
> > -        display._cbar.set_ticks(np.round(np.linspace(1, n_maps,
> > -                                                     min(n_maps,
> >   10))) + .5)
> > -        display._cbar.set_ticklabels(np.round(np.linspace(1, n_maps,
> > -                                                 min(n_maps,
> >   10))).astype('int'))
> > -        left, bottom, width, height =
> >   display._colorbar_ax.get_position().bounds
> > -        display._colorbar_ax.set_position([left, bottom, width,
> >   height \* 0.95])
> > -        display._colorbar_ax.annotate('Map #', xy=(1, 1.03),
> >   ha='right', va='bottom',
> 
> Would it be possible to support user-supplied labels (sorry if my
> question is silly, I don't know this code well) ?
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/1026/files#r54281846
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'nilearn/plotting/img_plotting.py')"
24,pull_request_commit_comment,1026,nilearn,nilearn,GaelVaroquaux,2016-02-27 14:28:51,"> on my box, this creates grayscale colorbars :-(

Ouch, we have a problem.
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'examples/01_plotting/plot_prob_atlas.py')"
25,pull_request_commit_comment,1026,nilearn,nilearn,banilo,2016-02-29 12:38:31,"Why not also craddock's altas?
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'examples/01_plotting/plot_prob_atlas.py')"
26,pull_request_commit_comment,1026,nilearn,nilearn,banilo,2016-02-29 12:39:46,"Add an optional argument to control `cmap` here?
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'nilearn/plotting/img_plotting.py')"
27,pull_request_commit_comment,1026,nilearn,nilearn,banilo,2016-02-29 12:46:46,"merge conflicts?
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'nilearn/plotting/img_plotting.py')"
28,pull_request_commit_comment,1026,nilearn,nilearn,arthurmensch,2016-02-29 13:26:48,"Not the point of this PR
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'examples/01_plotting/plot_prob_atlas.py')"
29,pull_request_commit_comment,1026,nilearn,nilearn,arthurmensch,2016-02-29 13:27:19,"Already there
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'nilearn/plotting/img_plotting.py')"
30,pull_request_commit_comment,1026,nilearn,nilearn,GaelVaroquaux,2016-02-29 16:23:15,"The code below would be more readable if you created an intermediate variable containing 

```
np.round(np.linspace(1, n_maps, min(n_maps, 10)))
```
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'nilearn/plotting/img_plotting.py')"
31,pull_request_commit_comment,1026,nilearn,nilearn,KamalakerDadi,2016-02-29 22:32:41,"Could you add a line saying about the representation of colorbar ?
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'nilearn/plotting/img_plotting.py')"
32,pull_request_commit_comment,1026,nilearn,nilearn,KamalakerDadi,2016-02-29 22:35:03,""" Testing the 4D plot prob atlas with colorbar "" you mean ?
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'nilearn/plotting/tests/test_img_plotting.py')"
33,pull_request_commit_comment,1026,nilearn,nilearn,KamalakerDadi,2016-02-29 22:37:33,"yes
",8b932584bba05404d90a5025e73cf0502569e859,"(None, '', u'nilearn/plotting/img_plotting.py')"
11,issue_comment,1026,nilearn,nilearn,KamalakerDadi,2016-02-29 22:52:28,"Could you please also add about this feature in `whats_new` doc.
",nan,nan
12,issue_comment,1026,nilearn,nilearn,KamalakerDadi,2016-03-01 12:46:14,"@arthurmensch  I am sorry for conflicts. I realized lately.
",nan,nan
34,pull_request_commit_comment,1026,nilearn,nilearn,KamalakerDadi,2016-05-13 10:11:53,"Is this change intentional ?
",8b932584bba05404d90a5025e73cf0502569e859,"(85, '', u'nilearn/plotting/img_plotting.py')"
35,pull_request_commit_comment,1026,nilearn,nilearn,KamalakerDadi,2016-05-13 10:12:03,"typo here
",8b932584bba05404d90a5025e73cf0502569e859,"(14, '', u'examples/01_plotting/plot_prob_atlas.py')"
5,issue_comment,1026,nilearn,nilearn,KamalakerDadi,2016-05-14 09:41:57,"@bthirion Can you try with `view_type='continuous'`. Just want to make sure that if there is any problem with contours method.

``` python
plotting.plot_prob_atlas(msdl.maps, colorbar=True, view_type='continuous')
```
",nan,nan
6,issue_comment,1026,nilearn,nilearn,bthirion,2016-05-16 09:45:47,"This works well with `view_type=continuous`, thx.
",nan,nan
7,issue_comment,1026,nilearn,nilearn,KamalakerDadi,2016-05-17 20:05:49,"I am not sure but assuming that there might be problem with matplotlib version 1.5.1 using contours. Not guaranteed.
",nan,nan
8,issue_comment,1026,nilearn,nilearn,arthurmensch,2016-05-27 13:22:04,"@bthirion what matplotlib backend do you use ?
",nan,nan
9,issue_comment,1026,nilearn,nilearn,bthirion,2016-05-27 13:29:15,"Qt4Agg
",nan,nan
10,issue_comment,1026,nilearn,nilearn,arthurmensch,2016-05-27 13:32:20,"I cannot reproduce this issue, no matter the configuration I try. As it is not critical, I suggest we merge this PR and wait for further feedback to identity the reason of this corner case.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
5,issue_comment,961,nilearn,nilearn,GaelVaroquaux,2016-02-02 15:12:00,"Looks great to me! +1 for merge. Thanks.

For the record, the rendered HTML is visible here:
https://circle-artifacts.com/gh/nilearn/nilearn/1108/artifacts/0/home/ubuntu/nilearn/doc/_build/html/auto_examples/index.html
",nan,nan
6,issue_comment,961,nilearn,nilearn,lesteve,2016-02-02 15:34:47,"LGTM, merging, thanks a lot for your work on this !
",nan,nan
7,issue_comment,961,nilearn,nilearn,AlexandreAbraham,2016-02-02 15:38:23,"Woohoo!
",nan,nan
8,issue_comment,961,nilearn,nilearn,GaelVaroquaux,2016-02-02 15:39:36,"> Woohoo!

Yeah! I'm pretty happy
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
5,pull_request_commit_comment,1022,nilearn,nilearn,GaelVaroquaux,2016-02-26 14:51:50,"Isn't it ""background"", and not ""bg""?
",d5c685977359b9c09fff60155091af7758e15142,"(None, '', u'nilearn/datasets/func.py')"
6,pull_request_commit_comment,1022,nilearn,nilearn,GaelVaroquaux,2016-02-26 14:52:30,"Should we call it ""anat"", to be consistent with the other datasets?
",d5c685977359b9c09fff60155091af7758e15142,"(None, '', u'nilearn/datasets/func.py')"
7,pull_request_commit_comment,1022,nilearn,nilearn,AlexandreAbraham,2016-02-26 14:55:08,"It would be consistent but since it's not really an anatomical image acquired with the dataset, I'm not sure that we can do that.
",d5c685977359b9c09fff60155091af7758e15142,"(None, '', u'nilearn/datasets/func.py')"
8,pull_request_commit_comment,1022,nilearn,nilearn,GaelVaroquaux,2016-02-26 14:55:49,"> It would be consistent but since it's not really an anatomical image acquired
> with the dataset, I'm not sure that we can do that.

OK. I am fine with 'background'.
",d5c685977359b9c09fff60155091af7758e15142,"(None, '', u'nilearn/datasets/func.py')"
 , , , , , , , , , 
 , , , , , , , , , 
9,pull_request_commit_comment,968,nilearn,nilearn,AlexandreAbraham,2016-02-03 14:01:13,"The syntax `{...}` is not valid in Python 2.6. Please use `set([...])`.
",10c0921192b3ad24cb600faf0bad19641682f151,"(None, '', u'nilearn/connectome/connectivity_matrices.py')"
5,issue_comment,968,nilearn,nilearn,AlexandreAbraham,2016-02-03 14:02:01,"Your PR looks good to me. My comment should fix the Travis failure. Are you planning to do something else in it or can I merge it?
",nan,nan
6,issue_comment,968,nilearn,nilearn,salma1601,2016-02-03 14:19:01,"I will only fix the Travis failure, thanks !
",nan,nan
7,issue_comment,968,nilearn,nilearn,salma1601,2016-02-03 14:34:13,"may be I should remove the error raised for unknow kind from fit_transform to fit, what do you think ?
",nan,nan
8,issue_comment,968,nilearn,nilearn,AlexandreAbraham,2016-02-03 16:16:18,"> may be I should remove the error raised for unknow kind from fit_transform to fit, what do you think ?

Let's move on.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
13,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-27 12:51:19,"In examples, we like to do the imports in the same ""cell"" as where we use the corresponding symbols: it makes it easier for beginner to relate the symbols to where they come from.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
14,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-27 12:51:54,""": the data after the first twelve files""
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(45, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
15,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-27 12:52:44,"Maybe we could plot one or two image here, and have a text reminding us that these were the stimuli.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
16,pull_request_commit_comment,1028,nilearn,nilearn,aabadie,2016-02-27 12:54:01,"MultiNiftiMas_k_er
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
17,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-27 12:56:55,"Ah, maybe here is where we want to plot stimuli.

I would suggest moving the definition of y_shape here, to have things close to where they are understandable.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
18,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-27 12:57:54,"Can we not use scikit-learn's cross_val_score?
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
19,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-27 12:58:28,"Sorry, stupid comment. It cross_val_predict that we would need. But it's only in very recent scikit-learn versions.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
20,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-27 12:58:50,"I wonder if, for Python beginners, a for loop wouldn't be easier to read.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
21,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-27 12:59:44,"Well, no, actually, we should be able to combine that cell with the one after and use cross_val_score, no?
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
22,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-27 13:00:15,"PEP8: you need a space after ','
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
23,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-27 13:01:11,"We like to call the return of plot_stat_map 'display'. I think that it reflects better the type of object that this is. Tell me if you disagree, though.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
24,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-27 13:01:36,"Do we need the ""symmetric_cbar=False""
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
25,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-27 13:02:51,"Can you modify index_to_xy_coord so that it's return argument can be passed to add_markers with any transformation. It will make the example simpler.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
26,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-27 13:03:16,"PEP8: space after ','
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
27,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-27 13:08:47,"Maybe you should say that this is partly reproducing the Miyawaki paper, from which the data comes from.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
28,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-27 13:09:45,"PEP8: space after coma

Also, any chance that you find a more explicit name for this variable?
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
29,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-27 13:09:58,"PEP8: space after coma
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
30,pull_request_commit_comment,1028,nilearn,nilearn,mjboos,2016-02-27 22:01:29,"I think cross_val_score needs a scorer that returns a single float, but we need an array of scores (one for each voxel). We could do cross_val_score independently for each voxel and then concatenate, but that makes the example much slower (7 minutes vs. 20 seconds for me)
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
31,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-28 16:29:23,"In the examples, we tend to import modules in the cell where we need them, in order to have the imports as close as possible to the code that uses them.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
32,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-28 16:31:06,"PEP8 tells us that there should not be spaces before and after the ""="" next to ""multioutput.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
33,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-28 16:33:17,"Maybe we can merge that cell with the next one, and have only one for loop. The ""predictions"" list might then not be needed.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
34,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-28 16:33:43,"> I think cross_val_score needs a scorer that returns a single float, but
> we need an array of scores (one for each voxel). We could do
> cross_val_score independently for each voxel and then concatenate, but
> that makes the example much slower (7 minutes vs. 20 seconds for me)

Point taken.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
35,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-28 16:35:58,"We have a convention in nilearn to always end the names of the images with ""_img"". Would you mind changing  `score_map` to `score_img` and `thresholded_score_map` to `thresholded_score_img` ?
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
36,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-28 16:36:51,"The 'show' should be only at the end of the file because in script mode it will block the execution of the script.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
37,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-28 16:38:19,"The red doesn't show, because the background is red. Maybe it's better to use cyan.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
38,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-28 16:42:35,"Maybe a line of comment on what is GridSpec.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
39,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-28 16:43:24,"Maybe a title for the figure?
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
40,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-28 16:45:35,"PEP8 says that, in function calls, there should be no spaces before and after equal signs used for keyword-arguments (unlike equal signs used in assignments, outside the function calls.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
41,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-28 16:45:51,"PEP8 says that, in function calls, there should be no spaces before and after equal signs used for keyword-arguments (unlike equal signs used in assignments, outside the function calls.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
42,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-28 16:46:03,"PEP8 says that, in function calls, there should be no spaces before and after equal signs used for keyword-arguments (unlike equal signs used in assignments, outside the function calls.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
5,issue_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-28 16:47:53,"Unless I missed a few more PEP8 errors, I think that I have made all my comments. So this is definitely almost there.

By the way: the current status of rendered doc can be seen on:
https://circle-artifacts.com/gh/nilearn/nilearn/1344/artifacts/0/home/ubuntu/nilearn/doc/_build/html/auto_examples/02_decoding/plot_miyawaki_encoding.html
",nan,nan
43,pull_request_commit_comment,1028,nilearn,nilearn,mjboos,2016-02-28 17:58:10,"Cyan doesn't have a nice Sequential colormap like 'Reds' or 'Blues' (and the ones containing cyan just don't look good here), building one makes the tutorial more complicated. I've switched the red and blue marker, so the contrast to the surrounding voxels is stronger. I find it discriminative enough, but I can also add a custom colormap if you think that's better.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
44,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-28 18:08:44,"> I've switched the red and blue marker, so the contrast to the
> surrounding voxels is stronger. I find it discriminative enough,

That sounds good!
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
9,issue_comment,1028,nilearn,nilearn,mjboos,2016-02-28 19:55:10,"Huh, there are still red backgrounds of the marked voxels in the rendered doc at: https://circle-artifacts.com/gh/nilearn/nilearn/1346/artifacts/0/home/ubuntu/nilearn/doc/_build/html/auto_examples/02_decoding/plot_miyawaki_encoding.html

But there shouldn't be, the scores of the marked voxels are >.45, and should be bright yellow for this colormap. I cannot reproduce this on my machine (or on another when I clone the repo), for me the voxels have the correct color for their score.

Any idea why it looks different with circle-ci?
",nan,nan
45,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-29 08:30:26,"I wonder if that figure isn't too tall: the aspect ratio should probably be around 3/2. Right now, it has a lot of whitespace at the bottom.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
46,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-29 08:33:21,"How about using cyan to be really robust to fluctuations in prediction power. (I am trying to understand why things vary across computers, but I haven't so far).
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
47,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-29 08:44:03,"Nitpick: this might be written:

```
cut_score = np.mean(scores, axis=0)
```
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
48,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-29 08:45:42,"We tend to prefer using masker.inverse_transform. Is there a reason why it is not suitable here?
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
49,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-29 08:49:19,"I am stupid: you told me why no cyan: no corresponding colormap. It's before coffee, sorry.

How about black, then? You can use the gray colormap.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
50,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-29 08:52:40,"How about you add a 'vmax=.5' and see how it looks like on CircleCI. I suspect that outside the cuts there are some voxels that perform very well, and these are setting the max of the color range.

I've been staring at the code for a little while, and I still don't understand why it looks different on different computers :$.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(174, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
51,pull_request_commit_comment,1028,nilearn,nilearn,banilo,2016-02-29 13:04:47,"perhaps ""based on information of presented stimuli""
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
52,pull_request_commit_comment,1028,nilearn,nilearn,banilo,2016-02-29 13:06:43,"grammar
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
53,pull_request_commit_comment,1028,nilearn,nilearn,banilo,2016-02-29 13:07:58,"binary (i.e., X and Y values) image
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
54,pull_request_commit_comment,1028,nilearn,nilearn,banilo,2016-02-29 13:08:55,"point at the end of this sentence
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
55,pull_request_commit_comment,1028,nilearn,nilearn,banilo,2016-02-29 13:10:22,"perhaps use normal `#` instead
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(164, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
56,pull_request_commit_comment,1028,nilearn,nilearn,banilo,2016-02-29 13:12:30,"can be simplified to `fig = plt.figure(figsize=(12, 12))`
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(186, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
57,pull_request_commit_comment,1028,nilearn,nilearn,mjboos,2016-02-29 15:44:03,"Was just how the original code was. No problem to change
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
58,pull_request_commit_comment,1028,nilearn,nilearn,mjboos,2016-02-29 15:49:40,"Didn't work for me. We need to get the figure object after it was created by plot_stat_map, giving it directly to it in the right size does not scale the colorbar correctly with the image.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(186, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
59,pull_request_commit_comment,1028,nilearn,nilearn,eickenberg,2016-02-29 15:51:55,"this looks a little shocking until you realize that `X` is the fMRI, not the design. It's fine if you follow the script properly. The other option would have been to name it `Y` and the pixels `X` to indicate the encoding direction `X --> Y`.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
60,pull_request_commit_comment,1028,nilearn,nilearn,eickenberg,2016-02-29 15:53:09,"Isn't it awesome that we have non-aggregated `r2_score` values accessible in sklearn? ;)
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
61,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-29 16:08:24,"> this looks a little shocking until you realize that X is the fMRI, not the
> design. It's fine if you follow the script properly. The other option would
> have been to name it Y and the pixels X to indicate the encoding direction X
> --> Y.

Yes, actually. We could call them 'fmri_data', and 'stimuli'.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
62,pull_request_commit_comment,1028,nilearn,nilearn,mjboos,2016-02-29 16:11:44,"Makes sense. Right now it mimicks the preprocessing/data-loading of the reconstruction example, so you could see that it really just reverses X and y, but giving them expressive names would be much clearer.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
63,pull_request_commit_comment,1028,nilearn,nilearn,mjboos,2016-02-29 18:27:15,"Works now also on CircleCI. As @AlexandreAbraham pointed out, marker_color needed to be set, apparently it was being overridden by edgecolor/facecolor on my computer. Maybe different behavior in diff. matplotlib-versions.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(174, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
64,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-29 19:37:41,"> Works now also on CircleCI. As @AlexandreAbraham pointed out, marker_color
> needed to be set, apparently it was being overridden by edgecolor/facecolor on
> my computer.

Awesome! Great job to both of you!
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(174, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
65,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-29 19:40:27,"One (last?) question: why are you using new_img_like, and not just the output of masker.inverse_transform(cut_score)?
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
66,pull_request_commit_comment,1028,nilearn,nilearn,mjboos,2016-02-29 19:49:33,"The mask doesn't have the affine transform of the background image.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
67,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-29 19:53:10,"> The mask doesn't have the affine transform of the background image.

Hum... One of the two must be wrong, then. Don't you think? I can't
really see another explaination.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
68,pull_request_commit_comment,1028,nilearn,nilearn,mjboos,2016-02-29 19:56:42,"Actually, the mask's affine transform is just an identity matrix.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
69,pull_request_commit_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-02-29 20:00:53,"> Actually, the mask's affine transform is just an identity matrix.

So it's wrong. We must fix it.

@AlexandreAbraham, any chance that you can grab the affine from the
background image and upload to nitrc a fixed version of the mask?
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
70,pull_request_commit_comment,1028,nilearn,nilearn,AlexandreAbraham,2016-03-02 09:24:02,"On it.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
71,pull_request_commit_comment,1028,nilearn,nilearn,AlexandreAbraham,2016-03-02 09:57:58,"Done in PR #1038. Note that, unfortunately, you will have to erase manually your miyawaki2008 folder to force downloading.
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
72,pull_request_commit_comment,1028,nilearn,nilearn,mjboos,2016-03-02 17:33:34,"Great, thank you!
",463dc2ab4d17fd7456b7677a1638237be075bc0e,"(None, '', u'examples/02_decoding/plot_miyawaki_encoding.py')"
6,issue_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-03-02 21:51:44,"Looks great. I am +1 for merge.

Just to be sure that everything is right, I have restarted the CircleCI build after clearing the cache, as the downloaded dataset wasn't the latest.
",nan,nan
10,issue_comment,1028,nilearn,nilearn,KamalakerDadi,2016-03-03 09:05:42,"@GaelVaroquaux Have you started the build again ? What was wrong in last build ? I could not catch.
",nan,nan
7,issue_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-03-03 10:40:59,"@KamalakerDadi : I started the build again to try to refresh the cache. Indeed on CircleCI the rendering is wrong because of a caching problem, as it is still grabbing the broken brain mask.

Anyhow, I ran this on my computer and everything looks right.

Hence, I am +1 for merge.

There is one little thing, which is that the example runs for 10mn. We'd like to make this faster, as 10mn is quite a dent in our budget with regards to compute time for all the examples. I am playing a bit with the various estimators locally to see if I can make things faster.
",nan,nan
11,issue_comment,1028,nilearn,nilearn,KamalakerDadi,2016-03-03 10:46:22,"> Anyhow, I ran this on my computer and everything looks right.

Great. I have no other comments. Except that I think this example deserves place in Userguide module ?
",nan,nan
8,issue_comment,1028,nilearn,nilearn,GaelVaroquaux,2016-03-03 10:49:02,"OK, I remove my previous comment: the example is quite fast, the time was mostly due to the download time. So am merging this. Thank you very much @mjboos !
",nan,nan
12,issue_comment,1028,nilearn,nilearn,KamalakerDadi,2016-03-03 10:50:00,"Great work @mjboos 
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
5,issue_comment,959,nilearn,nilearn,aabadie,2016-01-22 09:28:01,"For the record, I pushed a test function that checks that the `_iter_check_niimg` doesn't do any memory copy (as suggested by @AlexandreAbraham). The memory usage is as expected.
",nan,nan
6,issue_comment,959,nilearn,nilearn,AlexandreAbraham,2016-01-22 12:08:46,"That's great !

I have another suggestion (not for your PR, in general). In nilearn, we often use weird coding patterns (I'm thinking of taking the sum of a numpy array to know if there is nan inside for example). It would be interesting to keep a performance test (time and memory usage) for some of these patterns.

It is useful for other developers and, for example, we could bench the Nifti1Image format, on which we rely heavily, and thus spot if there is performance regression.

Benching the I/O is also interesting for cluster computation: some design patterns may not be favorable on a cluster because of longer file access time.

This is not a trivial work. What do you think?
",nan,nan
7,issue_comment,959,nilearn,nilearn,aabadie,2016-01-22 15:20:59,"> I have another suggestion (not for your PR, in general). In nilearn, we often
> use weird coding patterns (I'm thinking of taking the sum of a numpy array
> to know if there is nan inside for example). It would be interesting to keep
> a performance test (time and memory usage) for some of these patterns.

For computation time testing, it's difficult because it depends on the speed of the cpu running the test. Using reference measures computed from the current master and stored in a dedicated file, we could compare the measures of a PR against them and raise an error in case of a too large difference.

> Benching the I/O is also interesting for cluster computation: some design
> patterns may not be favorable on a cluster because of longer file access
> time.

I see the point. I don't how one can check the underlying I/O system calls from Python.
Maybe this could be done using a call to an external command like (only available on posix):

``` bash
# Return the number of system calls to read
strace python -c ""some python code with I/O"" 2>&1 | grep read | wc -l
# Return the number of system calls to write
strace python -c ""some python code with I/O"" 2>&1 | grep write | wc -l
```

The output of the commands above could then be sent back to and analyzed be the global python test script.

> This is not a trivial work.

I agree, but it's not impossible.
",nan,nan
8,issue_comment,959,nilearn,nilearn,lesteve,2016-01-22 15:29:17,"> >  This is not a trivial work.
> 
> I agree, but it's not impossible.

scikit-learn tried to do these kind of performance monitoring at one point during a GSoC. From what I have heard, a significant amount of time was invested with little return because this is a lot of work to maintain the infrastructure to do it. From what I remember it was based on vbench which ended up changing its internals and breaking the work that was done on scikit-learn.
",nan,nan
9,issue_comment,959,nilearn,nilearn,lesteve,2016-01-22 15:30:25,"You seem to have introduced a PEP8 (line too long). You can look at the Travis build output [here](https://travis-ci.org/nilearn/nilearn/jobs/104104951). The best is if you run ./continuous_integration/flake8_diff.sh in your local code.
",nan,nan
10,issue_comment,959,nilearn,nilearn,aabadie,2016-01-22 15:34:15,"> You seem to have introduced a PEP8 (line too long)

Indeed, I changed the configuration of my IDE flake8 to accept lines up to 80 characters...
",nan,nan
18,pull_request_commit_comment,959,nilearn,nilearn,lesteve,2016-01-22 15:36:57,"I am not sure what 1e6 means and I think it is misleading since it actually means 1024 *\* 2 bytes.
",8bc3083da7a34c50ddc232d08823fb957aa841d0,"(None, '', u'nilearn/_utils/testing.py')"
19,pull_request_commit_comment,959,nilearn,nilearn,lesteve,2016-01-22 15:37:15,"What's the point of having callable_obj=None by default?
",8bc3083da7a34c50ddc232d08823fb957aa841d0,"(None, '', u'nilearn/_utils/testing.py')"
20,pull_request_commit_comment,959,nilearn,nilearn,lesteve,2016-01-22 15:38:34,"why not do `memory_used = None` like you do for memory_usage?
",8bc3083da7a34c50ddc232d08823fb957aa841d0,"(None, '', u'nilearn/_utils/testing.py')"
21,pull_request_commit_comment,959,nilearn,nilearn,aabadie,2016-01-22 15:39:44,"Probably the same as the one I took as example here: https://github.com/nilearn/nilearn/pull/959/files#diff-84deb1797526e96db1bf5f1c72f508eaR36
I'll remove the default parameter.
",8bc3083da7a34c50ddc232d08823fb957aa841d0,"(None, '', u'nilearn/_utils/testing.py')"
22,pull_request_commit_comment,959,nilearn,nilearn,lesteve,2016-01-22 15:42:30,"I thought we agreed to check the used memory as measured by memory_profiler rather that the expected_value. Also from our little experiments I would say that setting the threshold at 10 MiB is more reasonable.
",8bc3083da7a34c50ddc232d08823fb957aa841d0,"(None, '', u'nilearn/_utils/testing.py')"
23,pull_request_commit_comment,959,nilearn,nilearn,aabadie,2016-01-22 15:50:03,"Indeed this is not necessary.
",8bc3083da7a34c50ddc232d08823fb957aa841d0,"(None, '', u'nilearn/_utils/testing.py')"
24,pull_request_commit_comment,959,nilearn,nilearn,aabadie,2016-01-22 15:57:26,"> I thought we agreed to check the used memory as measured by memory_profiler rather that the expected_value.

I think that we didn't converge. Thinking of it, `expected_value` should be renamed to  `memory_limit` to be more in the spirit of the initial desired behaviour.

> I would say that setting the threshold at 10 MiB is more reasonable.

Agreed, will change.
",8bc3083da7a34c50ddc232d08823fb957aa841d0,"(None, '', u'nilearn/_utils/testing.py')"
11,issue_comment,959,nilearn,nilearn,GaelVaroquaux,2016-01-22 15:59:23,"> From what I remember it was based on vbench which ended up changing its
> internals and breaking the work that was done on scikit-learn.

Pandas is now using something different, and they are very happy with it.
We should look at that. But nilearn is probably not the place to set this
up; rather a bigger project, with more manpowerful.
",nan,nan
25,pull_request_commit_comment,959,nilearn,nilearn,lesteve,2016-01-22 16:11:18,"> I think that we didn't converge

I should work on my impression of converging then :-). Given the %memit behaviour we saw, I would feel a lot more confident to check that the memory usage is not smaller than 10 MiB. You may need to change your test to make sure that the function uses some memory for example by creating the array inside the function if you want to make sure that something doesn't make any copy, e.g. in your test_iter_niimg stuff but that sounds fine to me.
",8bc3083da7a34c50ddc232d08823fb957aa841d0,"(None, '', u'nilearn/_utils/testing.py')"
12,issue_comment,959,nilearn,nilearn,aabadie,2016-01-22 16:37:49,"> But nilearn is probably not the place to set this up; rather a bigger project, with more manpowerful.

scikit-learn ?
",nan,nan
13,issue_comment,959,nilearn,nilearn,aabadie,2016-01-22 16:40:26,"> Pandas is now using something different, and they are very happy with it.

Looking at their repos, it seems they are still using vbench. But I may have missed something.
",nan,nan
14,issue_comment,959,nilearn,nilearn,GaelVaroquaux,2016-01-22 16:42:14,"> scikit-learn ?

Yes. But let's first discuss this in an engineering meeting at the lab.
Do you want to schedule one? (doodle?)
",nan,nan
26,pull_request_commit_comment,959,nilearn,nilearn,aabadie,2016-01-22 17:09:09,"> Given the %memit behaviour we saw, I would feel a lot more confident to check that the memory usage is not smaller than 10 MiB

I added an extra check one the memory is measured. You were right : with 10MiB objects, the measured memory was 0.0... It works as expected with larger objects.
",8bc3083da7a34c50ddc232d08823fb957aa841d0,"(None, '', u'nilearn/_utils/testing.py')"
15,issue_comment,959,nilearn,nilearn,aabadie,2016-01-22 17:13:02,"> Do you want to schedule one? (doodle?)

Sure. Let's do it next wednesday afternoon or thursday.
",nan,nan
27,pull_request_commit_comment,959,nilearn,nilearn,lesteve,2016-01-28 09:32:05,"Maybe we don't really care about running memory_profiler tests on CircleCI, given that we are already running them on Travis.
",8bc3083da7a34c50ddc232d08823fb957aa841d0,"(None, '', u'circle.yml')"
28,pull_request_commit_comment,959,nilearn,nilearn,aabadie,2016-01-28 09:37:50,"Yeah, I just wanted to compare the results across CI's (as the tests fail on travis). I'll revert this.
",8bc3083da7a34c50ddc232d08823fb957aa841d0,"(None, '', u'circle.yml')"
29,pull_request_commit_comment,959,nilearn,nilearn,lesteve,2016-01-28 12:49:03,"Quickly looking at the memory_profiler code, it looks like timeout does nothing when memory usage is called with a tuple (func, args, kwargs).
",8bc3083da7a34c50ddc232d08823fb957aa841d0,"(None, '', u'nilearn/_utils/testing.py')"
30,pull_request_commit_comment,959,nilearn,nilearn,aabadie,2016-01-28 13:05:48,"I removed it.
",8bc3083da7a34c50ddc232d08823fb957aa841d0,"(None, '', u'nilearn/_utils/testing.py')"
16,issue_comment,959,nilearn,nilearn,aabadie,2016-02-02 13:48:01,"Just for the record, I think this is PR is ready for a re-review (nearly mergeable).
",nan,nan
31,pull_request_commit_comment,959,nilearn,nilearn,lesteve,2016-02-02 14:43:33,"Is this still necessary? I seem to remember it was added when you tried to make the AppVeyor tests pass.
",8bc3083da7a34c50ddc232d08823fb957aa841d0,"(None, '', u'nilearn/tests/test_niimg_conversions.py')"
32,pull_request_commit_comment,959,nilearn,nilearn,aabadie,2016-02-02 14:50:12,"Codacy disliked the previous code, if I remove the `del` line there's a flake8 issue on travis.
",8bc3083da7a34c50ddc232d08823fb957aa841d0,"(None, '', u'nilearn/tests/test_niimg_conversions.py')"
33,pull_request_commit_comment,959,nilearn,nilearn,aabadie,2016-02-02 14:51:03,"This generates a flake8 issue on travis (non used variable). Replacing by `b'a' * size` makes codacy fails...
",8bc3083da7a34c50ddc232d08823fb957aa841d0,"(14, '', u'nilearn/tests/test_testing.py')"
34,pull_request_commit_comment,959,nilearn,nilearn,lesteve,2016-02-02 15:37:36,"FWIW I don't think codacy brings much to the table. I'll probably remove it at one point. You can use `return mem_offset` if you really care about getting rid of the flake8 warning.
",8bc3083da7a34c50ddc232d08823fb957aa841d0,"(None, '', u'nilearn/tests/test_niimg_conversions.py')"
35,pull_request_commit_comment,959,nilearn,nilearn,lesteve,2016-02-02 15:39:24,"Use `return mem_use`
",8bc3083da7a34c50ddc232d08823fb957aa841d0,"(14, '', u'nilearn/tests/test_testing.py')"
36,pull_request_commit_comment,959,nilearn,nilearn,aabadie,2016-02-02 16:02:43,"I updated this. Travis and Codacy should be happy now.
",8bc3083da7a34c50ddc232d08823fb957aa841d0,"(None, '', u'nilearn/tests/test_niimg_conversions.py')"
17,issue_comment,959,nilearn,nilearn,lesteve,2016-02-04 14:54:09,"LGTM, let's merge this one and revisit potentially if we think we can improve it.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
21,pull_request_commit_comment,950,nilearn,nilearn,banilo,2016-01-17 23:37:39,"The difference form many other fetchers appears to be gthat the atlas is a set of coordinates and not 3D shapes. That might be mentioned here.
",ae4ac66b339970ff6ce23c22f92ccfef7e2aa2a6,"(None, '', u'nilearn/datasets/atlas.py')"
22,pull_request_commit_comment,950,nilearn,nilearn,GaelVaroquaux,2016-01-18 06:01:03,"> The difference form many other fetchers appears to be gthat the atlas is a set
> of coordinates and not 3D shapes. That might be mentioned here.

I do wonder if we should call this an atlas? Maybe fetch_coords_dosenbach
rather?
",ae4ac66b339970ff6ce23c22f92ccfef7e2aa2a6,"(None, '', u'nilearn/datasets/atlas.py')"
23,pull_request_commit_comment,950,nilearn,nilearn,KamalakerDadi,2016-01-18 10:46:17,"Just curious to know `datasets.fetch_abide_pcp(derivatives=['rois_dosenbach160'])` ?

Is this PR different than we get ?
",ae4ac66b339970ff6ce23c22f92ccfef7e2aa2a6,"(6, '', u'nilearn/datasets/atlas.py')"
12,issue_comment,950,nilearn,nilearn,salma1601,2016-01-18 11:03:12,"> I do wonder if we should call this an atlas? Maybe fetch_coords_dosenbach rather?

I changed the function naming. Then  `fetch_atlas_power_2011` also should be renamed using coords I think.
I have a problem in the documentation: in the modules reference page only the first sentence is given so it stops at ""...Dosenbach et al."" . I don't know how to avoid this ?
@KamalakerDadi  `datasets.fetch_abide_pcp(derivatives=['rois_dosenbach160'])` gives ABIDE time-series extracted from an atlas of spheres of 4.5 mm radius around these coordinates.
",nan,nan
13,issue_comment,950,nilearn,nilearn,GaelVaroquaux,2016-01-18 14:36:59,"> Then fetch_atlas_power_2011 also should be renamed using coords I
> think.

I agree. Do you want to add an issue for that?
",nan,nan
14,issue_comment,950,nilearn,nilearn,salma1601,2016-01-18 14:44:31,"> Do you want to add an issue for that?

Yes, I am a passionate nilearn-issue-generator
Done in #954 
",nan,nan
24,pull_request_commit_comment,950,nilearn,nilearn,banilo,2016-01-18 23:31:46,"write out ""ROI""
",ae4ac66b339970ff6ce23c22f92ccfef7e2aa2a6,"(None, '', u'nilearn/datasets/description/dosenbach_2010.rst')"
25,pull_request_commit_comment,950,nilearn,nilearn,banilo,2016-01-18 23:32:31,"maybe make the type of modularity analysis explicit here, such that one does not need to go back read the paper
",ae4ac66b339970ff6ce23c22f92ccfef7e2aa2a6,"(None, '', u'nilearn/datasets/description/dosenbach_2010.rst')"
26,pull_request_commit_comment,950,nilearn,nilearn,GaelVaroquaux,2016-01-19 06:35:23,"> maybe make the type of modularity analysis explicit here, such that one does
> not need to go back read the paper

Really? I don't think that we should strive to summarize or explain
methods that we are not implementing.
",ae4ac66b339970ff6ce23c22f92ccfef7e2aa2a6,"(None, '', u'nilearn/datasets/description/dosenbach_2010.rst')"
27,pull_request_commit_comment,950,nilearn,nilearn,banilo,2016-01-21 11:19:57,"""modularity analysis"" does not mean anything -> perhaps add a half sentence that at least is not ambiuous about what will be fetched. In short, just say the method exactly.
",ae4ac66b339970ff6ce23c22f92ccfef7e2aa2a6,"(None, '', u'nilearn/datasets/description/dosenbach_2010.rst')"
28,pull_request_commit_comment,950,nilearn,nilearn,banilo,2016-01-21 11:21:15,"maybe move the MNI statement to the returns section
",ae4ac66b339970ff6ce23c22f92ccfef7e2aa2a6,"(None, '', u'nilearn/datasets/atlas.py')"
29,pull_request_commit_comment,950,nilearn,nilearn,banilo,2016-01-21 11:23:17,"grammar: ""assigned to""
",ae4ac66b339970ff6ce23c22f92ccfef7e2aa2a6,"(None, '', u'nilearn/datasets/atlas.py')"
30,pull_request_commit_comment,950,nilearn,nilearn,GaelVaroquaux,2016-01-21 11:52:53,"> > +160 ROIs covering much of the cerebral cortex and cerebellum.
> > +They were obtained from meta-analyses of fMRI activation studies
> > +and assigned into 6 networks according to a modularity analysis of
> 
> ""modularity analysis"" does not mean anything -> perhaps add a half sentence
> that at least is not ambiuous about what will be fetched

That's the terminology they use in the paper. I would simply leave it
like that, and reference the paper.
",ae4ac66b339970ff6ce23c22f92ccfef7e2aa2a6,"(None, '', u'nilearn/datasets/description/dosenbach_2010.rst')"
5,issue_comment,950,nilearn,nilearn,AlexandreAbraham,2016-02-16 13:31:55,"I think that we only need to fix @banilo's comments. For the example, I was thinking of adding dosenbach to my example with the power atlas in #924. What do you think?
",nan,nan
15,issue_comment,950,nilearn,nilearn,salma1601,2016-02-16 14:15:23,"> I was thinking of adding dosenbach to my example with the power atlas in #924.

I was thinking the same thing !

> I think that we only need to fix @banilo's comments

I was waiting for a decision about the naming issue #954. Shall I name it fetch_atlas or fetch_coords or load_coords ??
",nan,nan
6,issue_comment,950,nilearn,nilearn,AlexandreAbraham,2016-02-17 14:42:37,"> I was waiting for a decision about the naming issue #954. Shall I name it fetch_atlas or fetch_coords or load_coords ??

The actual policy in nilearn is to name it `load_atlas`. `load` because it is not downloaded and `atlas` because we do not differentiate atlases from coordinates ATM. I suggest that you set this name and we open an issue to discuss atlas vs. coords.
",nan,nan
16,issue_comment,950,nilearn,nilearn,KamalakerDadi,2016-02-17 14:49:49,"> I suggest that you set this name

meaning `fetch_atlas` ?
",nan,nan
7,issue_comment,950,nilearn,nilearn,AlexandreAbraham,2016-02-17 14:53:53,"`load_atlas`
",nan,nan
8,issue_comment,950,nilearn,nilearn,AlexandreAbraham,2016-02-17 14:56:57,"OK, Kamalakar is right. I thought we had `load_atlas_power` but it's `fetch`. Let's call it `fetch_atlas`
",nan,nan
17,issue_comment,950,nilearn,nilearn,salma1601,2016-02-17 15:17:19,"> I suggest that you set this name and we open an issue to discuss atlas vs. coords.

This is #954.

> Let's call it `fetch_atlas`

Ok, done.
",nan,nan
9,issue_comment,950,nilearn,nilearn,AlexandreAbraham,2016-02-17 15:18:19,"Can you fix the conflicts?
",nan,nan
18,issue_comment,950,nilearn,nilearn,salma1601,2016-02-17 15:23:42,"Yes I am on it
",nan,nan
19,issue_comment,950,nilearn,nilearn,salma1601,2016-02-17 15:42:24,"test_atlas.test_fail_fetch_atlas_harvard_oxford is failing on my labtop.
",nan,nan
10,issue_comment,950,nilearn,nilearn,AlexandreAbraham,2016-02-17 15:47:37,"> merge master

To keep history clean, we do not allow merges. Please rebase.

> test_atlas.test_fail_fetch_atlas_harvard_oxford is failing on my labtop.

Trace?
",nan,nan
20,issue_comment,950,nilearn,nilearn,salma1601,2016-02-17 16:48:19,"> To keep history clean, we do not allow merges. Please rebase.

Sorry. Is it ok now ?

> Trace?

Traceback (most recent call last):
  File ""/usr/lib/python2.7/dist-packages/nose/case.py"", line 197, in runTest
    self.test(*self.arg)
  File ""/home/salma/CODE/Parietal/nilearn/nilearn/datasets/tests/test_atlas.py"", line 143, in test_fail_fetch_atlas_harvard_oxford
    assert_equal(len(ho.labels), 5)
AssertionError: 97 != 5
    '97 != 5' = '%s != %s' % (safe_repr(97), safe_repr(5))
    '97 != 5' = self._formatMessage('97 != 5', '97 != 5')
  raise self.failureException('97 != 5')
",nan,nan
11,issue_comment,950,nilearn,nilearn,AlexandreAbraham,2016-02-17 18:07:05,"You may have local changes, Travis is happy with this test...
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
3,issue_comment,953,nilearn,nilearn,AlexandreAbraham,2016-01-18 14:28:11,"This is a known behavior. The problem is that the cache is invalidated for no reason. PR welcome.
",nan,nan
4,issue_comment,953,nilearn,nilearn,GaelVaroquaux,2016-01-18 14:30:09,"> This is a known behavior. The problem is that the cache is invalidated for no
> reason. PR welcome.

No need to do a PR: the new version of sphinx-gallery will solve this.
We'll need to backport it nilearn as soon as it is released.
",nan,nan
5,issue_comment,953,nilearn,nilearn,AlexandreAbraham,2016-01-18 14:35:05,"> No need to do a PR: the new version of sphinx-gallery will solve this. We'll need to backport it nilearn as soon as it is released.

I didn't know! Great work!
",nan,nan
6,issue_comment,953,nilearn,nilearn,GaelVaroquaux,2016-01-18 14:35:54,"> I didn't know! Great work!

Yup, we need to thank @Titan-C
",nan,nan
7,issue_comment,953,nilearn,nilearn,salma1601,2016-01-18 14:37:17,"Great ! Thanks for the explanation.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
3,issue_comment,955,nilearn,nilearn,banilo,2016-01-18 23:39:38,"LedoitWolf is a shrinkage estimator, whereas EmpiricalCovariance isn't. Perhaps add some diagnostics on the absolute values of the covariance matrices, such as Frobenius norm.
",nan,nan
4,issue_comment,955,nilearn,nilearn,GaelVaroquaux,2016-01-21 07:21:24,"Indeed there is a large difference. It is to be expected.

I think that the best way to compute correlations with LedoitWolf is to standardize the time series first. The reasoning being that LedoitWolf strives to give the best estimate (minimize a risk) of the covariance matrix. If what we want are correlations, we want the best estimate of the covariance of the standardized data.

By the way, such a difference will be also present with something like a GraphLasso for the estimator.

Hence, I would add in the ConnectivityMeasure transformer a test that normalizes time-series before running the covariance estimator if kind==""correlations"".
",nan,nan
5,issue_comment,955,nilearn,nilearn,bthirion,2016-01-21 10:03:53,"+1
Ledoit Wolf shrinks toward the identity matrix, and not an arbitrary diagonal matrix.
",nan,nan
6,issue_comment,955,nilearn,nilearn,AlexandreAbraham,2016-02-03 17:26:59,"Fixed by #968 
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
3,issue_comment,954,nilearn,nilearn,AlexandreAbraham,2016-01-18 14:51:11,"In all papers I've read, this is referred as ""Power atlas"". So I'm -1 on this one. If we start doing this, that means that all ""atlas"" functions should be renames to either ""labels"" or ""maps"" depending on their type.
",nan,nan
4,issue_comment,954,nilearn,nilearn,GaelVaroquaux,2016-01-18 15:04:35,"Hum :$

It's going to make teaching even harder. When I teach I warn users that
they are 2 types of atlases, and I spend time explaining the differences.
How I need to talk about three... I am not very convinced.
",nan,nan
5,issue_comment,954,nilearn,nilearn,salma1601,2016-01-18 15:33:08,"for me the difference is bigger between giving coordinates vs regions than between maps vs labels
",nan,nan
6,issue_comment,954,nilearn,nilearn,banilo,2016-01-18 23:42:58,"Tricky case...introduce something like ""coordinate collections""?

On the top of it, ""fetch"" might not make sense because sets of coordinates are not space/memory-demanding
",nan,nan
7,issue_comment,954,nilearn,nilearn,GaelVaroquaux,2016-01-19 07:09:52,"> On the top of it, ""fetch"" might not make sense because sets of coordinates are
> not space/memory-demanding

Indeed: we are not ""fetching"" them: they are provided in a CSV file in
the repo.

That's an oversight, the function should be named ""load_..."".
",nan,nan
8,issue_comment,954,nilearn,nilearn,lesteve,2016-01-19 08:17:31,"> Indeed: we are not ""fetching"" them: they are provided in a CSV file in
> the repo.
> 
> That's an oversight, the function should be named ""load_..."".

My 2c: I'd rather have a consistent naming with fetch_ rather than something that is based on implementation details (whether the data is part of the repo or not).
",nan,nan
9,issue_comment,954,nilearn,nilearn,GaelVaroquaux,2016-01-19 08:53:44,"> My 2c: I'd rather have a consistent naming with fetch_ rather than something
> that is based on implementation details (whether the data is part of the repo
> or not).

It's not an implementation detail: it's about whether it will download
something or not. Therefore is conditions disk space and the need for
internet access.
",nan,nan
10,issue_comment,954,nilearn,nilearn,lesteve,2016-01-19 11:25:43,"> It's not an implementation detail: it's about whether it will download something or not. Therefore is conditions disk space and the need for internet access.

Not entirely convinced the user cares that much about these details, he just wants to get the data and  vast majority of cases has the resources (internet + disk space) to do so.

Also I could imagine doing `from nilearn.datasets import fetch_atlas<TAB>` and being confused because  fetch_atlas_power_2011 is not listed after the tab completion.
",nan,nan
11,issue_comment,954,nilearn,nilearn,AlexandreAbraham,2016-01-19 11:27:21,"> Also I could imagine doing `from nilearn.datasets import fetch_atlas<TAB>` and being confused because  fetch_atlas_power_2011 is not listed after the tab completion.

Same problem with the `fetch_coords` renaming.
",nan,nan
12,issue_comment,954,nilearn,nilearn,lesteve,2016-01-19 11:31:21,"> Same problem with the fetch_coords renaming.

I was more arguing about fetch_ vs load_ here.
",nan,nan
13,issue_comment,954,nilearn,nilearn,banilo,2016-01-21 11:32:07,"> I was more arguing about fetch_ vs load_ here.

The modern neuroscience hacker working at airports, in train and metro will probably care whether the fast prototyping he or she is effectuating in an IPython notebook will require an internet connection or not....
",nan,nan
14,issue_comment,954,nilearn,nilearn,lesteve,2016-01-21 12:45:14,"> The modern neuroscience hacker working at airports, in train and metro will probably care whether the fast prototyping he or she is effectuating in an IPython notebook will require an internet connection or not....

The modern neuroscience hacker will very likely have the data already downloaded because he uses nilearn extensively :-). Since my previous comment, I realised scikit-learn has this load_ vs fetch_ convention, so that's probably fine if people are used to it.
",nan,nan
15,issue_comment,954,nilearn,nilearn,GaelVaroquaux,2016-01-21 12:45:59,"> The modern neuroscience hacker will very likely have the data already
> downloaded because he uses nilearn extensively :-).

No
",nan,nan
16,issue_comment,954,nilearn,nilearn,lesteve,2016-01-21 12:59:56,"> > The modern neuroscience hacker will very likely have the data already
> >  downloaded because he uses nilearn extensively :-).
> 
> No

For the record that was meant as a tongue in cheek comment. IIRC most datasets in nilearn need to be downloaded the first time. The poor modern neuroscience hacker without an internet connection is slightly out of luck I am afraid, unless of course he has downloaded the dataset already.

Other than that I reckon we are getting a bit side-tracked with respect to the original issue.
",nan,nan
17,issue_comment,954,nilearn,nilearn,GaelVaroquaux,2016-01-21 13:01:45,"> ```
>     The modern neuroscience hacker will very likely have the data already
>     downloaded because he uses nilearn extensively :-).
> 
> No
> ```
> 
> For the record that was meant as a tongue in cheek comment.

Sorry, I forgot the smiley, in my comment.
",nan,nan
18,issue_comment,954,nilearn,nilearn,AlexandreAbraham,2016-02-18 11:23:59,"I'm setting it to milestone 0.2.3 because I think that it is important to make a decision on this subject now.

Regarding atlas vs. coords: I prefer to keep atlas since I've never read Power coordinates anywhere. But I have no strong feelings, I am OK for changing it to coords if majority votes for it.

Regarding fetch vs load: I am not against the distinction between online/offline but what bothers me is that this comes before the fact that the dataset is an atlas. First, I think that the difference between `fetch` and `load` is not clear for everybody (let's ask Baptiste if he knows the difference...). A better option would be to put in the name but further. Something like `fetch_atlas_blabla_offline`. We can even make it closer like `fetch_atlas_offline_blabla` but putting it in first position will lose people that are used to do `fetch_atlas_<TAB>` like Loic said.
",nan,nan
19,issue_comment,954,nilearn,nilearn,bthirion,2016-02-18 22:35:14,"I don't have strong feelings, but `fetch_coords_power_2011` makes it clear that the output is not a standard atlas, so I'd rather go for it. I'm afraid that otherwise people will complain they don't know how to handle it.
",nan,nan
20,issue_comment,954,nilearn,nilearn,AlexandreAbraham,2016-02-18 23:13:41,"Given that most people agree on `coords`, I created a PR to change that #995.

The question `fetch` vs `load` still remains.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
5,issue_comment,897,nilearn,nilearn,salma1601,2015-12-11 14:41:51,"Can we do this while keeping the same ratio ADHD/controls ?
Also, the sites are not ordered when loading ADHD dataset but I don't know if this was done on purpose ...
",nan,nan
3,issue_comment,897,nilearn,nilearn,AlexandreAbraham,2016-02-01 16:41:10,"I was going to ask if the problem was still on. I have several ideas to reduce the amount of data downloaded, but all of them will make the figures generated by CircleCI irrelevant.
",nan,nan
4,issue_comment,897,nilearn,nilearn,AlexandreAbraham,2016-02-01 16:48:50,"I think we should discuss that during a coffee break.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
7,issue_comment,1043,nilearn,nilearn,aabadie,2016-03-02 21:28:21,"LGTM +1
",nan,nan
8,issue_comment,1043,nilearn,nilearn,aabadie,2016-03-02 21:28:49,"Merging thanks !
",nan,nan
5,issue_comment,1043,nilearn,nilearn,GaelVaroquaux,2016-03-02 21:38:00,"I was wondering whether it was not possible / more elegant to solve this issue by loading bytes with a:

```
labels = np.recfromcsv(data_files.session_target[0], delimiter="" "", dtype='str,f8')
```
",nan,nan
6,issue_comment,1043,nilearn,nilearn,GaelVaroquaux,2016-03-02 21:38:57,"> For me, this is not a good fix. I think that we should return unicode strings
> and not rely on byte strings otherwise people will get in trouble when trying
> to select conditions.

It would probably be indeed preferable.
",nan,nan
9,issue_comment,1043,nilearn,nilearn,aabadie,2016-03-03 13:58:49,"@GaelVaroquaux, I tried your proposition, using  `dtype='str,f8'` but it doesn't make it : it returns empty labels.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
6,issue_comment,1042,nilearn,nilearn,aabadie,2016-03-02 15:33:39,"For the record, the issue is that `zmap_imgs` is a `map` and len(map) is not allowed in py3. But looking at the code above this change,  ̀mask` has the same length.
",nan,nan
9,issue_comment,1042,nilearn,nilearn,lesteve,2016-03-02 16:16:14,"The Python2/Python3 inconsistency comes from this [line](https://github.com/nilearn/nilearn/blob/418b646aa6689f94d9aed7b20f9f976fa78ec2d9/nilearn/datasets/func.py#L1294):

``` python
X, y, mask_img = _load_mixed_gambles(map(nibabel.load, data.zmaps))
```

A simple fix would be to useuse a list comprehension.

``` python
X, y, mask_img = _load_mixed_gambles([nibabel.load(fname) for fname in data.zmaps])
```

Maybe there is one of the check_niimg_ helper we can use too, not sure.
",nan,nan
7,issue_comment,1042,nilearn,nilearn,aabadie,2016-03-02 20:28:28,"Indeed @lesteve, your proposition looks better than mine. Will change that.
",nan,nan
8,issue_comment,1042,nilearn,nilearn,aabadie,2016-03-02 21:31:56,"I pushed a new commit using `check_niimg` to return an iterator as you suggested @lesteve and keeping my previous change (using len(mask)). Let's wait for CI's
",nan,nan
5,issue_comment,1042,nilearn,nilearn,GaelVaroquaux,2016-03-03 08:58:44,"LGTM. Thanks!
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
6,issue_comment,1045,nilearn,nilearn,lesteve,2016-03-03 15:18:51,"It looks like the bug mentioned in https://github.com/nilearn/nilearn/issues/712 has been fixed since. See http://www.sphinx-doc.org/en/stable/changes.html#release-1-3-2-released-nov-29-2015 and search for autosummary. So in principle we don't need to use sphinx=1.2.3 anymore. Maybe worth investigating.
",nan,nan
5,issue_comment,1045,nilearn,nilearn,aabadie,2016-03-09 15:10:45,"@GaelVaroquaux, @lesteve, I pushed a fix for generating the documentation with python 3.5 on circle ci. It works now. Can you verify the generated documentation is ok ? https://circle-artifacts.com/gh/aabadie/nilearn/300/artifacts/0/home/ubuntu/nilearn/doc/_build/html/index.html
",nan,nan
7,issue_comment,1045,nilearn,nilearn,lesteve,2016-03-09 15:34:37,"The doc looks fine if you compare [old CircleCI build with sphinx 1.3.1](https://circle-artifacts.com/gh/nilearn/nilearn/150/artifacts/0/home/ubuntu/nilearn/doc/_build/html/modules/reference.html#module-nilearn.datasets) vs [this PR build](https://circle-artifacts.com/gh/aabadie/nilearn/300/artifacts/0/home/ubuntu/nilearn/doc/_build/html/modules/reference.html#module-nilearn.datasets).
",nan,nan
9,pull_request_commit_comment,1045,nilearn,nilearn,lesteve,2016-03-10 08:31:20,"This is slightly weird that you need to add that, but let's move on !
",1b78f1813593581debc67321542d8118b8add2e7,"(7, '', u'doc/conf.py')"
8,issue_comment,1045,nilearn,nilearn,lesteve,2016-03-10 08:31:43,"LGTM merging !
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
16,issue_comment,946,nilearn,nilearn,mrahim,2016-01-14 12:07:21,"Nice.
I have a warning when running my example: `SparseEfficiencyWarning: Changing the sparsity structure of a csr_matrix is expensive. lil_matrix is more efficient. `

Also, I'm wondering if it is better to check if the seed coordinates are inside the mask before continuing. 
In the current case, the error message is unclear `seed empty`.
",nan,nan
5,issue_comment,946,nilearn,nilearn,AlexandreAbraham,2016-01-14 12:43:01,"> I have a warning when running my example: SparseEfficiencyWarning: Changing the sparsity structure of a csr_matrix is expensive. lil_matrix is more efficient. 

Yeah, it can be solved with one line.

> Also, I'm wondering if it is better to check if the seed coordinates are inside the mask before continuing. 
> In the current case, the error message is unclear seed empty.

I do it. However, a masked seed is not a showstopper for me: the rest of the sphere can contain unmasked voxels.
",nan,nan
12,issue_comment,946,nilearn,nilearn,bthirion,2016-01-17 08:26:49,"You could ass teh script as a new test. Besides this, LGTM.
",nan,nan
17,pull_request_commit_comment,946,nilearn,nilearn,banilo,2016-01-17 23:35:56,"comment meaning may remain obscure
",b1d1d21c9fa17b1cd83d8090d43b2a2f2fa18ff1,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
6,issue_comment,946,nilearn,nilearn,AlexandreAbraham,2016-01-28 15:18:08,"I have fixed the Travis failure. However, this failure was due to the fact that scikit learn crashes if we give a mask with only one voxel unmasked to the neighbor graph estimator... There is probably a bug under the hood.
",nan,nan
7,issue_comment,946,nilearn,nilearn,AlexandreAbraham,2016-01-28 15:34:17,"> If you can isolate the scikit-learn bug, it would be great to report it upstream. 

Added on my todo list.

> Did you remove the warning?

Yes.
",nan,nan
8,issue_comment,946,nilearn,nilearn,AlexandreAbraham,2016-02-02 16:21:34,"Build triggered again.
",nan,nan
9,issue_comment,946,nilearn,nilearn,AlexandreAbraham,2016-02-03 14:32:16,"Now it's becoming funny.

In this build: https://ci.appveyor.com/project/nilearn-ci/nilearn/build/1.0.577
- build failed on Python 2.7
- build successful on Python 3.4

In this one: https://ci.appveyor.com/project/nilearn-ci/nilearn/build/1.0.575
- build successful on Python 2.7
- build cancelled on Python 3.4

So, the tests are not intrinsically broken but it seems to introduce some hazardous segfaults in appveyor... I don't know what to do.
",nan,nan
13,issue_comment,946,nilearn,nilearn,GaelVaroquaux,2016-02-03 14:35:41,"Is it the always same test that is segfaulting?
",nan,nan
14,issue_comment,946,nilearn,nilearn,lesteve,2016-02-03 14:40:30,"> In this build: https://ci.appveyor.com/project/nilearn-ci/nilearn/build/1.0.577
> 
>    build failed on Python 2.7

The tests actually seem to run fine with the output:

```
Ran 387 tests in 228.284s
 OK (SKIP=1)
```

I have seen that happening from time to time, but it tends to go away if you kick off another AppVeyor build.

> In this one: https://ci.appveyor.com/project/nilearn-ci/nilearn/build/1.0.575
> 
> build cancelled on Python 3.4

No idea why the build was cancelled.
",nan,nan
15,issue_comment,946,nilearn,nilearn,aabadie,2016-02-03 14:51:17,"> No idea why the build was cancelled.

New jobs requests can cancel previously started jobs. You probably pushed a new commit to that branch (or another PR was updated in the mean time). Maybe we can change this settings on appveyor.
",nan,nan
10,issue_comment,946,nilearn,nilearn,AlexandreAbraham,2016-02-03 14:57:58,"> Is it the always same test that is segfaulting?

There is no segfault in the tests, it's at the end of the tests.

See other people as troubled as we are:
https://github.com/dart-lang/test/issues/356
",nan,nan
11,issue_comment,946,nilearn,nilearn,AlexandreAbraham,2016-02-04 00:30:29,"OK. Looking at the history, the problem on AppVeyor seems to happen quite often. I'm going to merge this one but we should investigate this problem at some point.
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
3,issue_comment,801,nilearn,nilearn,rschmaelzle,2016-02-08 16:45:59,"Hi, that is indeed something I would find handy. Is there perhaps an interim solution? I tried playing with gca.invert_xaxis() but did not succeed. Best, Ralf.
",nan,nan
4,issue_comment,801,nilearn,nilearn,lesteve,2016-02-08 22:50:37,"This is a duplicate of #942, right ?
",nan,nan
5,issue_comment,801,nilearn,nilearn,GaelVaroquaux,2016-02-08 22:54:53,"Indeed, it's a duplicate.

Also,  @rschmaelzle : there is no quick workaround
",nan,nan
 , , , , , , , , , 
 , , , , , , , , , 
